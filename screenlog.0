[?25l[33m115 [0m[4C Node::processQuery (Query* query) {[43;45H[K[44;1H[1m[33m116 [0m[1m assert (query != [4C);                                                                                           [0m[46;104H6[44;28H[34h[?25h[?25l[43;1H[1m[33m115 [0m[4C[1m Node::processQuery (Query* query) {                                                                           [0m[44;1H[33m116 [0m assert (query != [4C);[44;29H[K[46;104H5[43;28H[34h[?25h[?25l[42;1H[1m[33m114 [0m[1m                                                                                                                   [0m[43;1H[33m115 [0m[4C Node::processQuery (Query* query) {[43;45H[K[46;104H4,0-1[42;5H[34h[?25h[?25l[18;48H[46m{[0m[41;1H[1m[33m113 [0m[46m}[0m[1m                                                                                                                  [0m[42;1H[33m114 [0m[42;5H[K[46;104H3,1  [41;5H[34h[?25h[?25l[18;48H{[40;1H[1m[33m112 [0m[1m pthread_exit ([12C);                                                                                      [0m[41;1H[33m113 [0m}[41;6H[K[46;104H2,24[40;28H[34h[?25h[?25l[23;58H[46m{[0m[39;1H[1m[33m111 [0m[1m [0m[46m}[0m[1m                                                                                                                 [0m[40;1H[33m112 [0m pthread_exit ([12C);[40;34H[K[46;104H1,2 [39;6H[34h[?25h[?25l[23;58H{[38;1H[1m[33m110 [0m[1m  [0m[1m[31mdelete[0m[1m query;                                                                                                    [0m[39;1H[33m111 [0m }[39;7H[K[46;104H0,15[38;19H[34h[?25h[?25l[35;14H[46m{[0m

[1m[33m109 [0m[1m  [0m[46m}[0m[1m                                                                                                                [0m[38;1H[33m110 [0m  [31mdelete[0m query;[38;20H[K[46;103H09,3 [37;7H[34h[?25h[?25l[35;14H{
[1m[33m108 [0m[1m   buffer_local.pop();                                                                                             [0m[37;1H[33m109 [0m  }[37;8H[K[46;104H8,22[36;26H[34h[?25h[?25l[35;1H[1m[33m107 [0m[1m  } [0m[1m[31melse[0m[1m [0m[46m{[0m[1m                                                                                                         [0m[36;1H[33m108 [0m   buffer_local.pop();[36;27H[K[37;7H[46m}[0m[46;104H7,10[35;14H[34h[?25h[?25l[34;1H[1m[33m106 [0m[1m                                                                                                                   [0m[35;1H[33m107 [0m  } [31melse[0m {[35;15H[K[37;7H}[46;104H6,0-1[34;5H[34h[?25h[?25l[33;1H[1m[33m105 [0m[1m   buffer_local.pop();                                                                                             [0m[34;1H[33m106 [0m[34;5H[K[46;104H5,22 [33;26H[34h[?25h[?25l[32;1H[1m[33m104 [0m[1m   buffer_neighbor.push[0m[46m([0m[1mquery[0m[46m)[0m[1m;                                                                                    [0m[33;1H[33m105 [0m   buffer_local.pop();[33;27H[K[46;104H4,24[32;28H[34h[?25h[?25l[31;1H[1m[33m103 [0m[1m  [0m[1m[31mif[0m[1m (!processQuery(query)) {                                                                                      [0m[32;1H[33m104 [0m   buffer_neighbor.push(query);[32;36H[K[46;104H3[31;28H[34h[?25h[?25l[30;1H[1m[33m102 [0m[1m                                                                                                                   [0m[31;1H[33m103 [0m  [31mif[0m (!processQuery(query)) {[31;34H[K[46;104H2,0-1[30;5H[34h[?25h[?25l[29;1H[1m[33m101 [0m[1m  Query* query = buffer_local.front();                                                                             [0m[30;1H[33m102 [0m[30;5H[K[46;104H1,24 [29;28H[34h[?25h[?25l[28;1H[1m[33m100 [0m[1m                                                                                                                   [0m[29;1H[33m101 [0m  Query* query = buffer_local.front();[29;43H[K[46;104H0,0-1[28;5H[34h[?25h[?25l[27;1H[1m[33m 99 [0m[1m   [0m[1m[31mcontinue[0m[1m;                                                                                                       [0m[28;1H[33m100 [0m[28;5H[K[46;102H99,12  [27;16H[34h[?25h[?25l[26;1H[1m[33m 98 [0m[1m  [0m[1m[31mif[0m[1m [0m[46m([0m[1mdie_thread[0m[46m)[0m[1m                                                                                                  [0m[27;1H[33m 99 [0m   [31mcontinue[0m;[27;17H[K[46;103H8,17[26;21H[34h[?25h[?25l[25;1H[1m[33m 97 [0m[1m   pthread_mutex_lock (&empty);                                                                                    [0m[26;1H[33m 98 [0m  [31mif[0m (die_thread)[26;22H[K[46;103H7,24[25;28H[34h[?25h[?25l[24;1H[1m[33m 96 [0m[1m  [0m[1m[31mwhile[0m[1m (Queue.empty() && !die_thread)                                                                             [0m[25;1H[33m 97 [0m   pthread_mutex_lock (&empty);[25;36H[K[46;103H6[24;28H[34h[?25h[?25l[23;1H[1m[33m 95 [0m[1m [0m[1m[31mwhile[0m[1m (die_thread != [4C || Queue.empty() != [4C) {                                                             [0m[24;1H[33m 96 [0m  [31mwhile[0m (Queue.empty() && !die_thread) [24;44H[K[46;103H5[23;28H[34h[?25h[?25l[22;1H[1m[33m 94 [0m[1m                                                                                                                   [0m[23;1H[33m 95 [0m [31mwhile[0m (die_thread != [4C || Queue.empty() != [4C) {[23;59H[K[46;103H4,0-1[22;5H[34h[?25h[?25l[21;1H[1m[33m 93 [0m[1m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};                                                             [0m[22;1H[33m 94 [0m[22;5H[K[46;103H3,24 [21;28H[34h[?25h[?25l[20;1H[1m[33m 92 [0m[1m                                                                                                                   [0m[21;1H[33m 93 [0m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};[21;59H[K[46;103H2,0-1[20;5H[34h[?25h[?25l[19;1H[1m[33m 91 [0m[1m Node* node = [0m[1m[31mstatic_cast[0m[1m<Node*> (args);                                                                           [0m[20;1H[33m 92 [0m[20;5H[K[46;103H1,24 [19;28H[34h[?25h[?25l[18;1H[1m[33m 90 [0m[4C[1m* Node::thread_worker_fun ([4C* args) {                                                                       [0m[19;1H[33m 91 [0m Node* node = [31mstatic_cast[0m<Node*> (args);[19;45H[K[46;103H0[18;28H[34h[?25h[?25l[17;1H[1m[33m 89 [0m[1m                                                                                                                   [0m[18;1H[33m 90 [0m[4C* Node::thread_worker_fun ([4C* args) {[18;49H[K[46;102H89,0-1[17;5H[34h[?25h[?25l[16;1H[1m[33m 88 [0m[60C[1m                                                       [0m[17;1H[33m 89 [0m[17;5H[K[46;103H8,24 [16;28H[34h[?25h[?25l[15;1H[1m[33m 87 [0m[60C[1m                                                       [0m[16;1H[33m 88 [0m[16;65H[K[46;103H7[15;28H[34h[?25h[?25l[14;1H[1m[33m 86 [0m[60C[1m                                                       [0m[15;1H[33m 87 [0m[15;65H[K[46;103H6[14;28H[34h[?25h[?25l[13;1H[1m[33m 85 [0m[1m                                                                                                                   [0m[14;1H[33m 86 [0m[14;65H[K[46;103H5,0-1[13;5H[34h[?25h[?25l[10;37H[46m{[0m

[1m[33m 84 [0m[46m}[0m[1m                                                                                                                  [0m[13;1H[33m 85 [0m[13;5H[K[46;103H4,1  [12;5H[34h[?25h[?25l[10;37H{
[1m[33m 83 [0m[1m [42C                                                                        [0m[12;1H[33m 84 [0m}[12;6H[K[46;103H3,24[11;28H[34h[?25h[?25l[10;1H[1m[33m 82 [0m[4C[1m Node::prepare_query ([4C) {                                                                                  [0m[11;1H[33m 83 [0m [11;48H[K[46;103H2[10;28H[34h[?25h[?25l[9;1H[1m[33m 81 [0m[1m                                                                                                                   [0m[10;1H[33m 82 [0m[4C Node::prepare_query ([4C) {[10;38H[K[46;103H1,0-1[9;5H[34h[?25h[?25l[8;1H[1m[33m 80 [0m[1m}                                                                                                                  [0m[9;1H[33m 81 [0m[9;5H[K[46;103H0,1  [8;5H[34h[?25h[?25l[7;1H[1m[33m 79 [0m[1m }                                                                                                                 [0m[8;1H[33m 80 [0m}[8;6H[K[46;102H79,2[7;6H[34h[?25h[?25l[2;30H[46m{[0m[6;1H[1m[33m 78 [0m[1m  [0m[46m}[0m[1m                                                                                                                [0m[7;1H[33m 79 [0m }[7;7H[K[46;103H8,3[6;7H[34h[?25h[?25l[2;30H{


[1m[33m 77 [0m[1m   [14C                                                                                                  [0m[6;1H[33m 78 [0m  }[6;8H[K[46;103H7,17[5;21H[34h[?25h[?25l[4;1H[1m[33m 76 [0m[1m   [43C                                                                     [0m[5;1H[33m 77 [0m   [5;22H[K[46;103H6,24[4;28H[34h[?25h[?25l[3;1H[1m[33m 75 [0m[1m   [43C                                                                     [0m[4;1H[33m 76 [0m   [4;51H[K[46;103H5[3;28H[34h[?25h[?25l[2;1H[1m[33m 74 [0m[1m  } [0m[1m[31mcatch[0m[1m [0m[46m([0m[1mException& e[0m[46m)[0m[1m {                                                                                         [0m[3;1H[33m 75 [0m   [3;51H[K[46;103H4[2;28H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 73 [0m[1m   }                                                                                                               [0m[3;1H[33m 74 [0m  } [31mcatch[0m (Exception& e) {[3;31H[K[46;102H[K[46;102H73,4[10C80%[2;8H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 72 [0m[1m    [0m[1m[31mdefault[0m[1m:    [0m[1m[31mthrow[0m[1m Exception ([0m[1m[35m"Unknown message"[0m[1m);                                                               [0m[3;1H[33m 73 [0m   }[3;9H[K[46;102H[K[46;102H72,24[9C79%[2;28H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 71 [0m[1m    [0m[1m[31mcase[0m[1m QUIT:  node->shutdown();                               [0m[1m[31mbreak[0m[1m;                                             [0m[3;1H[33m 72 [0m    [31mdefault[0m:    [31mthrow[0m Exception ([17C);[3;57H[K[46;102H[K[46;102H71,24[9C78%[2;28H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 70 [0m[1m    [0m[1m[31mcase[0m[1m INFO:  [0m[1m[31m/*node->inform_scheduler();*/[0m[1m                   [0m[1m[31mbreak[0m[1m;                                             [0m[3;1H[33m 71 [0m    [31mcase[0m QUIT:  node->shutdown();                               [31mbreak[0m;[3;75H[K[46;102H[K[46;102H70,24[9C77%[2;28H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 69 [0m[1m    [0m[1m[31mcase[0m[1m QUERY: node->buffer_local.push (ss.recieve<Query>());  [0m[1m[31mbreak[0m[1m;                                             [0m[3;1H[33m 70 [0m    [31mcase[0m INFO:  [29C                   [31mbreak[0m;[3;75H[K[46;102H[K[46;102H69,24[9C76%[2;28H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 68 [0m[1m   [0m[1m[31mswitch[0m[1m [0m[46m([0m[1mss.getType()[0m[46m)[0m[1m {                                                                                         [0m[3;1H[33m 69 [0m    [31mcase[0m QUERY: node->buffer_local.push (ss.recieve<Query>());  [31mbreak[0m;[3;75H[K[46;102H[K[46;102H68,24[9C75%[2;28H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 67 [0m[1m  [0m[1m[31mtry[0m[1m [0m[46m{[0m[1m                                                                                                            [0m[3;1H[33m 68 [0m   [31mswitch[0m (ss.getType()) {[3;31H[K[9;7H[46m}[0m[46;102H[K[46;102H67,7[10C74%[2;11H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 66 [0m[1m [0m[1m[31mwhile[0m[1m ([0m[1m[35mtrue[0m[1m) [0m[46m{[0m[1m                                                                                                    [0m[3;1H[33m 67 [0m  [31mtry[0m {[3;12H[K[10;7H}[15;6H[46m}[0m[46;102H[K[46;102H66,15[9C73%[2;19H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 65 [0m[1m socket_stream ss = node->scheduler->connect();                                                                    [0m[3;1H[33m 66 [0m [31mwhile[0m ([4C) {[3;20H[K[16;6H}[46;102H[K[46;102H65,24[9C71%[2;28H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 64 [0m[1m                                                                                                                   [0m[3;1H[33m 65 [0m socket_stream ss = node->scheduler->connect();[3;52H[K[46;102H[K[46;102H64,0-1[8C70%[2;5H[34h[?25h[?25l[33m 64 [0m[2;5H[K[3;1H[1m[33m 65 [0m[1m socket_stream ss = node->scheduler->connect();                                                                    [0m[46;103H5,1  [3;5H[34h[?25h[?25l[33m 65 [0m socket_stream ss = node->scheduler->connect();[3;52H[K[4;1H[1m[33m 66 [0m[1m [0m[1m[31mwhile[0m[1m ([4C) {                                                                                                    [0m[46;103H6[4;5H[34h[?25h[?25l[33m 66 [0m [31mwhile[0m ([4C) {[4;20H[K[5;1H[1m[33m 67 [0m[1m  [0m[1m[31mtry[0m[1m {                                                                                                            [0m[46;103H7[5;5H[34h[?25h[?25l[33m 67 [0m  [31mtry[0m {[5;12H[K[6;1H[1m[33m 68 [0m[1m   [0m[1m[31mswitch[0m[1m (ss.getType()) {                                                                                         [0m[46;103H8[6;5H[34h[?25h[?25l[33m 68 [0m   [31mswitch[0m (ss.getType()) {[6;31H[K[7;1H[1m[33m 69 [0m[1m    [0m[1m[31mcase[0m[1m QUERY: node->buffer_local.push (ss.recieve<Query>());  [0m[1m[31mbreak[0m[1m;                                             [0m[46;103H9[7;5H[34h[?25h[?25l[33m 69 [0m    [31mcase[0m QUERY: node->buffer_local.push (ss.recieve<Query>());  [31mbreak[0m;[7;75H[K[8;1H[1m[33m 70 [0m[1m    [0m[1m[31mcase[0m[1m INFO:  [29C                   [0m[1m[31mbreak[0m[1m;                                             [0m[46;102H70[8;5H[34h[?25h[?25l[33m 70 [0m    [31mcase[0m INFO:  [29C                   [31mbreak[0m;[8;75H[K[9;1H[1m[33m 71 [0m[1m    [0m[1m[31mcase[0m[1m QUIT:  node->shutdown();                               [0m[1m[31mbreak[0m[1m;                                             [0m[46;103H1[9;5H[34h[?25h[?25l[33m 71 [0m    [31mcase[0m QUIT:  node->shutdown();                               [31mbreak[0m;[9;75H[K[10;1H[1m[33m 72 [0m[1m    [0m[1m[31mdefault[0m[1m:    [0m[1m[31mthrow[0m[1m Exception ([17C);                                                               [0m[46;103H2[10;5H[34h[?25h[?25l[33m 72 [0m    [31mdefault[0m:    [31mthrow[0m Exception ([17C);[10;57H[K[11;1H[1m[33m 73 [0m[1m   }                                                                                                               [0m[46;103H3[11;5H[34h[?25h[?25l[33m 73 [0m   }[11;9H[K[12;1H[1m[33m 74 [0m[1m  } [0m[1m[31mcatch[0m[1m (Exception& e) {                                                                                         [0m[46;103H4[12;5H[34h[?25h[?25l[33m 74 [0m  } [31mcatch[0m (Exception& e) {[12;31H[K[13;1H[1m[33m 75 [0m[1m   [43C                                                                     [0m[46;103H5[13;5H[34h[?25h[?25l[33m 75 [0m   [13;51H[K[14;1H[1m[33m 76 [0m[1m   [43C                                                                     [0m[46;103H6[14;5H[34h[?25h[?25l[33m 76 [0m   [14;51H[K[15;1H[1m[33m 77 [0m[1m   [14C                                                                                                  [0m[46;103H7[15;5H[34h[?25h[?25l[33m 77 [0m   [15;22H[K[16;1H[1m[33m 78 [0m[1m  }                                                                                                                [0m[46;103H8[16;5H[34h[?25h[?25l[33m 78 [0m  }[16;8H[K[17;1H[1m[33m 79 [0m[1m }                                                                                                                 [0m[46;103H9[17;5H[34h[?25h[?25l[33m 79 [0m }[17;7H[K[18;1H[1m[33m 80 [0m[1m}                                                                                                                  [0m[46;102H80[18;5H[34h[?25h[?25l[33m 80 [0m}[18;6H[K[19;1H[1m[33m 81 [0m[1m                                                                                                                   [0m[46;103H1,0-1[19;5H[34h[?25h[?25l[33m 81 [0m[19;5H[K[20;1H[1m[33m 82 [0m[4C[1m Node::prepare_query ([4C) {                                                                                  [0m[46;103H2,1  [20;5H[34h[?25h[?25l[33m 82 [0m[4C Node::prepare_query ([4C) {[20;38H[K[21;1H[1m[33m 83 [0m[1m [42C                                                                        [0m[46;103H3[21;5H[34h[?25h[?25l[20;37H[46m{[0m
[33m 83 [0m [21;48H[K[22;1H[1m[33m 84 [0m[46m}[0m[1m                                                                                                                  [0m[46;103H4[22;5H[34h[?25h[?25l[20;37H{

[33m 84 [0m}[22;6H[K[23;1H[1m[33m 85 [0m[1m                                                                                                                   [0m[46;103H5,0-1[23;5H[34h[?25h[?25l[33m 85 [0m[23;5H[K[24;1H[1m[33m 86 [0m[60C[1m                                                       [0m[46;103H6,1  [24;5H[34h[?25h[?25l[33m 86 [0m[24;65H[K[25;1H[1m[33m 87 [0m[60C[1m                                                       [0m[46;103H7[25;5H[34h[?25h[?25l[33m 87 [0m[25;65H[K[26;1H[1m[33m 88 [0m[60C[1m                                                       [0m[46;103H8[26;5H[34h[?25h[?25l[33m 88 [0m[26;65H[K[27;1H[1m[33m 89 [0m[1m                                                                                                                   [0m[46;103H9,0-1[27;5H[34h[?25h[?25l[33m 89 [0m[27;5H[K[28;1H[1m[33m 90 [0m[4C[1m* Node::thread_worker_fun ([4C* args) {                                                                       [0m[46;102H90,1  [28;5H[34h[?25h[?25l[33m 90 [0m[4C* Node::thread_worker_fun ([4C* args) {[28;49H[K[29;1H[1m[33m 91 [0m[1m Node* node = [0m[1m[31mstatic_cast[0m[1m<Node*> (args);                                                                           [0m[46;103H1[29;5H[34h[?25h[?25l[33m 91 [0m Node* node = [31mstatic_cast[0m<Node*> (args);[29;45H[K[30;1H[1m[33m 92 [0m[1m                                                                                                                   [0m[46;103H2,0-1[30;5H[34h[?25h[?25l[33m 92 [0m[30;5H[K[31;1H[1m[33m 93 [0m[1m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};                                                             [0m[46;103H3,1  [31;5H[34h[?25h[?25l[33m 93 [0m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};[31;59H[K[32;1H[1m[33m 94 [0m[1m                                                                                                                   [0m[46;103H4,0-1[32;5H[34h[?25h[?25l[33m 94 [0m[32;5H[K[33;1H[1m[33m 95 [0m[1m [0m[1m[31mwhile[0m[1m (die_thread != [4C || Queue.empty() != [4C) {                                                             [0m[46;103H5,1  [33;5H[34h[?25h[?25l[33m 95 [0m [31mwhile[0m (die_thread != [4C || Queue.empty() != [4C) {[33;59H[K[34;1H[1m[33m 96 [0m[1m  [0m[1m[31mwhile[0m[1m (Queue.empty() && !die_thread)                                                                             [0m[46;103H6[34;5H[34h[?25h[?25l[33m 96 [0m  [31mwhile[0m (Queue.empty() && !die_thread) [34;44H[K[35;1H[1m[33m 97 [0m[1m   pthread_mutex_lock (&empty);                                                                                    [0m[46;103H7[35;5H[34h[?25h[?25l[33m 97 [0m   pthread_mutex_lock (&empty);[35;36H[K[36;1H[1m[33m 98 [0m[1m  [0m[1m[31mif[0m[1m (die_thread)                                                                                                  [0m[46;103H8[36;5H[34h[?25h[?25l[46;102H[K[46;1H:[34h[?25h[?25l[46;1H[K[46;102H98,1[10C70%[36;5H[34h[?25h[?25l[46;102H[K[46;1H:[34h[?25h [?25l[100C98,1[10C70%[36;5H[34h[?25h[23m[24m[0m[H[J[1;1H[4m[30m[47m i/s/node.hh [24m[0m[1m s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m                                               [0m[1;119H[4m[30m[47mX[?25l[24m[0m[2;1H[33m 26 
 27 [0m [31mdelete[0m attributes;
[33m 28 [0m [31mdelete[0m scheduler;
[33m 29 [0m [31mdelete[0m neighbor;
[33m 30 [0m}
[33m 31 
 32 [0m[1m[34mbool[0m Node::init () {
[33m 33 [0m pthread_mutex_lock (&lock_scheduler_empty);
[33m 34 [0m pthread_mutex_lock (&lock_neighbor_empty);
[33m 35 
 36 [0m scheduler->connect();
[33m 37 [0m [31mreturn[0m [1m[35mtrue[0m;
[33m 38 [0m}
[33m 39 
 40 [0m[1m[34mbool[0m Node::start () {
[33m 41 [0m pthread_create (&thread_scheduler, [1m[35mNULL[0m, &thread_scheduler_fun , [31mthis[0m);
[33m 42 [0m pthread_create (&thread_worker,    [1m[35mNULL[0m, &thread_worker_fun,     [31mthis[0m);
[33m 43 [0m pthread_create (&thread_neighbor,  [1m[35mNULL[0m, &thread_neighbor_fun,   [31mthis[0m);
[33m 44 
 45 [0m pthread_join (thread_scheduler, [1m[35mNULL[0m);
[33m 46 [0m pthread_join (thread_neighbor,  [1m[35mNULL[0m);
[33m 47 [0m pthread_join (thread_worker,    [1m[35mNULL[0m);
[33m 48 
 49 [0m [31mreturn[0m [1m[35mtrue[0m;
[33m 50 [0m}
[33m 51 
 52 [0m[1m[31m// ------------------------------------------------------ //[0m
[33m 53 [0m[1m[31m//                                                        //[0m
[33m 54 [0m[1m[31m// ------------------------------------------------------ //[0m
[33m 55 
 56 [0m[1m[31m//ToDo[0m
[33m 57 [0m[1m[34mvoid[0m* Node::thread_neighbor_fun ([1m[34mvoid[0m* args) {}
[33m 58 [0m[1m[31m// ------------------------------------------------------ //[0m
[33m 59 [0m[1m[31m//              RECIEVING QUERIES SIDE                    //[0m
[33m 60 [0m[1m[31m// ------------------------------------------------------ //[0m
[33m 61 
 62 [0m[1m[34mvoid[0m* Node::thread_scheduler_fun ([1m[34mvoid[0m* args) {
[33m 63 [0m Node* node = [31mstatic_cast[0m<Node*> (args);
[33m 64 
 65 [0m socket_stream ss = node->scheduler->connect();
[33m 66 [0m [31mwhile[0m ([1m[35mtrue[0m) {
[33m 67 [0m  [31mtry[0m {
[33m 68 [0m   [31mswitch[0m (ss.getType()) {
[33m 69 [0m    [31mcase[0m QUERY: node->buffer_local.push (ss.recieve<Query>());  [31mbreak[0m;
[33m 70 [0m    [31mcase[0m INFO:  [1m[31m/*node->inform_scheduler();*/[0m[19C[31mbreak[0m;
[33m 71 [0m    [31mcase[0m QUIT:  node->shutdown();[31C[31mbreak[0m;
[33m 72 [0m    [31mdefault[0m:    [31mthrow[0m Exception ([1m[35m"Unknown message"[0m);
[33m 73 [0m   }
[33m 74 [0m  } [31mcatch[0m (Exception& e) {
[33m 75 [0m   [1m[31m//Some routine to reset sockets and inform [0m
[33m 76 [0m   [1m[31m//To scheduler some miss-wrong message and [0m
[33m 77 [0m   [1m[31m//recieve back[0m
[33m 78 [0m  }
[33m 79 [0m }
[33m 80 [0m}
[33m 81 
 82 [0m[1m[34mvoid[0m Node::prepare_query ([1m[34mvoid[0m) {
[33m 83 [0m [1m[31m//buffer_local.push (ss.recieve<query>());[0m
[33m 84 [0m}
[33m 85 
 86 [0m[1m[31m// ------------------------------------------------------ //[0m
[33m 87 [0m[1m[31m//                PROCESSING QUERY SIDE                   //[0m
[33m 88 [0m[1m[31m// ------------------------------------------------------ //[0m
[33m 89 
 90 [0m[1m[34mvoid[0m* Node::thread_worker_fun ([1m[34mvoid[0m* args) {
[33m 91 [0m Node* node = [31mstatic_cast[0m<Node*> (args);
[33m 92 
 93 [0m [1m[34muint64_t[0m* hitmiss_count[[1m[35m2[0m] = {&hitCount, &missCount};
[33m 94 
 95 [0m [31mwhile[0m (die_thread != [1m[35mtrue[0m || Queue.empty() != [1m[35mtrue[0m) {
[33m 96 [0m  [31mwhile[0m (Queue.empty() && !die_thread)
[33m 97 [0m   pthread_mutex_lock (&empty);
[1m[33m 98 [0m[1m  [0m[1m[31mif[0m[1m (die_thread)                                                                                                  [0m[75;1H[33m 99 [0m   [31mcontinue[0m;
[33m100 
101 [0m  Query* query = buffer_local.front();
[33m102 
103 [0m  [31mif[0m (!processQuery(query)) {
[33m104 [0m   buffer_neighbor.push(query);
[33m105 [0m   buffer_local.pop();
[33m106 
107 [0m  } [31melse[0m {
[33m108 [0m   buffer_local.pop();
[33m109 [0m  }
[33m110 [0m  [31mdelete[0m query;
[33m111 [0m }
[33m112 [0m pthread_exit ([1m[35mEXIT_SUCCESS[0m);
[33m113 [0m}
[33m114 
115 [0m[1m[34mbool[0m Node::processQuery (Query* query) {
[33m116 [0m assert (query != [1m[35mNULL[0m);
[33m117 [0m[94;102H98,1[10C60%[74;5H[34h[?25h[?25l[34h[?25h[23m[24m[0m[H[J[1;1H[4m[30m[47m i/s/node.hh [24m[0m[1m s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m                                               [0m[1;119H[4m[30m[47mX[?25l[24m[0m[2;1H[33m 64 
 65 [0m socket_stream ss = node->scheduler->connect();
[33m 66 [0m [31mwhile[0m ([1m[35mtrue[0m) {
[33m 67 [0m  [31mtry[0m {
[33m 68 [0m   [31mswitch[0m (ss.getType()) {
[33m 69 [0m    [31mcase[0m QUERY: node->buffer_local.push (ss.recieve<Query>());  [31mbreak[0m;
[33m 70 [0m    [31mcase[0m INFO:  [1m[31m/*node->inform_scheduler();*/[0m[19C[31mbreak[0m;
[33m 71 [0m    [31mcase[0m QUIT:  node->shutdown();[31C[31mbreak[0m;
[33m 72 [0m    [31mdefault[0m:    [31mthrow[0m Exception ([1m[35m"Unknown message"[0m);
[33m 73 [0m   }
[33m 74 [0m  } [31mcatch[0m (Exception& e) {
[33m 75 [0m   [1m[31m//Some routine to reset sockets and inform [0m
[33m 76 [0m   [1m[31m//To scheduler some miss-wrong message and [0m
[33m 77 [0m   [1m[31m//recieve back[0m
[33m 78 [0m  }
[33m 79 [0m }
[33m 80 [0m}
[33m 81 
 82 [0m[1m[34mvoid[0m Node::prepare_query ([1m[34mvoid[0m) {
[33m 83 [0m [1m[31m//buffer_local.push (ss.recieve<query>());[0m
[33m 84 [0m}
[33m 85 
 86 [0m[1m[31m// ------------------------------------------------------ //[0m
[33m 87 [0m[1m[31m//                PROCESSING QUERY SIDE                   //[0m
[33m 88 [0m[1m[31m// ------------------------------------------------------ //[0m
[33m 89 
 90 [0m[1m[34mvoid[0m* Node::thread_worker_fun ([1m[34mvoid[0m* args) {
[33m 91 [0m Node* node = [31mstatic_cast[0m<Node*> (args);
[33m 92 
 93 [0m [1m[34muint64_t[0m* hitmiss_count[[1m[35m2[0m] = {&hitCount, &missCount};
[33m 94 
 95 [0m [31mwhile[0m (die_thread != [1m[35mtrue[0m || Queue.empty() != [1m[35mtrue[0m) {
[33m 96 [0m  [31mwhile[0m (Queue.empty() && !die_thread)
[33m 97 [0m   pthread_mutex_lock (&empty);
[1m[33m 98 [0m[1m  [0m[1m[31mif[0m[1m (die_thread)                                                                                                  [0m[37;1H[33m 99 [0m   [31mcontinue[0m;
[33m100 
101 [0m  Query* query = buffer_local.front();
[33m102 
103 [0m  [31mif[0m (!processQuery(query)) {
[33m104 [0m   buffer_neighbor.push(query);
[33m105 [0m   buffer_local.pop();
[33m106 
107 [0m  } [31melse[0m {[46;102H98,1[10C70%[36;5H[34h[?25h[?25l[35;1H[1m[33m 97 [0m[1m   pthread_mutex_lock (&empty);                                                                                    [0m[36;1H[33m 98 [0m  [31mif[0m (die_thread)[36;22H[K[46;103H7[35;5H[34h[?25h[?25l[34;1H[1m[33m 96 [0m[1m  [0m[1m[31mwhile[0m[1m (Queue.empty() && !die_thread)                                                                             [0m[35;1H[33m 97 [0m   pthread_mutex_lock (&empty);[35;36H[K[46;103H6[34;5H[34h[?25h[?25l[33;1H[1m[33m 95 [0m[1m [0m[1m[31mwhile[0m[1m (die_thread != [4C || Queue.empty() != [4C) {                                                             [0m[34;1H[33m 96 [0m  [31mwhile[0m (Queue.empty() && !die_thread) [34;44H[K[46;103H5[33;5H[34h[?25h[?25l[32;1H[1m[33m 94 [0m[1m                                                                                                                   [0m[33;1H[33m 95 [0m [31mwhile[0m (die_thread != [4C || Queue.empty() != [4C) {[33;59H[K[46;103H4,0-1[32;5H[34h[?25h[?25l[31;1H[1m[33m 93 [0m[1m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};                                                             [0m[32;1H[33m 94 [0m[32;5H[K[46;103H3,1  [31;5H[34h[?25h[?25l[30;1H[1m[33m 92 [0m[1m                                                                                                                   [0m[31;1H[33m 93 [0m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};[31;59H[K[46;103H2,0-1[30;5H[34h[?25h[?25l[29;1H[1m[33m 91 [0m[1m Node* node = [0m[1m[31mstatic_cast[0m[1m<Node*> (args);                                                                           [0m[30;1H[33m 92 [0m[30;5H[K[46;103H1,1  [29;5H[34h[?25h[?25l[28;1H[1m[33m 90 [0m[4C[1m* Node::thread_worker_fun ([4C* args) {                                                                       [0m[29;1H[33m 91 [0m Node* node = [31mstatic_cast[0m<Node*> (args);[29;45H[K[46;103H0[28;5H[34h[?25h[?25l[27;1H[1m[33m 89 [0m[1m                                                                                                                   [0m[28;1H[33m 90 [0m[4C* Node::thread_worker_fun ([4C* args) {[28;49H[K[46;102H89,0-1[27;5H[34h[?25h[?25l[26;1H[1m[33m 88 [0m[60C[1m                                                       [0m[27;1H[33m 89 [0m[27;5H[K[46;103H8,1  [26;5H[34h[?25h[?25l[25;1H[1m[33m 87 [0m[60C[1m                                                       [0m[26;1H[33m 88 [0m[26;65H[K[46;103H7[25;5H[34h[?25h[?25l[24;1H[1m[33m 86 [0m[60C[1m                                                       [0m[25;1H[33m 87 [0m[25;65H[K[46;103H6[24;5H[34h[?25h[?25l[23;1H[1m[33m 85 [0m[1m                                                                                                                   [0m[24;1H[33m 86 [0m[24;65H[K[46;103H5,0-1[23;5H[34h[?25h[?25l[20;37H[46m{[0m

[1m[33m 84 [0m[46m}[0m[1m                                                                                                                  [0m[23;1H[33m 85 [0m[23;5H[K[46;103H4,1  [22;5H[34h[?25h[?25l[20;37H{
[1m[33m 83 [0m[1m [42C                                                                        [0m[22;1H[33m 84 [0m}[22;6H[K[46;103H3[21;5H[34h[?25h[?25l[20;1H[1m[33m 82 [0m[4C[1m Node::prepare_query ([4C) {                                                                                  [0m[21;1H[33m 83 [0m [21;48H[K[46;103H2[20;5H[34h[?25h[?25l[19;1H[1m[33m 81 [0m[1m                                                                                                                   [0m[20;1H[33m 82 [0m[4C Node::prepare_query ([4C) {[20;38H[K[46;103H1,0-1[19;5H[34h[?25h[?25l[18;1H[1m[33m 80 [0m[1m}                                                                                                                  [0m[19;1H[33m 81 [0m[19;5H[K[46;103H0,1  [18;5H[34h[?25h[?25l[17;1H[1m[33m 79 [0m[1m }                                                                                                                 [0m[18;1H[33m 80 [0m}[18;6H[K[46;102H79[17;5H[34h[?25h[?25l[16;1H[1m[33m 78 [0m[1m  }                                                                                                                [0m[17;1H[33m 79 [0m }[17;7H[K[46;103H8[16;5H[34h[?25h[?25l[15;1H[1m[33m 77 [0m[1m   [14C                                                                                                  [0m[16;1H[33m 78 [0m  }[16;8H[K[46;103H7[15;5H[34h[?25h[?25l[14;1H[1m[33m 76 [0m[1m   [43C                                                                     [0m[15;1H[33m 77 [0m   [15;22H[K[46;103H6[14;5H[34h[?25h[?25l[13;1H[1m[33m 75 [0m[1m   [43C                                                                     [0m[14;1H[33m 76 [0m   [14;51H[K[46;103H5[13;5H[34h[?25h[?25l[12;1H[1m[33m 74 [0m[1m  } [0m[1m[31mcatch[0m[1m (Exception& e) {                                                                                         [0m[13;1H[33m 75 [0m   [13;51H[K[46;103H4[12;5H[34h[?25h[?25l[11;1H[1m[33m 73 [0m[1m   }                                                                                                               [0m[12;1H[33m 74 [0m  } [31mcatch[0m (Exception& e) {[12;31H[K[46;103H3[11;5H[34h[?25h[?25l[10;1H[1m[33m 72 [0m[1m    [0m[1m[31mdefault[0m[1m:    [0m[1m[31mthrow[0m[1m Exception ([17C);                                                               [0m[11;1H[33m 73 [0m   }[11;9H[K[46;103H2[10;5H[34h[?25h[?25l[9;1H[1m[33m 71 [0m[1m    [0m[1m[31mcase[0m[1m QUIT:  node->shutdown();                               [0m[1m[31mbreak[0m[1m;                                             [0m[10;1H[33m 72 [0m    [31mdefault[0m:    [31mthrow[0m Exception ([17C);[10;57H[K[46;103H1[9;5H[34h[?25h[?25l[8;1H[1m[33m 70 [0m[1m    [0m[1m[31mcase[0m[1m INFO:  [29C                   [0m[1m[31mbreak[0m[1m;                                             [0m[9;1H[33m 71 [0m    [31mcase[0m QUIT:  node->shutdown();                               [31mbreak[0m;[9;75H[K[46;103H0[8;5H[34h[?25h[?25l[7;1H[1m[33m 69 [0m[1m    [0m[1m[31mcase[0m[1m QUERY: node->buffer_local.push (ss.recieve<Query>());  [0m[1m[31mbreak[0m[1m;                                             [0m[8;1H[33m 70 [0m    [31mcase[0m INFO:  [29C                   [31mbreak[0m;[8;75H[K[46;102H69[7;5H[34h[?25h[?25l[6;1H[1m[33m 68 [0m[1m   [0m[1m[31mswitch[0m[1m (ss.getType()) {                                                                                         [0m[7;1H[33m 69 [0m    [31mcase[0m QUERY: node->buffer_local.push (ss.recieve<Query>());  [31mbreak[0m;[7;75H[K[46;103H8[6;5H[34h[?25h[?25l[5;1H[1m[33m 67 [0m[1m  [0m[1m[31mtry[0m[1m {                                                                                                            [0m[6;1H[33m 68 [0m   [31mswitch[0m (ss.getType()) {[6;31H[K[46;103H7[5;5H[34h[?25h[?25l[4;1H[1m[33m 66 [0m[1m [0m[1m[31mwhile[0m[1m ([4C) {                                                                                                    [0m[5;1H[33m 67 [0m  [31mtry[0m {[5;12H[K[46;103H6[4;5H[34h[?25h[?25l[3;1H[1m[33m 65 [0m[1m socket_stream ss = node->scheduler->connect();                                                                    [0m[4;1H[33m 66 [0m [31mwhile[0m ([4C) {[4;20H[K[46;103H5[3;5H[34h[?25h[?25l[2;1H[1m[33m 64 [0m[1m                                                                                                                   [0m[3;1H[33m 65 [0m socket_stream ss = node->scheduler->connect();[3;52H[K[46;103H4,0-1[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 63 [0m[1m Node* node = [0m[1m[31mstatic_cast[0m[1m<Node*> (args);                                                                           [0m[3;1H[33m 64 [0m[3;5H[K[46;102H[K[46;102H63,1[10C69%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 62 [0m[1m[34mvoid[0m[1m* Node::thread_scheduler_fun ([0m[1m[34mvoid[0m[1m* args) {                                                                    [0m[3;1H[33m 63 [0m Node* node = [31mstatic_cast[0m<Node*> (args);[3;45H[K[46;102H[K[46;102H62,1[10C68%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 61 [0m[1m                                                                                                                   [0m[3;1H[33m 62 [0m[4C* Node::thread_scheduler_fun ([4C* args) { [3;53H[K[46;102H[K[46;102H61,0-1[8C67%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 60 [0m[1m[31m// ------------------------------------------------------ //[0m[1m                                                       [0m[3;1H[33m 61 [0m[3;5H[K[46;102H[K[46;102H60,1[10C66%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 59 [0m[1m[31m//              RECIEVING QUERIES SIDE                    //[0m[1m                                                       [0m[3;1H[33m 60 [0m[3;65H[K[46;102H[K[46;102H59,1[10C65%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 58 [0m[1m[31m// ------------------------------------------------------ //[0m[1m                                                       [0m[3;1H[33m 59 [0m[3;65H[K[46;102H[K[46;102H58,1[10C64%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 57 [0m[1m[34mvoid[0m[1m* Node::thread_neighbor_fun ([0m[1m[34mvoid[0m[1m* args) {}                                                                    [0m[3;1H[33m 58 [0m[3;65H[K[46;102H[K[46;102H57,1[10C62%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 56 [0m[1m[31m//ToDo[0m[1m                                                                                                             [0m[3;1H[33m 57 [0m[4C* Node::thread_neighbor_fun ([4C* args) {}[3;52H[K[46;102H[K[46;102H56,1[10C61%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 55 [0m[1m                                                                                                                   [0m[3;1H[33m 56 [0m[3;11H[K[46;102H[K[46;102H55,0-1[8C60%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 54 [0m[1m[31m// ------------------------------------------------------ //[0m[1m                                                       [0m[3;1H[33m 55 [0m[3;5H[K[46;102H[K[46;102H54,1[10C59%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 53 [0m[1m[31m//                                                        //[0m[1m                                                       [0m[3;1H[33m 54 [0m[3;65H[K[46;102H[K[46;102H53,1[10C58%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 52 [0m[1m[31m// ------------------------------------------------------ //[0m[1m                                                       [0m[3;1H[33m 53 [0m[3;65H[K[46;102H[K[46;102H52,1[10C57%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 51 [0m[1m                                                                                                                   [0m[3;1H[33m 52 [0m[3;65H[K[46;102H[K[46;102H51,0-1[8C56%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 50 [0m[1m}                                                                                                                  [0m[3;1H[33m 51 [0m[3;5H[K[46;102H[K[46;102H50,1[10C55%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 49 [0m[1m [0m[1m[31mreturn[0m[1m [0m[1m[35mtrue[0m[1m;                                                                                                      [0m[3;1H[33m 50 [0m}[3;6H[K[46;102H[K[46;102H49,1[10C53%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 48 [0m[1m                                                                                                                   [0m[3;1H[33m 49 [0m [31mreturn[0m [4C;[3;18H[K[46;102H[K[46;102H48,0-1[8C52%[2;5H[34h[?25h[?25l[33m 48 [0m[2;5H[K[3;1H[1m[33m 49 [0m[1m [0m[1m[31mreturn[0m[1m [4C;                                                                                                      [0m[46;103H9,1  [3;5H[34h[?25h[?25l[33m 49 [0m [31mreturn[0m [4C;[3;18H[K[4;1H[1m[33m 50 [0m[1m}                                                                                                                  [0m[46;102H50[4;5H[34h[?25h[?25l[33m 50 [0m}[4;6H[K[5;1H[1m[33m 51 [0m[1m                                                                                                                   [0m[46;103H1,0-1[5;5H[34h[?25h[?25l[33m 51 [0m[5;5H[K[6;1H[1m[33m 52 [0m[60C[1m                                                       [0m[46;103H2,1  [6;5H[34h[?25h[?25l[33m 52 [0m[6;65H[K[7;1H[1m[33m 53 [0m[60C[1m                                                       [0m[46;103H3[7;5H[34h[?25h[?25l[33m 53 [0m[7;65H[K[8;1H[1m[33m 54 [0m[60C[1m                                                       [0m[46;103H4[8;5H[34h[?25h[?25l[33m 54 [0m[8;65H[K[9;1H[1m[33m 55 [0m[1m                                                                                                                   [0m[46;103H5,0-1[9;5H[34h[?25h[?25l[33m 55 [0m[9;5H[K[10;1H[1m[33m 56 [0m[6C[1m                                                                                                             [0m[46;103H6,1  [10;5H[34h[?25h[?25l[33m 56 [0m[10;11H[K[11;1H[1m[33m 57 [0m[4C[1m* Node::thread_neighbor_fun ([4C* args) {}                                                                    [0m[46;103H7[11;5H[34h[?25h[?25l[33m 57 [0m[4C* Node::thread_neighbor_fun ([4C* args) {}[11;52H[K[12;1H[1m[33m 58 [0m[60C[1m                                                       [0m[46;103H8[12;5H[34h[?25h[?25l[33m 58 [0m[12;65H[K[13;1H[1m[33m 59 [0m[60C[1m                                                       [0m[46;103H9[13;5H[34h[?25h[?25l[33m 59 [0m[13;65H[K[14;1H[1m[33m 60 [0m[60C[1m                                                       [0m[46;102H60[14;5H[34h[?25h[?25l[33m 60 [0m[14;65H[K[15;1H[1m[33m 61 [0m[1m                                                                                                                   [0m[46;103H1,0-1[15;5H[34h[?25h[?25l[33m 61 [0m[15;5H[K[16;1H[1m[33m 62 [0m[4C[1m* Node::thread_scheduler_fun ([4C* args) {                                                                    [0m[46;103H2,1  [16;5H[34h[?25h[?25l[33m 62 [0m[4C* Node::thread_scheduler_fun ([4C* args) { [16;53H[K[17;1H[1m[33m 63 [0m[1m Node* node = [0m[1m[31mstatic_cast[0m[1m<Node*> (args);                                                                           [0m[46;103H3[17;5H[34h[?25h[?25l[33m 63 [0m Node* node = [31mstatic_cast[0m<Node*> (args);[17;45H[K[18;1H[1m[33m 64 [0m[1m                                                                                                                   [0m[46;103H4,0-1[18;5H[34h[?25h[?25l[33m 64 [0m[18;5H[K[19;1H[1m[33m 65 [0m[1m socket_stream ss = node->scheduler->connect();                                                                    [0m[46;103H5,1  [19;5H[34h[?25h[?25l[33m 65 [0m socket_stream ss = node->scheduler->connect();[19;52H[K[20;1H[1m[33m 66 [0m[1m [0m[1m[31mwhile[0m[1m ([4C) {                                                                                                    [0m[46;103H6[20;5H[34h[?25h[?25l[33m 66 [0m [31mwhile[0m ([4C) {[20;20H[K[21;1H[1m[33m 67 [0m[1m  [0m[1m[31mtry[0m[1m {                                                                                                            [0m[46;103H7[21;5H[34h[?25h[?25l[33m 67 [0m  [31mtry[0m {[21;12H[K[22;1H[1m[33m 68 [0m[1m   [0m[1m[31mswitch[0m[1m (ss.getType()) {                                                                                         [0m[46;103H8[22;5H[34h[?25h[?25l[21;1H[1m[33m 67 [0m[1m  [0m[1m[31mtry[0m[1m {                                                                                                            [0m[22;1H[33m 68 [0m   [31mswitch[0m (ss.getType()) {[22;31H[K[46;103H7[21;5H[34h[?25h[?25l[20;1H[1m[33m 66 [0m[1m [0m[1m[31mwhile[0m[1m ([4C) {                                                                                                    [0m[21;1H[33m 67 [0m  [31mtry[0m {[21;12H[K[46;103H6[20;5H[34h[?25h[?25l[19;1H[1m[33m 65 [0m[1m socket_stream ss = node->scheduler->connect();                                                                    [0m[20;1H[33m 66 [0m [31mwhile[0m ([4C) {[20;20H[K[46;103H5[19;5H[34h[?25h[?25l[18;1H[1m[33m 64 [0m[1m                                                                                                                   [0m[19;1H[33m 65 [0m socket_stream ss = node->scheduler->connect();[19;52H[K[46;103H4,0-1[18;5H[34h[?25h[?25l[17;1H[1m[33m 63 [0m[1m Node* node = [0m[1m[31mstatic_cast[0m[1m<Node*> (args);                                                                           [0m[18;1H[33m 64 [0m[18;5H[K[46;103H3,1  [17;5H[34h[?25h[?25l[16;1H[1m[33m 62 [0m[4C[1m* Node::thread_scheduler_fun ([4C* args) {                                                                    [0m[17;1H[33m 63 [0m Node* node = [31mstatic_cast[0m<Node*> (args);[17;45H[K[46;103H2[16;5H[34h[?25h[?25l[15;1H[1m[33m 61 [0m[1m                                                                                                                   [0m[16;1H[33m 62 [0m[4C* Node::thread_scheduler_fun ([4C* args) { [16;53H[K[46;103H1,0-1[15;5H[34h[?25h[?25l[14;1H[1m[33m 60 [0m[60C[1m                                                       [0m[15;1H[33m 61 [0m[15;5H[K[46;103H0,1  [14;5H[34h[?25h[?25l[13;1H[1m[33m 59 [0m[60C[1m                                                       [0m[14;1H[33m 60 [0m[14;65H[K[46;102H59[13;5H[34h[?25h[?25l[12;1H[1m[33m 58 [0m[60C[1m                                                       [0m[13;1H[33m 59 [0m[13;65H[K[46;103H8[12;5H[34h[?25h[?25l[11;1H[1m[33m 57 [0m[4C[1m* Node::thread_neighbor_fun ([4C* args) {}                                                                    [0m[12;1H[33m 58 [0m[12;65H[K[46;103H7[11;5H[34h[?25h[?25l[10;1H[1m[33m 56 [0m[6C[1m                                                                                                             [0m[11;1H[33m 57 [0m[4C* Node::thread_neighbor_fun ([4C* args) {}[11;52H[K[46;103H6[10;5H[34h[?25h[?25l[9;1H[1m[33m 55 [0m[1m                                                                                                                   [0m[10;1H[33m 56 [0m[10;11H[K[46;103H5,0-1[9;5H[34h[?25h[?25l[8;1H[1m[33m 54 [0m[60C[1m                                                       [0m[9;1H[33m 55 [0m[9;5H[K[46;103H4,1  [8;5H[34h[?25h[?25l[7;1H[1m[33m 53 [0m[60C[1m                                                       [0m[8;1H[33m 54 [0m[8;65H[K[46;103H3[7;5H[34h[?25h[?25l[6;1H[1m[33m 52 [0m[60C[1m                                                       [0m[7;1H[33m 53 [0m[7;65H[K[46;103H2[6;5H[34h[?25h[?25l[5;1H[1m[33m 51 [0m[1m                                                                                                                   [0m[6;1H[33m 52 [0m[6;65H[K[46;103H1,0-1[5;5H[34h[?25h[?25l[4;1H[1m[33m 50 [0m[1m}                                                                                                                  [0m[5;1H[33m 51 [0m[5;5H[K[46;103H0,1  [4;5H[34h[?25h[?25l[3;1H[1m[33m 49 [0m[1m [0m[1m[31mreturn[0m[1m [4C;                                                                                                      [0m[4;1H[33m 50 [0m}[4;6H[K[46;102H49[3;5H[34h[?25h[?25l[2;1H[1m[33m 48 [0m[1m                                                                                                                   [0m[3;1H[33m 49 [0m [31mreturn[0m [4C;[3;18H[K[46;103H8,0-1[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 47 [0m[1m pthread_join (thread_worker,    [0m[1m[35mNULL[0m[1m);                                                                            [0m[3;1H[33m 48 [0m[3;5H[K[46;102H[K[46;102H47,1[10C51%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 46 [0m[1m pthread_join (thread_neighbor,  [0m[1m[35mNULL[0m[1m);                                                                            [0m[3;1H[33m 47 [0m pthread_join (thread_worker,    [4C);[3;44H[K[46;102H[K[46;102H46,1[10C50%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 45 [0m[1m pthread_join (thread_scheduler, [0m[1m[35mNULL[0m[1m);                                                                            [0m[3;1H[33m 46 [0m pthread_join (thread_neighbor,  [4C);[3;44H[K[46;102H[K[46;102H45,1[10C49%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 44 [0m[1m                                                                                                                   [0m[3;1H[33m 45 [0m pthread_join (thread_scheduler, [4C);[3;44H[K[46;102H[K[46;102H44,0-1[8C48%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 43 [0m[1m pthread_create (&thread_neighbor,  [0m[1m[35mNULL[0m[1m, &thread_neighbor_fun,   [0m[1m[31mthis[0m[1m);                                           [0m[3;1H[33m 44 [0m[3;5H[K[46;102H[K[46;102H43,1[10C47%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 42 [0m[1m pthread_create (&thread_worker,    [0m[1m[35mNULL[0m[1m, &thread_worker_fun,     [0m[1m[31mthis[0m[1m);                                           [0m[3;1H[33m 43 [0m pthread_create (&thread_neighbor,  [4C, &thread_neighbor_fun,   [31mthis[0m);[3;77H[K[46;102H[K[46;102H42,1[10C46%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 41 [0m[1m pthread_create (&thread_scheduler, [0m[1m[35mNULL[0m[1m, &thread_scheduler_fun , [0m[1m[31mthis[0m[1m);                                           [0m[3;1H[33m 42 [0m pthread_create (&thread_worker,    [4C, &thread_worker_fun,     [31mthis[0m);[3;77H[K[46;102H[K[46;102H41,1[10C44%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 40 [0m[1m[34mbool[0m[1m Node::start () {                                                                                              [0m[3;1H[33m 41 [0m pthread_create (&thread_scheduler, [4C, &thread_scheduler_fun , [31mthis[0m);[3;77H[K[46;102H[K[46;102H40,1[10C43%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 39 [0m[1m                                                                                                                   [0m[3;1H[33m 40 [0m[4C Node::start () {[3;26H[K[46;102H[K[46;102H39,0-1[8C42%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 38 [0m[1m}                                                                                                                  [0m[3;1H[33m 39 [0m[3;5H[K[46;102H[K[46;102H38,1[10C41%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 37 [0m[1m [0m[1m[31mreturn[0m[1m [0m[1m[35mtrue[0m[1m;                                                                                                      [0m[3;1H[33m 38 [0m}[3;6H[K[46;102H[K[46;102H37,1[10C40%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 36 [0m[1m scheduler->connect();                                                                                             [0m[3;1H[33m 37 [0m [31mreturn[0m [4C;[3;18H[K[46;102H[K[46;102H36,1[10C39%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 35 [0m[1m                                                                                                                   [0m[3;1H[33m 36 [0m scheduler->connect();[3;27H[K[46;102H[K[46;102H35,0-1[8C38%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 34 [0m[1m pthread_mutex_lock (&lock_neighbor_empty);                                                                        [0m[3;1H[33m 35 [0m[3;5H[K[46;102H[K[46;102H34,1[10C37%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 33 [0m[1m pthread_mutex_lock (&lock_scheduler_empty);                                                                       [0m[3;1H[33m 34 [0m pthread_mutex_lock (&lock_neighbor_empty); [3;49H[K[46;102H[K[46;102H33,1[10C35%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 32 [0m[1m[34mbool[0m[1m Node::init () {                                                                                               [0m[3;1H[33m 33 [0m pthread_mutex_lock (&lock_scheduler_empty); [3;50H[K[46;102H[K[46;102H32,1[10C34%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 31 [0m[1m                                                                                                                   [0m[3;1H[33m 32 [0m[4C Node::init () {[3;25H[K[46;102H[K[46;102H31,0-1[8C33%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 30 [0m[1m}                                                                                                                  [0m[3;1H[33m 31 [0m[3;5H[K[46;102H[K[46;102H30,1[10C32%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 29 [0m[1m [0m[1m[31mdelete[0m[1m neighbor;                                                                                                  [0m[3;1H[33m 30 [0m}[3;6H[K[46;102H[K[46;102H29,1[10C31%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 28 [0m[1m [0m[1m[31mdelete[0m[1m scheduler;                                                                                                 [0m[3;1H[33m 29 [0m [31mdelete[0m neighbor;[3;22H[K[46;102H[K[46;102H28,1[10C30%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 27 [0m[1m [0m[1m[31mdelete[0m[1m attributes;                                                                                                [0m[3;1H[33m 28 [0m [31mdelete[0m scheduler;[3;23H[K[46;102H[K[46;102H27,1[10C29%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 26 [0m[1m                                                                                                                   [0m[3;1H[33m 27 [0m [31mdelete[0m attributes;[3;24H[K[46;102H[K[46;102H26,0-1[8C28%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 25 [0m[1m pthread_mutex_unlock (&lock_neighbor_empty);                                                                      [0m[3;1H[33m 26 [0m[3;5H[K[46;102H[K[46;102H25,1[10C26%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 24 [0m[1m pthread_mutex_unlock (&lock_scheduler_empty);                                                                     [0m[3;1H[33m 25 [0m pthread_mutex_unlock (&lock_neighbor_empty); [3;51H[K[46;102H[K[46;102H24,1[10C25%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 23 [0m[1m[34mvoid[0m[1m Node::shutdown() {                                                                                            [0m[3;1H[33m 24 [0m pthread_mutex_unlock (&lock_scheduler_empty); [3;52H[K[46;102H[K[46;102H23,1[10C24%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 22 [0m[1m                                                                                                                   [0m[3;1H[33m 23 [0m[4C Node::shutdown() {[3;28H[K[46;102H[K[46;102H22,0-1[8C23%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 21 [0m[1m}                                                                                                                  [0m[3;1H[33m 22 [0m[3;5H[K[46;102H[K[46;102H21,1[10C22%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 20 [0m[1m shutdown();                                                                                                       [0m[3;1H[33m 21 [0m}[3;6H[K[46;102H[K[46;102H20,1[10C21%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 19 [0m[1mNode::~Node() {                                                                                                    [0m[3;1H[33m 20 [0m shutdown();[3;17H[K[46;102H[K[46;102H19,1[10C20%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 18 [0m[1m                                                                                                                   [0m[3;1H[33m 19 [0mNode::~Node() {[3;20H[K[46;102H[K[46;102H18,0-1[8C19%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 17 [0m[1m}                                                                                                                  [0m[3;1H[33m 18 [0m[3;5H[K[46;102H[K[46;102H17,1[10C17%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 16 [0m[1m die_thread = [0m[1m[35mfalse[0m[1m;                                                                                               [0m[3;1H[33m 17 [0m}[3;6H[K[46;102H[K[46;102H16,1[10C16%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 15 [0m[1m [0m[1m[31m//empty = PTHREAD_MUTEX_INTIALIZER;[0m[1m                                                                               [0m[3;1H[33m 16 [0m die_thread = [5C;[3;25H[K[46;102H[K[46;102H15,1[10C15%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 14 [0m[1m                                                                                                                   [0m[3;1H[33m 15 [0m [3;41H[K[46;102H[K[46;102H14,0-1[8C14%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 13 [0m[1m scheduler->setUp();                                                                                               [0m[3;1H[33m 14 [0m[3;5H[K[46;102H[K[46;102H13,1[10C13%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 12 [0m[1m                                                                                                                   [0m[3;1H[33m 13 [0m scheduler->setUp();[3;25H[K[46;102H[K[46;102H12,1[10C12%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 11 [0m[1m attributes->bind();                                                                                               [0m[3;1H[33m 12 [0m [3;6H[K[46;102H[K[46;102H11,1[10C11%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 10 [0m[1m attributes->setUp();                                                                                              [0m[3;1H[33m 11 [0m attributes->bind();[3;25H[K[46;102H[K[46;102H10,1[10C10%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m  9 [0m[1m                                                                                                                   [0m[3;1H[33m 10 [0m attributes->setUp();[3;26H[K[46;102H[K[46;102H9,0-1[10C8%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m  8 [0m[1m scheduler = [0m[1m[31mnew[0m[1m Client (PORT, HOST);                                                                              [0m[3;1H[33m  9 [0m[3;5H[K[46;102H[K[46;102H8,1[12C7%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m  7 [0m[1m attributes = [0m[1m[31mnew[0m[1m Server (PORT);                                                                                   [0m[3;1H[33m  8 [0m scheduler = [31mnew[0m Client (PORT, HOST);[3;42H[K[46;102H[K[46;102H7,1[12C6%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m  6 [0m[1mNode::Node() {                                                                                                     [0m[3;1H[33m  7 [0m attributes = [31mnew[0m Server (PORT);[3;37H[K[46;102H[K[46;102H6,1[12C5%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m  5 [0m[1m                                                                                                                   [0m[3;1H[33m  6 [0mNode::Node() {[3;19H[K[46;102H[K[46;102H5,0-1[10C4%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m  4 [0m[1m[31musing[0m[1m [0m[1m[34mnamespace[0m[1m tcp_socket;                                                                                        [0m[3;1H[33m  5 [0m[3;5H[K[46;102H[K[46;102H4,1[12C3%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m  3 [0m[1m[31musing[0m[1m [0m[1m[34mnamespace[0m[1m std;                                                                                               [0m[3;1H[33m  4 [0m[31musing[0m [9C tcp_socket;[3;32H[K[46;102H[K[46;102H3,1[12C2%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m  2 [0m[1m                                                                                                                   [0m[3;1H[33m  3 [0m[31musing[0m [9C std;[3;25H[K[46;102H[K[46;102H2,0-1[10C1%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m  1 [0m[1m[35m#include <node.hh>[0m[1m                                                                                                 [0m[3;1H[33m  2 [0m[3;5H[K[46;102H[K[46;102H1,1[11CTop[2;5H[34h[?25h[?25l[46;102H[K[46;1H:tabprevious[23m[24m[0m[H[J[1;1H[1m i/s/node.hh [0m[4m[30m[47m s/s/node.cc  i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m                                               [0m[1;119H[4m[30m[47mX[24m[0m[2;1H[1m[31m/**
 * @class Node
 * 
 * SINGLETON PATTERN
 * This file contains the node class definition
 * this class should be executed in each node
 * server.
 *
 * @section EXAMPLE
 *  - Dataset      = (1, 5000]
 *  - Cache size   = 100
 *  - Number nodes = 5
 *
 * @verbatim 
 *  0  .. 1000 .. 2000 .. 3000 .. 4000 .. 5000
 *  |-------|-------|-------|-------|-------|
 *  |Node 1 |Node 2 |Node 3 | Node 4|Node 5 |
 *  |-------|-------|-------|-------|-------|
 *    100e    100e    100e    100e    100e
 * @endverbatim
 */[0m

[1m[35m#define PORT 1234
#define HOST "locahost"

#ifndef __NODE_H_
#define __NODE_H_[0m
[1m                                                                                                                       [0m[30;1H[1m[31m//Related classes[0m
[1m[35m#include <messages.hh>
#include <query.hh>[0m

[1m[31m//project's libraries[0m
[1m[35m#include <network/server.hh>
#include <network/client.hh>
#include <lru/lru_map.hh>[0m

[1m[31m//UNIX libraries[0m
[1m[35m#include <sys/time.h>
#include <sys/types.h>
#include <sys/socket.h>
#include <netinet/in.h>
#include <netdb.h>
#include <arpa/inet.h>[0m[46;102H28,0-1[8CTop[29;1H[34h[?25h[?25l[23m[24m[0m[H[J[1;1H[1m i/s/node.hh [0m[4m[30m[47m s/s/node.cc  i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m                                               [0m[1;119H[4m[30m[47mX[24m[0m[2;3Hpthread_cond_t cond_scheduler;
  pthread_cond_t cond_neighbor;

  [1m[34mstatic[0m [1m[34mbool[0m die_thread;

  [1m[34mstatic[0m [1m[34muint32_t[0m queryRecieves;
  [1m[34mstatic[0m [1m[34muint32_t[0m queryProcessed;
  [1m[34mstatic[0m [1m[34muint64_t[0m hitCount;
  [1m[34mstatic[0m [1m[34muint64_t[0m missCount;
  [1m[34mstatic[0m [1m[34muint64_t[0m TotalExecTime;
  [1m[34mstatic[0m [1m[34muint64_t[0m TotalWaitTime;
  [1m[34mstatic[0m [1m[34muint64_t[0m inshiftedQueries;
  [1m[34mstatic[0m [1m[34muint64_t[0m outShiftedQueries;

  [1m[31m//Threads functions[0m
  [1m[34mstatic[0m [1m[34mvoid[0m* thread_scheduler_fun ([1m[34mvoid[0m*);
  [1m[34mstatic[0m [1m[34mvoid[0m* thread_neighbor_fun ([1m[34mvoid[0m*);
  [1m[34mstatic[0m [1m[34mvoid[0m* thread_worker_fun ([1m[34mvoid[0m*);

  [1m[31m//Query functions[0m
  [1m[34mvoid[0m prepare_query ([1m[34mvoid[0m);
  [1m[34mbool[0m processQuery ([1m[34mvoid[0m);
  [1m[34mbool[0m swiftQuery ([1m[34mvoid[0m);
  [1m[34mbool[0m schedulerQuery ([1m[34mvoid[0m);

  [1m[34mvoid[0m shutdown ([1m[34mvoid[0m);

 [31mprotected[0m:
  Node ();
  ~Node ();

 [31mpublic[0m:
  [1m[34mstatic[0m Node& getInstance ([1m[34mvoid[0m) {
   [1m[34mstatic[0m Node singleton;
   [31mreturn[0m singleton;
  }

  [1m[34mbool[0m init ([1m[34mvoid[0m);
  [1m[34mbool[0m start ([1m[34mvoid[0m);

  [31mfriend[0m ostream& [31moperator[0m<< (ostream&, [1m[34mconst[0m Node&);
};

[1m[35m#endif[0m[1m                                                                                                                 [0m[46;102H119,1[9CBot[45;1H[34h[?25h[?25l[44;1H[1m                                                                                                                       [0m[45;7H[K[46;104H8,0-1[44;1H[34h[?25h[?25l[43;1H[1m};                                                                                                                     [0m[44;1H[K[46;104H7,1  [43;1H[34h[?25h[?25l[42;1H[1m  [0m[1m[31mfriend[0m[1m ostream& [0m[1m[31moperator[0m[1m<< (ostream&, [5C Node&);                                                                  [0m[43;1H};[43;3H[K[46;104H6[42;1H[34h[?25h[?25l[41;1H[1m                                                                                                                       [0m[42;1H  [31mfriend[0m ostream& [31moperator[0m<< (ostream&, [5C Node&);[42;54H[K[46;104H5,0-1[41;1H[34h[?25h[?25l[40;1H[1m  [4C start ([4C);                                                                                                   [0m[41;1H[K[46;104H4,1  [40;1H[34h[?25h[?25l[39;1H[1m  [4C init ([4C);                                                                                                    [0m[40;1H  [4C start ([4C);[40;21H[K[46;104H3[39;1H[34h[?25h[?25l[38;1H[1m                                                                                                                       [0m[39;1H  [4C init ([4C);[39;20H[K[46;104H2,0-1[38;1H[34h[?25h[?25l[37;1H[1m  }                                                                                                                    [0m[38;1H[K[46;104H1,1  [37;1H[34h[?25h[?25l[36;1H[1m   [0m[1m[31mreturn[0m[1m singleton;                                                                                                   [0m[37;1H  }[37;4H[K[46;104H0[36;1H[34h[?25h[?25l[35;1H[1m   [6C Node singleton;                                                                                              [0m[36;1H   [31mreturn[0m singleton;[36;21H[K[46;103H09[35;1H[34h[?25h[?25l[34;1H[1m  [6C Node& getInstance ([4C) {                                                                                    [0m[35;1H   [6C Node singleton;[35;26H[K[46;104H8[34;1H[34h[?25h[?25l[33;1H[1m [0m[1m[31mpublic[0m[1m:                                                                                                               [0m[34;1H  [6C Node& getInstance ([4C) {[34;36H[K[46;104H7[33;1H[34h[?25h[?25l[32;1H[1m                                                                                                                       [0m[33;1H [31mpublic[0m:[33;9H[K[46;104H6,0-1[32;1H[34h[?25h[?25l[31;1H[1m  ~Node ();                                                                                                            [0m[32;1H[K[46;104H5,1  [31;1H[34h[?25h[?25l[30;1H[1m  Node ();                                                                                                             [0m[31;1H  ~Node ();[31;12H[K[46;104H4[30;1H[34h[?25h[?25l[29;1H[1m [0m[1m[31mprotected[0m[1m:                                                                                                            [0m[30;1H  Node ();[30;11H[K[46;104H3[29;1H[34h[?25h[?25l[28;1H[1m                                                                                                                       [0m[29;1H [31mprotected[0m:[29;12H[K[46;104H2,0-1[28;1H[34h[?25h[?25l[27;1H[1m  [4C shutdown ([4C);                                                                                                [0m[28;1H[K[46;104H1,1  [27;1H[34h[?25h[?25l[26;1H[1m                                                                                                                       [0m[27;1H  [4C shutdown ([4C);[27;24H[K[46;104H0,0-1[26;1H[34h[?25h[?25l[25;1H[1m  [4C schedulerQuery ([4C);                                                                                          [0m[26;1H[K[46;102H99,1   [25;1H[34h[?25h[?25l[24;1H[1m  [4C swiftQuery ([4C);                                                                                              [0m[25;1H  [4C schedulerQuery ([4C);[25;30H[K[46;103H8[24;1H[34h[?25h[?25l[23;1H[1m  [4C processQuery ([4C);                                                                                            [0m[24;1H  [4C swiftQuery ([4C);[24;26H[K[46;103H7[23;1H[34h[?25h[?25l[22;1H[1m  [4C prepare_query ([4C);                                                                                           [0m[23;1H  [4C processQuery ([4C);[23;28H[K[46;103H6[22;1H[34h[?25h[?25l[21;1H[1m  [17C                                                                                                    [0m[22;1H  [4C prepare_query ([4C);[22;29H[K[46;103H5[21;1H[34h[?25h[?25l[20;1H[1m                                                                                                                       [0m[21;1H  [21;20H[K[46;103H4,0-1[20;1H[34h[?25h[?25l[19;1H[1m  [6C [4C* thread_worker_fun ([4C*);                                                                              [0m[20;1H[K[46;103H3,1  [19;1H[34h[?25h[?25l[18;1H[1m  [6C [4C* thread_neighbor_fun ([4C*);                                                                            [0m[19;1H  [6C [4C* thread_worker_fun ([4C*);[19;42H[K[46;103H2[18;1H[34h[?25h[?25l[17;1H[1m  [6C [4C* thread_scheduler_fun ([4C*);                                                                           [0m[18;1H  [6C [4C* thread_neighbor_fun ([4C*);[18;44H[K[46;103H1[17;1H[34h[?25h[?25l[16;1H[1m  [19C                                                                                                  [0m[17;1H  [6C [4C* thread_scheduler_fun ([4C*);[17;45H[K[46;103H0[16;1H[34h[?25h[?25l[15;1H[1m                                                                                                                       [0m[16;1H  [16;22H[K[46;102H89,0-1[15;1H[34h[?25h[?25l[14;1H[1m  [6C [8C outShiftedQueries;                                                                                   [0m[15;1H[K[46;103H8,1  [14;1H[34h[?25h[?25l[13;1H[1m  [6C [8C inshiftedQueries;                                                                                    [0m[14;1H  [6C [8C outShiftedQueries;[14;37H[K[46;103H7[13;1H[34h[?25h[?25l[12;1H[1m  [6C [8C TotalWaitTime;                                                                                       [0m[13;1H  [6C [8C inshiftedQueries;[13;36H[K[46;103H6[12;1H[34h[?25h[?25l[11;1H[1m  [6C [8C TotalExecTime;                                                                                       [0m[12;1H  [6C [8C TotalWaitTime;[12;33H[K[46;103H5[11;1H[34h[?25h[?25l[10;1H[1m  [6C [8C missCount;                                                                                           [0m[11;1H  [6C [8C TotalExecTime; [11;34H[K[46;103H4[10;1H[34h[?25h[?25l[9;1H[1m  [6C [8C hitCount;                                                                                            [0m[10;1H  [6C [8C missCount;[10;29H[K[46;103H3[9;1H[34h[?25h[?25l[8;1H[1m  [6C [8C queryProcessed;                                                                                      [0m[9;1H  [6C [8C hitCount;[9;28H[K[46;103H2[8;1H[34h[?25h[?25l[7;1H[1m  [6C [8C queryRecieves;                                                                                       [0m[8;1H  [6C [8C queryProcessed;[8;34H[K[46;103H1[7;1H[34h[?25h[?25l[6;1H[1m                                                                                                                       [0m[7;1H  [6C [8C queryRecieves; [7;34H[K[46;103H0,0-1[6;1H[34h[?25h[?25l[5;1H[1m  [6C [4C die_thread;                                                                                              [0m[6;1H[K[46;102H79,1  [5;1H[34h[?25h[?25l[4;1H[1m                                                                                                                       [0m[5;1H  [6C [4C die_thread;[5;26H[K[46;103H8,0-1[4;1H[34h[?25h[?25l[3;1H[1m  pthread_cond_t cond_neighbor;                                                                                        [0m[4;1H[K[46;103H7,1  [3;1H[34h[?25h[?25l[2;1H[1m  pthread_cond_t cond_scheduler;                                                                                       [0m[3;1H  pthread_cond_t cond_neighbor;[3;32H[K[46;103H6[2;1H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m  pthread_mutex_t lock_neighbor_empty;                                                                                 [0m[3;1H  pthread_cond_t cond_scheduler;[3;33H[K[46;102H[K[46;102H75,1[10C98%[2;1H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m  pthread_mutex_t lock_scheduler_empty;                                                                                [0m[3;1H  pthread_mutex_t lock_neighbor_empty;[3;39H[K[46;102H[K[46;102H74,1[10C97%[2;1H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m                                                                                                                       [0m[3;1H  pthread_mutex_t lock_scheduler_empty;[3;40H[K[46;102H[K[46;102H73,0-1[8C96%[2;1H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m  pthread_t thread_worker;                                                                                             [0m[3;1H[K[46;102H[K[46;102H72,1[10C94%[2;1H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m  pthread_t thread_scheduler;                                                                                          [0m[3;1H  pthread_t thread_worker;[3;27H[K[46;102H[K[46;102H71,1[10C93%[2;1H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m  pthread_t thread_neighbor;                                                                                           [0m[3;1H  pthread_t thread_scheduler;[3;30H[K[46;102H[K[46;102H70,1[10C92%[2;1H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m                                                                                                                       [0m[3;1H  pthread_t thread_neighbor;[3;29H[K[46;102H[K[46;102H69,0-1[8C90%[2;1H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m  [0m[1m[34mstruct[0m[1m timeval time_start, time_end;                                                                                 [0m[3;1H[K[46;102H[K[46;102H68,1[10C89%[2;1H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m  [0m[1m[34mint[0m[1m bound_lower, bound_upper;                                                                                        [0m[3;1H  [6C timeval time_start, time_end;[3;39H[K[46;102H[K[46;102H67,1[10C88%[2;1H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m                                                                                                                       [0m[3;1H  [3C bound_lower, bound_upper;[3;32H[K[46;102H[K[46;102H66,0-1[8C86%[2;1H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m  [0m[1m[34mstatic[0m[1m queue<Query*> buffer_neighbor;                                                                                [0m[3;1H[K[46;102H[K[46;102H65,1[10C85%[2;1H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m  [0m[1m[34mstatic[0m[1m queue<Query> buffer_local;                                                                                    [0m[3;1H  [6C queue<Query*> buffer_neighbor;[3;40H[K[46;102H[K[46;102H64,1[10C84%[2;1H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m  [0m[1m[34mstatic[0m[1m lru_map<[0m[1m[34mint[0m[1m, [0m[1m[34mint[0m[1m> cache;                                                                                      [0m[3;1H  [6C queue<Query> buffer_local;[3;36H[K[46;102H[K[46;102H63,1[10C82%[2;1H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m                                                                                                                       [0m[3;1H  [6C lru_map<[3C, [3C> cache;[3;34H[K[46;102H[K[46;102H62,0-1[8C81%[2;1H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m  Client* neighbor;                                                                                                    [0m[3;1H[K[46;102H[K[46;102H61,1[10C80%[2;1H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m  Client* scheduler;                                                                                                   [0m[3;1H  Client* neighbor;[3;20H[K[46;102H[K[46;102H60,1[10C78%[2;1H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m  Server* attributes;                                                                                                  [0m[3;1H  Client* scheduler;[3;21H[K[46;102H[K[46;102H59,1[10C77%[2;1H[34h[?25h[?25l  Server* attributes;[2;22H[K[3;1H[1m  Client* scheduler;                                                                                                   [0m[46;102H60[3;1H[34h[?25h[?25l  Client* scheduler;[3;21H[K[4;1H[1m  Client* neighbor;                                                                                                    [0m[46;103H1[4;1H[34h[?25h[?25l  Client* neighbor;[4;20H[K[5;1H[1m                                                                                                                       [0m[46;103H2,0-1[5;1H[34h[?25h[?25l[5;1H[K[6;1H[1m  [6C lru_map<[3C, [3C> cache;                                                                                      [0m[46;103H3,1  [6;1H[34h[?25h[?25l  [6C lru_map<[3C, [3C> cache;[6;34H[K[7;1H[1m  [6C queue<Query> buffer_local;                                                                                    [0m[46;103H4[7;1H[34h[?25h[?25l  [6C queue<Query> buffer_local;[7;36H[K[8;1H[1m  [6C queue<Query*> buffer_neighbor;                                                                                [0m[46;103H5[8;1H[34h[?25h[?25l  [6C queue<Query*> buffer_neighbor;[8;40H[K[9;1H[1m                                                                                                                       [0m[46;103H6,0-1[9;1H[34h[?25h[?25l[9;1H[K[10;1H[1m  [3C bound_lower, bound_upper;                                                                                        [0m[46;103H7,1  [10;1H[34h[?25h[?25l  [3C bound_lower, bound_upper;[10;32H[K[11;1H[1m  [6C timeval time_start, time_end;                                                                                 [0m[46;103H8[11;1H[34h[?25h[?25l  [6C timeval time_start, time_end;[11;39H[K[12;1H[1m                                                                                                                       [0m[46;103H9,0-1[12;1H[34h[?25h[?25l[12;1H[K[13;1H[1m  pthread_t thread_neighbor;                                                                                           [0m[46;102H70,1  [13;1H[34h[?25h[?25l  pthread_t thread_neighbor;[13;29H[K[14;1H[1m  pthread_t thread_scheduler;                                                                                          [0m[46;103H1[14;1H[34h[?25h[?25l  pthread_t thread_scheduler;[14;30H[K[15;1H[1m  pthread_t thread_worker;                                                                                             [0m[46;103H2[15;1H[34h[?25h[?25l  pthread_t thread_worker;[15;27H[K[16;1H[1m                                                                                                                       [0m[46;103H3,0-1[16;1H[34h[?25h[?25l[16;1H[K[17;1H[1m  pthread_mutex_t lock_scheduler_empty;                                                                                [0m[46;103H4,1  [17;1H[34h[?25h[?25l  pthread_mutex_t lock_scheduler_empty;[17;40H[K[18;1H[1m  pthread_mutex_t lock_neighbor_empty;                                                                                 [0m[46;103H5[18;1H[34h[?25h[?25l  pthread_mutex_t lock_neighbor_empty;[18;39H[K[19;1H[1m  pthread_cond_t cond_scheduler;                                                                                       [0m[46;103H6[19;1H[34h[?25h[?25l  pthread_cond_t cond_scheduler;[19;33H[K[20;1H[1m  pthread_cond_t cond_neighbor;                                                                                        [0m[46;103H7[20;1H[34h[?25h[?25l  pthread_cond_t cond_neighbor;[20;32H[K[21;1H[1m                                                                                                                       [0m[46;103H8,0-1[21;1H[34h[?25h[?25l[21;1H[K[22;1H[1m  [6C [4C die_thread;                                                                                              [0m[46;103H9,1  [22;1H[34h[?25h[?25l  [6C [4C die_thread;[22;26H[K[23;1H[1m                                                                                                                       [0m[46;102H80,0-1[23;1H[34h[?25h[?25l[23;1H[K[24;1H[1m  [6C [8C queryRecieves;                                                                                       [0m[46;103H1,1  [24;1H[34h[?25h[?25l  [6C [8C queryRecieves; [24;34H[K[25;1H[1m  [6C [8C queryProcessed;                                                                                      [0m[46;103H2[25;1H[34h[?25h[?25l  [6C [8C queryProcessed;[25;34H[K[26;1H[1m  [6C [8C hitCount;                                                                                            [0m[46;103H3[26;1H[34h[?25h[?25l  [6C [8C hitCount;[26;28H[K[27;1H[1m  [6C [8C missCount;                                                                                           [0m[46;103H4[27;1H[34h[?25h[?25l  [6C [8C missCount;[27;29H[K[28;1H[1m  [6C [8C TotalExecTime;                                                                                       [0m[46;103H5[28;1H[34h[?25h[?25l  [6C [8C TotalExecTime; [28;34H[K[29;1H[1m  [6C [8C TotalWaitTime;                                                                                       [0m[46;103H6[29;1H[34h[?25h[?25l  [6C [8C TotalWaitTime;[29;33H[K[30;1H[1m  [6C [8C inshiftedQueries;                                                                                    [0m[46;103H7[30;1H[34h[?25h[?25l  [6C [8C inshiftedQueries;[30;36H[K[31;1H[1m  [6C [8C outShiftedQueries;                                                                                   [0m[46;103H8[31;1H[34h[?25h[?25l  [6C [8C outShiftedQueries;[31;37H[K[32;1H[1m                                                                                                                       [0m[46;103H9,0-1[32;1H[34h[?25h[?25l[32;1H[K[33;1H[1m  [19C                                                                                                  [0m[46;102H90,1  [33;1H[34h[?25h[?25l  [33;22H[K[34;1H[1m  [6C [4C* thread_scheduler_fun ([4C*);                                                                           [0m[46;103H1[34;1H[34h[?25h[?25l  [6C [4C* thread_scheduler_fun ([4C*);[34;45H[K[35;1H[1m  [6C [4C* thread_neighbor_fun ([4C*);                                                                            [0m[46;103H2[35;1H[34h[?25h[?25l  [6C [4C* thread_neighbor_fun ([4C*);[35;44H[K[36;1H[1m  [6C [4C* thread_worker_fun ([4C*);                                                                              [0m[46;103H3[36;1H[34h[?25h[?25l  [6C [4C* thread_worker_fun ([4C*);[36;42H[K[37;1H[1m                                                                                                                       [0m[46;103H4,0-1[37;1H[34h[?25h[?25l[37;1H[K[38;1H[1m  [17C                                                                                                    [0m[46;103H5,1  [38;1H[34h[?25h[?25l  [38;20H[K[39;1H[1m  [4C prepare_query ([4C);                                                                                           [0m[46;103H6[39;1H[34h[?25h[?25l  [4C prepare_query ([4C);[39;29H[K[40;1H[1m  [4C processQuery ([4C);                                                                                            [0m[46;103H7[40;1H[34h[?25h[?25l[39;1H[1m  [4C prepare_query ([4C);                                                                                           [0m[40;1H  [4C processQuery ([4C);[40;28H[K[46;103H6[39;1H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;102H[K[46;102H96,1[10C77%[39;1H[34h[?25h[1;2H[1m+ i/s/node.hh [0m[4m[30m[47m s/s/node.cc  i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[39;1H[1m/  [0m[1m[34mvoid[0m[1m prepare_query ([0m[1m[34mvoid[0m[1m);[0m[46;105H2[39;2H[34h[?25h[?25l[1m[31m//  void prepare_query (void);[0m[46;105H3[39;3H[34h[?25h[46;1H[K[?25l[46;102H96,2[10C77%[39;2H[34h[?25h[?25l[46;102H[K[46;1H:[34h[?25hw[?25l"include/simulator/node.hh" 119L, 2462C written[54C96,2[10C77%[1;2H[1mi/s/node.hh [0m[4m[30m[47m s/s/node.cc  i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[46;102H[K[46;102H96,2[10C77%[39;2H[34h[?25h[?25l[46;1H[K[46;1H:tabnext[23m[24m[0m[H[J[1;1H[4m[30m[47m i/s/node.hh [24m[0m[1m s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m                                               [0m[1;119H[4m[30m[47mX[24m[0m[2;1H[1m[33m  1 [0m[1m[35m#include <node.hh>[0m[1m                                                                                                 [0m[3;1H[33m  2 
  3 [0m[31musing[0m [1m[34mnamespace[0m std;
[33m  4 [0m[31musing[0m [1m[34mnamespace[0m tcp_socket;
[33m  5 
  6 [0mNode::Node() {
[33m  7 [0m attributes = [31mnew[0m Server (PORT);
[33m  8 [0m scheduler = [31mnew[0m Client (PORT, HOST);
[33m  9 
 10 [0m attributes->setUp();
[33m 11 [0m attributes->bind();
[33m 12 
 13 [0m scheduler->setUp();
[33m 14 
 15 [0m [1m[31m//empty = PTHREAD_MUTEX_INTIALIZER;[0m
[33m 16 [0m die_thread = [1m[35mfalse[0m;
[33m 17 [0m}
[33m 18 
 19 [0mNode::~Node() {
[33m 20 [0m shutdown();
[33m 21 [0m}
[33m 22 
 23 [0m[1m[34mvoid[0m Node::shutdown() {
[33m 24 [0m pthread_mutex_unlock (&lock_scheduler_empty);
[33m 25 [0m pthread_mutex_unlock (&lock_neighbor_empty);
[33m 26 
 27 [0m [31mdelete[0m attributes;
[33m 28 [0m [31mdelete[0m scheduler;
[33m 29 [0m [31mdelete[0m neighbor;
[33m 30 [0m}
[33m 31 
 32 [0m[1m[34mbool[0m Node::init () {
[33m 33 [0m pthread_mutex_lock (&lock_scheduler_empty);
[33m 34 [0m pthread_mutex_lock (&lock_neighbor_empty);
[33m 35 
 36 [0m scheduler->connect();
[33m 37 [0m [31mreturn[0m [1m[35mtrue[0m;
[33m 38 [0m}
[33m 39 
 40 [0m[1m[34mbool[0m Node::start () {
[33m 41 [0m pthread_create (&thread_scheduler, [1m[35mNULL[0m, &thread_scheduler_fun , [31mthis[0m);
[33m 42 [0m pthread_create (&thread_worker,    [1m[35mNULL[0m, &thread_worker_fun,     [31mthis[0m);
[33m 43 [0m pthread_create (&thread_neighbor,  [1m[35mNULL[0m, &thread_neighbor_fun,   [31mthis[0m);
[33m 44 [0m[46;102H1,1[11CTop[2;5H[34h[?25h[?25l[23m[24m[0m[H[J[1;1H[4m[30m[47m i/s/node.hh [24m[0m[1m s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m                                               [0m[1;119H[4m[30m[47mX[24m[0m[2;1H[33m 90 [0m[1m[34mvoid[0m* Node::thread_worker_fun ([1m[34mvoid[0m* args) {
[33m 91 [0m Node* node = [31mstatic_cast[0m<Node*> (args);
[33m 92 
 93 [0m [1m[34muint64_t[0m* hitmiss_count[[1m[35m2[0m] = {&hitCount, &missCount};
[33m 94 
 95 [0m [31mwhile[0m (die_thread != [1m[35mtrue[0m || Queue.empty() != [1m[35mtrue[0m) {
[33m 96 [0m  [31mwhile[0m (Queue.empty() && !die_thread)
[33m 97 [0m   pthread_mutex_lock (&empty);
[33m 98 [0m  [31mif[0m (die_thread)
[33m 99 [0m   [31mcontinue[0m;
[33m100 
101 [0m  Query* query = buffer_local.front();
[33m102 
103 [0m  [31mif[0m (!processQuery(query)) {
[33m104 [0m   buffer_neighbor.push(query);
[33m105 [0m   buffer_local.pop();
[33m106 
107 [0m  } [31melse[0m {
[33m108 [0m   buffer_local.pop();
[33m109 [0m  }
[33m110 [0m  [31mdelete[0m query;
[33m111 [0m }
[33m112 [0m pthread_exit ([1m[35mEXIT_SUCCESS[0m);
[33m113 [0m}
[33m114 
115 [0m[1m[34mbool[0m Node::processQuery (Query* query) {
[33m116 [0m assert (query != [1m[35mNULL[0m);
[33m117 
118 [0m [1m[34mbool[0m result;
[33m119 [0m query->setStartDate();
[33m120 [0m result = cache.match ([31mstatic_cast[0m<packet*> (query), hitmiss_count);
[33m121 [0m query->setFinishedDate();
[33m122 
123 [0m queryProcessed++;
[33m124 [0m TotalExecTime += query->getExecTime();
[33m125 [0m TotalWaitTime += query->getWaitTime();
[33m126 [0m [31mreturn[0m result;
[33m127 [0m}
[33m128 
129 [0m[1m[31m// ------------------------------------------------------ //[0m
[33m130 [0m[1m[34mint[0m main ([1m[34mint[0m argc, [1m[34mchar[0m** argv) [46m{[0m
[33m131 
132 [0m [31mreturn[0m [1m[35mEXIT_SUCCESS[0m;
[1m[33m133 [0m[46m}[0m[1m                                                                                                                  [0m[46;102H133,1[9CBot[45;5H[34h[?25h[1;119H[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[42;38H{

[1m[33m132 [0m[1m [0m[1m[31mreturn[0m[1m [12C;                                                                                              [0m[45;1H[33m133 [0m}[45;6H[K[46;104H2[44;5H[34h[?25h[?25l[43;1H[1m[33m131 [0m[1m                                                                                                                   [0m[44;1H[33m132 [0m [31mreturn[0m [12C;[44;26H[K[46;104H1,0-1[43;5H[34h[?25h[?25l[42;1H[1m[33m130 [0m[3C[1m main ([3C argc, [4C** argv) {                                                                                 [0m[43;1H[33m131 [0m[43;5H[K[46;104H0,1  [42;5H[34h[?25h[?25l[41;1H[1m[33m129 [0m[60C[1m                                                       [0m[42;1H[33m130 [0m[3C main ([3C argc, [4C** argv) {[42;39H[K[46;103H29[41;5H[34h[?25h[?25l[40;1H[1m[33m128 [0m[1m                                                                                                                   [0m[41;1H[33m129 [0m[41;65H[K[46;104H8,0-1[40;5H[34h[?25h[?25l[27;44H[46m{[0m[39;1H[1m[33m127 [0m[46m}[0m[1m                                                                                                                  [0m[40;1H[33m128 [0m[40;5H[K[46;104H7,1  [39;5H[34h[?25h[?25l[27;44H{[38;1H[1m[33m126 [0m[1m [0m[1m[31mreturn[0m[1m result;                                                                                                    [0m[39;1H[33m127 [0m}[39;6H[K[46;104H6[38;5H[34h[?25h[?25l[37;1H[1m[33m125 [0m[1m TotalWaitTime += query->getWaitTime();                                                                            [0m[38;1H[33m126 [0m [31mreturn[0m result;[38;20H[K[46;104H5[37;5H[34h[?25h[?25l[36;1H[1m[33m124 [0m[1m TotalExecTime += query->getExecTime();                                                                            [0m[37;1H[33m125 [0m TotalWaitTime += query->getWaitTime();[37;44H[K[46;104H4[36;5H[34h[?25h[?25l[35;1H[1m[33m123 [0m[1m queryProcessed++;                                                                                                 [0m[36;1H[33m124 [0m TotalExecTime += query->getExecTime();[36;44H[K[46;104H3[35;5H[34h[?25h[?25l[34;1H[1m[33m122 [0m[1m                                                                                                                   [0m[35;1H[33m123 [0m queryProcessed++;[35;23H[K[46;104H2,0-1[34;5H[34h[?25h[?25l[33;1H[1m[33m121 [0m[1m query->setFinishedDate();                                                                                         [0m[34;1H[33m122 [0m[34;5H[K[46;104H1,1  [33;5H[34h[?25h[?25l[32;1H[1m[33m120 [0m[1m result = cache.match ([0m[1m[31mstatic_cast[0m[1m<packet*> (query), hitmiss_count);                                               [0m[33;1H[33m121 [0m query->setFinishedDate();[33;31H[K[46;104H0[32;5H[34h[?25h[?25l[31;1H[1m[33m119 [0m[1m query->setStartDate();                                                                                            [0m[32;1H[33m120 [0m result = cache.match ([31mstatic_cast[0m<packet*> (query), hitmiss_count);[32;73H[K[46;103H19[31;5H[34h[?25h[?25l[30;1H[1m[33m118 [0m[1m [4C result;                                                                                                      [0m[31;1H[33m119 [0m query->setStartDate();[31;28H[K[46;104H8[30;5H[34h[?25h[?25l[29;1H[1m[33m117 [0m[1m                                                                                                                   [0m[30;1H[33m118 [0m [4C result;[30;18H[K[46;104H7,0-1[29;5H[34h[?25h[?25l[28;1H[1m[33m116 [0m[1m assert (query != [4C);                                                                                           [0m[29;1H[33m117 [0m[29;5H[K[46;104H6,1  [28;5H[34h[?25h[?25l[27;1H[1m[33m115 [0m[4C[1m Node::processQuery (Query* query) {                                                                           [0m[28;1H[33m116 [0m assert (query != [4C);[28;29H[K[46;104H5[27;5H[34h[?25h[?25l[26;1H[1m[33m114 [0m[1m                                                                                                                   [0m[27;1H[33m115 [0m[4C Node::processQuery (Query* query) {[27;45H[K[46;104H4,0-1[26;5H[34h[?25h[?25l[2;48H[46m{[0m[25;1H[1m[33m113 [0m[46m}[0m[1m                                                                                                                  [0m[26;1H[33m114 [0m[26;5H[K[46;104H3,1  [25;5H[34h[?25h[?25l[2;48H{[24;1H[1m[33m112 [0m[1m pthread_exit ([12C);                                                                                      [0m[25;1H[33m113 [0m}[25;6H[K[46;104H2[24;5H[34h[?25h[?25l[23;1H[1m[33m111 [0m[1m }                                                                                                                 [0m[24;1H[33m112 [0m pthread_exit ([12C);[24;34H[K[46;104H1[23;5H[34h[?25h[?25l[22;1H[1m[33m110 [0m[1m  [0m[1m[31mdelete[0m[1m query;                                                                                                    [0m[23;1H[33m111 [0m }[23;7H[K[46;104H0[22;5H[34h[?25h[?25l[21;1H[1m[33m109 [0m[1m  }                                                                                                                [0m[22;1H[33m110 [0m  [31mdelete[0m query;[22;20H[K[46;103H09[21;5H[34h[?25h[?25l[20;1H[1m[33m108 [0m[1m   buffer_local.pop();                                                                                             [0m[21;1H[33m109 [0m  }[21;8H[K[46;104H8[20;5H[34h[?25h[?25l[19;1H[1m[33m107 [0m[1m  } [0m[1m[31melse[0m[1m {                                                                                                         [0m[20;1H[33m108 [0m   buffer_local.pop();[20;27H[K[46;104H7[19;5H[34h[?25h[?25l[18;1H[1m[33m106 [0m[1m                                                                                                                   [0m[19;1H[33m107 [0m  } [31melse[0m {[19;15H[K[46;104H6,0-1[18;5H[34h[?25h[?25l[17;1H[1m[33m105 [0m[1m   buffer_local.pop();                                                                                             [0m[18;1H[33m106 [0m[18;5H[K[46;104H5,1  [17;5H[34h[?25h[?25l[16;1H[1m[33m104 [0m[1m   buffer_neighbor.push(query);                                                                                    [0m[17;1H[33m105 [0m   buffer_local.pop();[17;27H[K[46;104H4[16;5H[34h[?25h[?25l[15;1H[1m[33m103 [0m[1m  [0m[1m[31mif[0m[1m (!processQuery(query)) {                                                                                      [0m[16;1H[33m104 [0m   buffer_neighbor.push(query);[16;36H[K[46;104H3[15;5H[34h[?25h[?25l[14;1H[1m[33m102 [0m[1m                                                                                                                   [0m[15;1H[33m103 [0m  [31mif[0m (!processQuery(query)) {[15;34H[K[46;104H2,0-1[14;5H[34h[?25h[?25l[13;1H[1m[33m101 [0m[1m  Query* query = buffer_local.front();                                                                             [0m[14;1H[33m102 [0m[14;5H[K[46;104H1,1  [13;5H[34h[?25h[?25l[12;1H[1m[33m100 [0m[1m                                                                                                                   [0m[13;1H[33m101 [0m  Query* query = buffer_local.front();[13;43H[K[46;104H0,0-1[12;5H[34h[?25h[?25l[11;1H[1m[33m 99 [0m[1m   [0m[1m[31mcontinue[0m[1m;                                                                                                       [0m[12;1H[33m100 [0m[12;5H[K[46;102H99,1   [11;5H[34h[?25h[?25l[10;1H[1m[33m 98 [0m[1m  [0m[1m[31mif[0m[1m (die_thread)                                                                                                  [0m[11;1H[33m 99 [0m   [31mcontinue[0m;[11;17H[K[46;103H8[10;5H[34h[?25h[?25l[9;1H[1m[33m 97 [0m[1m   pthread_mutex_lock (&empty);                                                                                    [0m[10;1H[33m 98 [0m  [31mif[0m (die_thread)[10;22H[K[46;103H7[9;5H[34h[?25h[?25l[8;1H[1m[33m 96 [0m[1m  [0m[1m[31mwhile[0m[1m (Queue.empty() && !die_thread)                                                                             [0m[9;1H[33m 97 [0m   pthread_mutex_lock (&empty);[9;36H[K[46;103H6[8;5H[34h[?25h[?25l[7;1H[1m[33m 95 [0m[1m [0m[1m[31mwhile[0m[1m (die_thread != [4C || Queue.empty() != [4C) {                                                             [0m[8;1H[33m 96 [0m  [31mwhile[0m (Queue.empty() && !die_thread) [8;44H[K[46;103H5[7;5H[34h[?25h[?25l[6;1H[1m[33m 94 [0m[1m                                                                                                                   [0m[7;1H[33m 95 [0m [31mwhile[0m (die_thread != [4C || Queue.empty() != [4C) {[7;59H[K[46;103H4,0-1[6;5H[34h[?25h[?25l[5;1H[1m[33m 93 [0m[1m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};                                                             [0m[6;1H[33m 94 [0m[6;5H[K[46;103H3,1  [5;5H[34h[?25h[?25l[4;1H[1m[33m 92 [0m[1m                                                                                                                   [0m[5;1H[33m 93 [0m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};[5;59H[K[46;103H2,0-1[4;5H[34h[?25h[?25l[3;1H[1m[33m 91 [0m[1m Node* node = [0m[1m[31mstatic_cast[0m[1m<Node*> (args);                                                                           [0m[4;1H[33m 92 [0m[4;5H[K[46;103H1,1  [3;5H[34h[?25h[?25l[2;1H[1m[33m 90 [0m[4C[1m* Node::thread_worker_fun ([4C* args) {                                                                       [0m[3;1H[33m 91 [0m Node* node = [31mstatic_cast[0m<Node*> (args);[3;45H[K[46;103H0[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 89 [0m[1m                                                                                                                   [0m[3;1H[33m 90 [0m[4C* Node::thread_worker_fun ([4C* args) {[3;49H[K[46;102H[K[46;102H89,0-1[8C98%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 88 [0m[1m[31m// ------------------------------------------------------ //[0m[1m                                                       [0m[3;1H[33m 89 [0m[3;5H[K[46;102H[K[46;102H88,1[10C97%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 87 [0m[1m[31m//                PROCESSING QUERY SIDE                   //[0m[1m                                                       [0m[3;1H[33m 88 [0m[3;65H[K[46;102H[K[46;102H87,1[10C96%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 86 [0m[1m[31m// ------------------------------------------------------ //[0m[1m                                                       [0m[3;1H[33m 87 [0m[3;65H[K[46;102H[K[46;102H86,1[10C95%[2;5H[34h[?25h[?25l[33m 86 [0m[2;65H[K[3;1H[1m[33m 87 [0m[60C[1m                                                       [0m[46;103H7[3;5H[34h[?25h[?25l[33m 87 [0m[3;65H[K[4;1H[1m[33m 88 [0m[60C[1m                                                       [0m[46;103H8[4;5H[34h[?25h[?25l[33m 88 [0m[4;65H[K[5;1H[1m[33m 89 [0m[1m                                                                                                                   [0m[46;103H9,0-1[5;5H[34h[?25h[?25l[33m 89 [0m[5;5H[K[6;1H[1m[33m 90 [0m[4C[1m* Node::thread_worker_fun ([4C* args) {                                                                       [0m[46;102H90,1  [6;5H[34h[?25h[?25l[33m 90 [0m[4C* Node::thread_worker_fun ([4C* args) {[6;49H[K[7;1H[1m[33m 91 [0m[1m Node* node = [0m[1m[31mstatic_cast[0m[1m<Node*> (args);                                                                           [0m[46;103H1[7;5H[34h[?25h[?25l[33m 91 [0m Node* node = [31mstatic_cast[0m<Node*> (args);[7;45H[K[8;1H[1m[33m 92 [0m[1m                                                                                                                   [0m[46;103H2,0-1[8;5H[34h[?25h[?25l[33m 92 [0m[8;5H[K[9;1H[1m[33m 93 [0m[1m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};                                                             [0m[46;103H3,1  [9;5H[34h[?25h[?25l[33m 93 [0m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};[9;59H[K[10;1H[1m[33m 94 [0m[1m                                                                                                                   [0m[46;103H4,0-1[10;5H[34h[?25h[?25l[33m 94 [0m[10;5H[K[11;1H[1m[33m 95 [0m[1m [0m[1m[31mwhile[0m[1m (die_thread != [4C || Queue.empty() != [4C) {                                                             [0m[46;103H5,1  [11;5H[34h[?25h[?25l[33m 95 [0m [31mwhile[0m (die_thread != [4C || Queue.empty() != [4C) {[11;59H[K[12;1H[1m[33m 96 [0m[1m  [0m[1m[31mwhile[0m[1m (Queue.empty() && !die_thread)                                                                             [0m[46;103H6[12;5H[34h[?25h[?25l[33m 96 [0m  [31mwhile[0m (Queue.empty() && !die_thread) [12;44H[K[13;1H[1m[33m 97 [0m[1m   pthread_mutex_lock (&empty);                                                                                    [0m[46;103H7[13;5H[34h[?25h[?25l[33m 97 [0m   pthread_mutex_lock (&empty);[13;36H[K[14;1H[1m[33m 98 [0m[1m  [0m[1m[31mif[0m[1m (die_thread)                                                                                                  [0m[46;103H8[14;5H[34h[?25h[?25l[33m 98 [0m  [31mif[0m (die_thread)[14;22H[K[15;1H[1m[33m 99 [0m[1m   [0m[1m[31mcontinue[0m[1m;                                                                                                       [0m[46;103H9[15;5H[34h[?25h[?25l[33m 99 [0m   [31mcontinue[0m;[15;17H[K[16;1H[1m[33m100 [0m[1m                                                                                                                   [0m[46;102H100,0-1[16;5H[34h[?25h[?25l[33m100 [0m[16;5H[K[17;1H[1m[33m101 [0m[1m  Query* query = buffer_local.front();                                                                             [0m[46;104H1,1  [17;5H[34h[?25h[?25l[33m101 [0m  Query* query = buffer_local.front();[17;43H[K[18;1H[1m[33m102 [0m[1m                                                                                                                   [0m[46;104H2,0-1[18;5H[34h[?25h[?25l[33m102 [0m[18;5H[K[19;1H[1m[33m103 [0m[1m  [0m[1m[31mif[0m[1m (!processQuery(query)) {                                                                                      [0m[46;104H3,1  [19;5H[34h[?25h[?25l[33m103 [0m  [31mif[0m (!processQuery(query)) {[19;34H[K[20;1H[1m[33m104 [0m[1m   buffer_neighbor.push(query);                                                                                    [0m[46;104H4[20;5H[34h[?25h[?25l[33m104 [0m   buffer_neighbor.push(query);[20;36H[K[21;1H[1m[33m105 [0m[1m   buffer_local.pop();                                                                                             [0m[46;104H5[21;5H[34h[?25h[?25l[33m105 [0m   buffer_local.pop();[21;27H[K[22;1H[1m[33m106 [0m[1m                                                                                                                   [0m[46;104H6,0-1[22;5H[34h[?25h[?25l[33m106 [0m[22;5H[K[23;1H[1m[33m107 [0m[1m  } [0m[1m[31melse[0m[1m {                                                                                                         [0m[46;104H7,1  [23;5H[34h[?25h[?25l[33m107 [0m  } [31melse[0m {[23;15H[K[24;1H[1m[33m108 [0m[1m   buffer_local.pop();                                                                                             [0m[46;104H8[24;5H[34h[?25h[?25l[33m108 [0m   buffer_local.pop();[24;27H[K[25;1H[1m[33m109 [0m[1m  }                                                                                                                [0m[46;104H9[25;5H[34h[?25h[?25l[33m109 [0m  }[25;8H[K[26;1H[1m[33m110 [0m[1m  [0m[1m[31mdelete[0m[1m query;                                                                                                    [0m[46;103H10[26;5H[34h[?25h[?25l[33m110 [0m  [31mdelete[0m query;[26;20H[K[27;1H[1m[33m111 [0m[1m }                                                                                                                 [0m[46;104H1[27;5H[34h[?25h[?25l[33m111 [0m }[27;7H[K[28;1H[1m[33m112 [0m[1m pthread_exit ([12C);                                                                                      [0m[46;104H2[28;5H[34h[?25h[?25l[6;48H[46m{[0m[28;1H[33m112 [0m pthread_exit ([12C);[28;34H[K[29;1H[1m[33m113 [0m[46m}[0m[1m                                                                                                                  [0m[46;104H3[29;5H[34h[?25h[?25l[6;48H{[29;1H[33m113 [0m}[29;6H[K[30;1H[1m[33m114 [0m[1m                                                                                                                   [0m[46;104H4,0-1[30;5H[34h[?25h[?25l[33m114 [0m[30;5H[K[31;1H[1m[33m115 [0m[4C[1m Node::processQuery (Query* query) {                                                                           [0m[46;104H5,1  [31;5H[34h[?25h[?25l[33m115 [0m[4C Node::processQuery (Query* query) {[31;45H[K[32;1H[1m[33m116 [0m[1m assert (query != [4C);                                                                                           [0m[46;104H6[32;5H[34h[?25h[?25l[33m116 [0m assert (query != [4C);[32;29H[K[33;1H[1m[33m117 [0m[1m                                                                                                                   [0m[46;104H7,0-1[33;5H[34h[?25h[?25l[32;1H[1m[33m116 [0m[1m assert (query != [4C);                                                                                           [0m[33;1H[33m117 [0m[33;5H[K[46;104H6,1  [32;5H[34h[?25h[?25l[31;1H[1m[33m115 [0m[4C[1m Node::processQuery (Query* query) {                                                                           [0m[32;1H[33m116 [0m assert (query != [4C);[32;29H[K[46;104H5[31;5H[34h[?25h[?25l[30;1H[1m[33m114 [0m[1m                                                                                                                   [0m[31;1H[33m115 [0m[4C Node::processQuery (Query* query) {[31;45H[K[46;104H4,0-1[30;5H[34h[?25h[?25l[33m114 [0m[30;5H[K[31;1H[1m[33m115 [0m[4C[1m Node::processQuery (Query* query) {                                                                           [0m[46;104H5,1  [31;5H[34h[?25h[?25l[46;106H2[31;6H[34h[?25h[?25l[46;106H3[31;7H[34h[?25h[?25l[46;106H4[31;8H[34h[?25h[?25l[46;106H5[31;9H[34h[?25h[?25l[46;106H6[31;10H[34h[?25h[?25l[46;106H7[31;11H[34h[?25h[?25l[46;106H8[31;12H[34h[?25h[?25l[46;106H9[31;13H[34h[?25h[?25l[46;106H10[31;14H[34h[?25h[?25l[46;107H1[31;15H[34h[?25h[?25l[46;107H2[31;16H[34h[?25h[?25l[46;107H3[31;17H[34h[?25h[?25l[46;106H2[31;27H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;102H[K[46;102H115,24[8C95%[31;28H[34h[?25h[1;15H[1m+ s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[31;29H[1m (Query* query) {[0m[46;107H5[31;29H[34h[?25h[?25l[1m(Query* query) { [0m[46;107H4[31;28H[34h[?25h[?25l[46;107H3[31;27H[34h[?25h[?25l[46;107H2[31;26H[34h[?25h[?25l[46;107H1[31;25H[34h[?25h[?25l[46;107H0[31;24H[34h[?25h[?25l[46;106H19[31;23H[34h[?25h[?25l[1m_Query (Query* query) {[0m[46;106H20[31;24H[34h[?25h[?25l[46;107H1[31;25H[34h[?25h[46;1H[K[?25l[46;102H115,20[8C95%[31;24H[34h[?25h[?25l[46;106H19[31;23H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;102H[K[46;102H115,19[8C96%[1;119H[7m [0m[1;119H[4m[30m[47mX[24m[0m[30;1H[1m[33m114 [0m[1m                                                                                                                   [0m[31;1H[33m115 [0m[4C Node::process[31;23H[K[32;6H[K[33;6H[1m[34mbool[0m result;[34;6Hquery->setStartDate();[35;6Hresult = cache.match ([31mstatic_cast[0m<packet*> (query), hitmiss_count);[36;6Hquery->setFinishedDate();[36;31H[K[37;6H[K[38;6HqueryProcessed++;[39;6HTotalExecTime += query->getExecTime();[40;11HWait[18CWait[41;6H[31mreturn[0m result;[41;20H[K[42;5H}[42;6H[K[43;5H[K[44;5H[1m[31m// ------------------------------------------------------ //[0m[45;5H[1m[34mint[0m main ([1m[34mint[0m argc, [1m[34mchar[0m** argv) {[45;39H[K[46;102H[K[46;102H114,1[9C96%[30;5H[34h[?25h[46;1H[K[?25l[46;102H114,0-1[7C96%[30;5H[34h[?25h[?25l[46;1H1 more line; before #245  1 seconds ago[46;102H[K[1;119H[7m [0m[1;119H[4m[30m[47mX[24m[0m[30;1H[33m114 [0m[30;5H[K[31;1H[1m[33m115 [0m[4C[1m Node::process_Query (Query* query) {                                                                          [0m[32;6Hassert (query != [1m[35mNULL[0m);[33;6H[K[34;6H[1m[34mbool[0m result;[34;18H[K[35;6Hquery->setStartDate();[35;28H[K[36;6Hresult = cache.match ([31mstatic_cast[0m<packet*> (query), hitmiss_count);[37;6Hquery->setFinishedDate();[38;6H[K[39;6HqueryProcessed++;[39;23H[K[40;11HExec[18CExec[41;6HTotalWaitTime += query->getWaitTime();[42;5H [31mreturn[0m result;[43;5H}[44;5H[K[45;5H[1m[31m// ------------------------------------------------------ //[0m[46;102H115,19[8C95%[31;23H[34h[?25h[?25l[46;106H20[31;24H[34h[?25h[?25l[1mq[0m[46;107H1[31;25H[34h[?25h[?25l[46;1H[K[46;1H:[34h[?25hw[?25l"src/simulator/node.cc" 133L, 3288C written[58C115,21[8C95%[1;15H[1ms/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[46;102H[K[46;102H115,21[8C95%[31;25H[34h[?25h[?25l[30;1H[1m[33m114 [0m[1m                                                                                                                   [0m[31;1H[33m115 [0m[4C Node::process_query (Query* query) {[31;46H[K[46;104H4,0-1[30;5H[34h[?25h[?25l[6;48H[46m{[0m[29;1H[1m[33m113 [0m[46m}[0m[1m                                                                                                                  [0m[30;1H[33m114 [0m[30;5H[K[46;104H3,1  [29;5H[34h[?25h[?25l[6;48H{[28;1H[1m[33m112 [0m[1m pthread_exit ([12C);                                                                                      [0m[29;1H[33m113 [0m}[29;6H[K[46;104H2,21[28;25H[34h[?25h[?25l[11;58H[46m{[0m[27;1H[1m[33m111 [0m[1m [0m[46m}[0m[1m                                                                                                                 [0m[28;1H[33m112 [0m pthread_exit ([12C);[28;34H[K[46;104H1,2 [27;6H[34h[?25h[?25l[11;58H{[26;1H[1m[33m110 [0m[1m  [0m[1m[31mdelete[0m[1m query;                                                                                                    [0m[27;1H[33m111 [0m }[27;7H[K[46;104H0,15[26;19H[34h[?25h[?25l[23;14H[46m{[0m

[1m[33m109 [0m[1m  [0m[46m}[0m[1m                                                                                                                [0m[26;1H[33m110 [0m  [31mdelete[0m query;[26;20H[K[46;103H09,3 [25;7H[34h[?25h[?25l[23;14H{
[1m[33m108 [0m[1m   buffer_local.pop[0m[46m()[0m[1m;                                                                                             [0m[25;1H[33m109 [0m  }[25;8H[K[46;104H8,21[24;25H[34h[?25h[?25l[23;1H[1m[33m107 [0m[1m  } [0m[1m[31melse[0m[1m [0m[46m{[0m[1m                                                                                                         [0m[24;1H[33m108 [0m   buffer_local.pop();[24;27H[K[25;7H[46m}[0m[46;104H7,10[23;14H[34h[?25h[?25l[22;1H[1m[33m106 [0m[1m                                                                                                                   [0m[23;1H[33m107 [0m  } [31melse[0m {[23;15H[K[25;7H}[46;104H6,0-1[22;5H[34h[?25h[?25l[21;1H[1m[33m105 [0m[1m   buffer_local.pop[0m[46m()[0m[1m;                                                                                             [0m[22;1H[33m106 [0m[22;5H[K[46;104H5,21 [21;25H[34h[?25h[?25l[20;1H[1m[33m104 [0m[1m   buffer_neighbor.push(query);                                                                                    [0m[21;1H[33m105 [0m   buffer_local.pop();[21;27H[K[46;104H4[20;25H[34h[?25h[?25l[19;1H[1m[33m103 [0m[1m  [0m[1m[31mif[0m[1m (!processQuery(query)) {                                                                                      [0m[20;1H[33m104 [0m   buffer_neighbor.push(query);[20;36H[K[46;104H3[19;25H[34h[?25h[?25l[46m([5C)[0m[46;107H0[19;24H[34h[?25h[?25l[1m(query)[0m[46;106H19[19;23H[34h[?25h[?25l[46;107H8[19;22H[34h[?25h[?25l[46;107H7[19;21H[34h[?25h[?25l[46;107H6[19;20H[34h[?25h[?25l[46;107H5[19;19H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;13H[K[46;102H103,15[8C95%[19;19H[34h[?25h[1;15H[1m+ s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[19;19H[1m_Query(query)) {[0m[46;107H6[19;20H[34h[?25h[?25l[46;107H7[19;21H[34h[?25h[?25l[1muery(query)) { [0m[46;107H6[19;20H[34h[?25h[?25l[1mquery(query)) {[0m[46;107H7[19;21H[34h[?25h[46;1H[K[?25l[46;102H103,16[8C95%[19;20H[34h[?25h[?25l[46;102H[K[46;1H:[34h[?25hw[?25l"src/simulator/node.cc" 133L, 3289C written[58C103,16[8C95%[1;15H[1ms/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[46;102H[K[46;102H103,16[8C95%[19;20H[34h[?25h[?25l[46;107H7[19;21H[34h[?25h[?25l[46;106H20[19;24H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;13H[K[46;102H103,21[8C95%[19;25H[46m([5C)[19;25H[34h[?25h[0m[1;15H[1m+ s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[19;25H[1m [0m[46m([0m[1mquery[0m[46m)[0m[1m) {[0m[46;107H2[19;26H[34h[?25h[46;1H[K[?25l[19;26H[1m(query)[0m[46;102H103,21[8C95%[19;25H[34h[?25h[?25l[46;102H[K[46;1H:[34h[?25hw[?25l"src/simulator/node.cc" 133L, 3290C written[58C103,21[8C95%[1;15H[1ms/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[46;102H[K[46;102H103,21[8C95%[19;25H[34h[?25h[?25l[33m103 [0m  [31mif[0m (!process_query (query)) {[19;36H[K[20;1H[1m[33m104 [0m[1m   buffer_neighbor.push(query);                                                                                    [0m[46;104H4[20;25H[34h[?25h[?25l[46;107H3[20;27H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;13H[K[46;102H104,24[8C95%[20;28H[46m([5C)[20;28H[34h[?25h[0m[1;15H[1m+ s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[20;28H[1m [0m[46m([0m[1mquery[0m[46m)[0m[1m;[0m[46;107H5[20;29H[34h[?25h[?25l[33m104 [0m   buffer_neighbor.push (query);[20;37H[K[21;1H[1m[33m105 [0m[1m   buffer_local.pop();                                                                                             [0m[46;104H5,23[21;27H[34h[?25h[46;1H[K[?25l[46;102H105,22[8C95%[21;26H[34h[?25h[?25l[46m()[0m[46;107H1[21;25H[34h[?25h[?25l[46;107H0[21;24H[34h[?25h[?25l[1m()[0m[46;106H19[21;23H[34h[?25h[?25l[46;106H22[21;26H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;102H[K[46;102H105,23[8C95%[21;27H[34h[?25h[?25l[46;107H4[21;28H[34h[?25h[46;1H[K[?25l[46;102H105,23[8C95%[21;27H[34h[?25h[?25l[46;107H2[21;26H[34h[?25h[?25l[46m()[0m[46;107H1[21;25H[34h[?25h[?25l[46;107H0[21;24H[34h[?25h[?25l[1m()[0m[46;106H19[21;23H[34h[?25h[?25l[46;106H22[21;26H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;102H[K[46;102H105,23[8C95%[21;27H[34h[?25h[?25l[46;107H4[21;28H[34h[?25h[46;1H[K[?25l[46;102H105,23[8C95%[21;27H[34h[?25h[?25l[46;107H2[21;26H[34h[?25h[?25l[46m()[0m[46;107H1[21;25H[34h[?25h[?25l[46;107H0[21;24H[34h[?25h[?25l[1m()[0m[46;106H19[21;23H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;102H[K[46;102H105,20[8C95%[21;24H[46m()[34h[?25h[?25l[0m[1m [0m[46m()[0m[1m;[0m[46;107H1[21;25H[34h[?25h[46;1H[K[?25l[21;25H[1m()[0m[46;102H105,20[8C95%[21;24H[34h[?25h[?25l[46;102H[K[46;1H:[34h[?25hw[?25l"src/simulator/node.cc" 133L, 3294C written[58C105,20[8C95%[1;15H[1ms/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[46;102H[K[46;102H105,20[8C95%[21;24H[34h[?25h[?25l[33m105 [0m   buffer_local.pop ();  [21;30H[K[22;1H[1m[33m106 [0m[1m                                                                                                                   [0m[46;104H6,0-1[22;5H[34h[?25h[?25l[33m106 [0m[22;5H[K[23;1H[1m[33m107 [0m[1m  } [0m[1m[31melse[0m[1m [0m[46m{[0m[1m                                                                                                         [0m[25;7H[46m}[0m[46;104H7,10 [23;14H[34h[?25h[?25l[33m107 [0m  } [31melse[0m {[23;15H[K[24;1H[1m[33m108 [0m[1m   buffer_local.pop[0m[46m()[0m[1m;                                                                                             [0m[25;7H}[46;104H8,2[24;24H[34h[?25h[?25l[1m()[0m[46;106H19[24;23H[34h[?25h[?25l[46;107H8[24;22H[34h[?25h[?25l[46;107H9[24;23H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;13H[K[46;102H108,20[8C95%[24;24H[46m()[34h[?25h[0m[1;15H[1m+ s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[24;24H[1m [0m[46m()[0m[1m;[0m[46;107H1[24;25H[34h[?25h[46;1H[K[?25l[24;25H[1m()[0m[46;102H108,20[8C95%[24;24H[34h[?25h[?25l[46;102H[K[46;1H:[34h[?25hw[?25l"src/simulator/node.cc" 133L, 3295C written[58C108,20[8C95%[1;15H[1ms/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[46;102H[K[46;102H108,20[8C95%[24;24H[34h[?25h[?25l[23;14H[46m{[0m
[33m108 [0m   buffer_local.pop ();[24;28H[K[25;1H[1m[33m109 [0m[1m  [0m[46m}[0m[1m                                                                                                                [0m[46;104H9,3 [25;7H[34h[?25h[?25l[23;14H{

[33m109 [0m  }[25;8H[K[26;1H[1m[33m110 [0m[1m  [0m[1m[31mdelete[0m[1m query;                                                                                                    [0m[46;103H10,15[26;19H[34h[?25h[?25l[11;58H[46m{[0m[26;1H[33m110 [0m  [31mdelete[0m query;[26;20H[K[27;1H[1m[33m111 [0m[1m [0m[46m}[0m[1m                                                                                                                 [0m[46;104H1,2 [27;6H[34h[?25h[?25l[11;58H{[27;1H[33m111 [0m }[27;7H[K[28;1H[1m[33m112 [0m[1m pthread_exit ([12C);                                                                                      [0m[46;104H2,20[28;24H[34h[?25h[?25l[6;48H[46m{[0m[28;1H[33m112 [0m pthread_exit ([12C);[28;34H[K[29;1H[1m[33m113 [0m[46m}[0m[1m                                                                                                                  [0m[46;104H3,1 [29;5H[34h[?25h[?25l[6;48H{[29;1H[33m113 [0m}[29;6H[K[30;1H[1m[33m114 [0m[1m                                                                                                                   [0m[46;104H4,0-1[30;5H[34h[?25h[?25l[33m114 [0m[30;5H[K[31;1H[1m[33m115 [0m[4C[1m Node::process_query (Query* query) {                                                                          [0m[46;104H5,20 [31;24H[34h[?25h[?25l[33m115 [0m[4C Node::process_query (Query* query) {[31;46H[K[32;1H[1m[33m116 [0m[1m assert (query != [4C);                                                                                           [0m[46;104H6[32;24H[34h[?25h[?25l[31;1H[1m[33m115 [0m[4C[1m Node::process_query (Query* query) {                                                                          [0m[32;1H[33m116 [0m assert (query != [4C);[32;29H[K[46;104H5[31;24H[34h[?25h[?25l[30;1H[1m[33m114 [0m[1m                                                                                                                   [0m[31;1H[33m115 [0m[4C Node::process_query (Query* query) {[31;46H[K[46;104H4,0-1[30;5H[34h[?25h[?25l[6;48H[46m{[0m[29;1H[1m[33m113 [0m[46m}[0m[1m                                                                                                                  [0m[30;1H[33m114 [0m[30;5H[K[46;104H3,1  [29;5H[34h[?25h[?25l[6;48H{[28;1H[1m[33m112 [0m[1m pthread_exit ([12C);                                                                                      [0m[29;1H[33m113 [0m}[29;6H[K[46;104H2,20[28;24H[34h[?25h[?25l[11;58H[46m{[0m[27;1H[1m[33m111 [0m[1m [0m[46m}[0m[1m                                                                                                                 [0m[28;1H[33m112 [0m pthread_exit ([12C);[28;34H[K[46;104H1,2 [27;6H[34h[?25h[?25l[11;58H{[26;1H[1m[33m110 [0m[1m  [0m[1m[31mdelete[0m[1m query;                                                                                                    [0m[27;1H[33m111 [0m }[27;7H[K[46;104H0,15[26;19H[34h[?25h[?25l[23;14H[46m{[0m

[1m[33m109 [0m[1m  [0m[46m}[0m[1m                                                                                                                [0m[26;1H[33m110 [0m  [31mdelete[0m query;[26;20H[K[46;103H09,3 [25;7H[34h[?25h[?25l[23;14H{
[1m[33m108 [0m[1m   buffer_local.pop ();                                                                                            [0m[25;1H[33m109 [0m  }[25;8H[K[46;104H8,20[24;24H[34h[?25h[?25l[23;1H[1m[33m107 [0m[1m  } [0m[1m[31melse[0m[1m [0m[46m{[0m[1m                                                                                                         [0m[24;1H[33m108 [0m   buffer_local.pop ();[24;28H[K[25;7H[46m}[0m[46;104H7,1[23;14H[34h[?25h[?25l[22;1H[1m[33m106 [0m[1m                                                                                                                   [0m[23;1H[33m107 [0m  } [31melse[0m {[23;15H[K[25;7H}[46;104H6,0-1[22;5H[34h[?25h[?25l[21;1H[1m[33m105 [0m[1m   buffer_local.pop ();                                                                                            [0m[22;1H[33m106 [0m[22;5H[K[46;104H5,20 [21;24H[34h[?25h[?25l[20;1H[1m[33m104 [0m[1m   buffer_neighbor.push (query);                                                                                   [0m[21;1H[33m105 [0m   buffer_local.pop ();  [21;30H[K[46;104H4[20;24H[34h[?25h[?25l[19;1H[1m[33m103 [0m[1m  [0m[1m[31mif[0m[1m (!process_query (query)) {                                                                                    [0m[20;1H[33m104 [0m   buffer_neighbor.push (query);[20;37H[K[46;104H3[19;24H[34h[?25h[?25l[18;1H[1m[33m102 [0m[1m                                                                                                                   [0m[19;1H[33m103 [0m  [31mif[0m (!process_query (query)) {[19;36H[K[46;104H2,0-1[18;5H[34h[?25h[?25l[17;1H[1m[33m101 [0m[1m  Query* query = buffer_local.front();                                                                             [0m[18;1H[33m102 [0m[18;5H[K[46;104H1,20 [17;24H[34h[?25h[?25l[16;1H[1m[33m100 [0m[1m                                                                                                                   [0m[17;1H[33m101 [0m  Query* query = buffer_local.front();[17;43H[K[46;104H0,0-1[16;5H[34h[?25h[?25l[33m100 [0m[16;5H[K[17;1H[1m[33m101 [0m[1m  Query* query = buffer_local.front();                                                                             [0m[46;104H1,20 [17;24H[34h[?25h[?25l[46;107H1[17;25H[34h[?25h[?25l[46;107H2[17;26H[34h[?25h[?25l[46;107H3[17;27H[34h[?25h[?25l[46;107H4[17;28H[34h[?25h[?25l[46;107H5[17;29H[34h[?25h[?25l[46;107H6[17;30H[34h[?25h[?25l[46;107H7[17;31H[34h[?25h[?25l[46;107H8[17;32H[34h[?25h[?25l[46;107H9[17;33H[34h[?25h[?25l[46;106H30[17;34H[34h[?25h[?25l[46;107H1[17;35H[34h[?25h[?25l[46;107H2[17;36H[34h[?25h[?25l[46;107H5[17;39H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;13H[K[46;102H101,36[8C95%[17;40H[46m()[34h[?25h[0m[1;15H[1m+ s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[17;40H[1m [0m[46m()[0m[1m;[0m[46;107H7[17;41H[34h[?25h[46;1H[K[?25l[17;41H[1m()[0m[46;102H101,36[8C95%[17;40H[34h[?25h[?25l[46;102H[K[46;1H:[34h[?25hw[?25l"src/simulator/node.cc" 133L, 3296C written[58C101,36[8C95%[1;15H[1ms/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[46;102H[K[46;102H101,36[8C95%[17;40H[34h[?25h[?25l[33m101 [0m  Query* query = buffer_local.front ();[17;44H[K[18;1H[1m[33m102 [0m[1m                                                                                                                   [0m[46;104H2,0-1[18;5H[34h[?25h[?25l[33m102 [0m[18;5H[K[19;1H[1m[33m103 [0m[1m  [0m[1m[31mif[0m[1m (!process_query (query)) [0m[46m{[0m[1m                                                                                    [0m[23;7H[46m}[0m[46;104H3,31 [19;35H[34h[?25h[?25l[33m103 [0m  [31mif[0m (!process_query (query)) {[19;36H[K[20;1H[1m[33m104 [0m[1m   buffer_neighbor.push (query);                                                                                   [0m[23;7H}[46;104H4,32[20;36H[34h[?25h[?25l[33m104 [0m   buffer_neighbor.push (query);[20;37H[K[21;1H[1m[33m105 [0m[1m   buffer_local.pop ();                                                                                            [0m[46;104H5,25[21;29H[34h[?25h[?25l[33m105 [0m   buffer_local.pop ();  [21;30H[K[22;1H[1m[33m106 [0m[1m                                                                                                                   [0m[46;104H6,0-1[22;5H[34h[?25h[?25l[33m106 [0m[22;5H[K[23;1H[1m[33m107 [0m[1m  } [0m[1m[31melse[0m[1m [0m[46m{[0m[1m                                                                                                         [0m[25;7H[46m}[0m[46;104H7,10 [23;14H[34h[?25h[?25l[33m107 [0m  } [31melse[0m {[23;15H[K[24;1H[1m[33m108 [0m[1m   buffer_local.pop ();                                                                                            [0m[25;7H}[46;104H8,23[24;27H[34h[?25h[?25l[23;14H[46m{[0m
[33m108 [0m   buffer_local.pop ();[24;28H[K[25;1H[1m[33m109 [0m[1m  [0m[46m}[0m[1m                                                                                                                [0m[46;104H9,3 [25;7H[34h[?25h[?25l[23;14H{

[33m109 [0m  }[25;8H[K[26;1H[1m[33m110 [0m[1m  [0m[1m[31mdelete[0m[1m query;                                                                                                    [0m[46;103H10,15[26;19H[34h[?25h[?25l[11;58H[46m{[0m[26;1H[33m110 [0m  [31mdelete[0m query;[26;20H[K[27;1H[1m[33m111 [0m[1m [0m[46m}[0m[1m                                                                                                                 [0m[46;104H1,2 [27;6H[34h[?25h[?25l[11;58H{[27;1H[33m111 [0m }[27;7H[K[28;1H[1m[33m112 [0m[1m pthread_exit ([12C);                                                                                      [0m[46;104H2,29[28;33H[34h[?25h[?25l[6;48H[46m{[0m[28;1H[33m112 [0m pthread_exit ([12C);[28;34H[K[29;1H[1m[33m113 [0m[46m}[0m[1m                                                                                                                  [0m[46;104H3,1 [29;5H[34h[?25h[?25l[6;48H{[29;1H[33m113 [0m}[29;6H[K[30;1H[1m[33m114 [0m[1m                                                                                                                   [0m[46;104H4,0-1[30;5H[34h[?25h[?25l[33m114 [0m[30;5H[K[31;1H[1m[33m115 [0m[4C[1m Node::process_query (Query* query) {                                                                          [0m[46;104H5,36 [31;40H[34h[?25h[?25l[33m115 [0m[4C Node::process_query (Query* query) {[31;46H[K[32;1H[1m[33m116 [0m[1m assert (query != [4C);                                                                                           [0m[46;104H6,24[32;28H[34h[?25h[?25l[33m116 [0m assert (query != [4C);[32;29H[K[33;1H[1m[33m117 [0m[1m                                                                                                                   [0m[46;104H7,0-1[33;5H[34h[?25h[?25l[33m117 [0m[33;5H[K[34;1H[1m[33m118 [0m[1m [4C result;                                                                                                      [0m[46;104H8,13 [34;17H[34h[?25h[?25l[33m118 [0m [4C result;[34;18H[K[35;1H[1m[33m119 [0m[1m query->setStartDate();                                                                                            [0m[46;104H9,2[35;27H[34h[?25h[?25l[34;1H[1m[33m118 [0m[1m [4C result;                                                                                                      [0m[35;1H[33m119 [0m query->setStartDate();[35;28H[K[46;104H8,1[34;17H[34h[?25h[?25l[33;1H[1m[33m117 [0m[1m                                                                                                                   [0m[34;1H[33m118 [0m [4C result;[34;18H[K[46;104H7,0-1[33;5H[34h[?25h[?25l[32;1H[1m[33m116 [0m[1m assert (query != [4C);                                                                                           [0m[33;1H[33m117 [0m[33;5H[K[46;104H6,24 [32;28H[34h[?25h[?25l[31;1H[1m[33m115 [0m[4C[1m Node::process_query (Query* query) {                                                                          [0m[32;1H[33m116 [0m assert (query != [4C);[32;29H[K[46;104H5,36[31;40H[34h[?25h[?25l[30;1H[1m[33m114 [0m[1m                                                                                                                   [0m[31;1H[33m115 [0m[4C Node::process_query (Query* query) {[31;46H[K[46;104H4,0-1[30;5H[34h[?25h[?25l[6;48H[46m{[0m[29;1H[1m[33m113 [0m[46m}[0m[1m                                                                                                                  [0m[30;1H[33m114 [0m[30;5H[K[46;104H3,1  [29;5H[34h[?25h[?25l[6;48H{[28;1H[1m[33m112 [0m[1m pthread_exit ([12C);                                                                                      [0m[29;1H[33m113 [0m}[29;6H[K[46;104H2,29[28;33H[34h[?25h[?25l[6;48H[46m{[0m[28;1H[33m112 [0m pthread_exit ([12C);[28;34H[K[29;1H[1m[33m113 [0m[46m}[0m[1m                                                                                                                  [0m[46;104H3,1 [29;5H[34h[?25h[?25l[6;48H{[29;1H[33m113 [0m}[29;6H[K[30;1H[1m[33m114 [0m[1m                                                                                                                   [0m[46;104H4,0-1[30;5H[34h[?25h[?25l[33m114 [0m[30;5H[K[31;1H[1m[33m115 [0m[4C[1m Node::process_query (Query* query) {                                                                          [0m[46;104H5,36 [31;40H[34h[?25h[?25l[33m115 [0m[4C Node::process_query (Query* query) {[31;46H[K[32;1H[1m[33m116 [0m[1m assert (query != [4C);                                                                                           [0m[46;104H6,24[32;28H[34h[?25h[?25l[31;1H[1m[33m115 [0m[4C[1m Node::process_query (Query* query) {                                                                          [0m[32;1H[33m116 [0m assert (query != [4C);[32;29H[K[46;104H5,36[31;40H[34h[?25h[?25l[30;1H[1m[33m114 [0m[1m                                                                                                                   [0m[31;1H[33m115 [0m[4C Node::process_query (Query* query) {[31;46H[K[46;104H4,0-1[30;5H[34h[?25h[?25l[6;48H[46m{[0m[29;1H[1m[33m113 [0m[46m}[0m[1m                                                                                                                  [0m[30;1H[33m114 [0m[30;5H[K[46;104H3,1  [29;5H[34h[?25h[?25l[6;48H{[28;1H[1m[33m112 [0m[1m pthread_exit ([12C);                                                                                      [0m[29;1H[33m113 [0m}[29;6H[K[46;104H2,29[28;33H[34h[?25h[?25l[11;58H[46m{[0m[27;1H[1m[33m111 [0m[1m [0m[46m}[0m[1m                                                                                                                 [0m[28;1H[33m112 [0m pthread_exit ([12C);[28;34H[K[46;104H1,2 [27;6H[34h[?25h[?25l[11;58H{[27;1H[33m111 [0m }[27;7H[K[28;1H[1m[33m112 [0m[1m pthread_exit ([12C);                                                                                      [0m[46;104H2,29[28;33H[34h[?25h[?25l[6;48H[46m{[0m[28;1H[33m112 [0m pthread_exit ([12C);[28;34H[K[29;1H[1m[33m113 [0m[46m}[0m[1m                                                                                                                  [0m[46;104H3,1 [29;5H[34h[?25h[?25l[6;48H{[29;1H[33m113 [0m}[29;6H[K[30;1H[1m[33m114 [0m[1m                                                                                                                   [0m[46;104H4,0-1[30;5H[34h[?25h[?25l[33m114 [0m[30;5H[K[31;1H[1m[33m115 [0m[4C[1m Node::process_query (Query* query) {                                                                          [0m[46;104H5,36 [31;40H[34h[?25h[?25l[33m115 [0m[4C Node::process_query (Query* query) {[31;46H[K[32;1H[1m[33m116 [0m[1m assert (query != [4C);                                                                                           [0m[46;104H6,24[32;28H[34h[?25h[?25l[33m116 [0m assert (query != [4C);[32;29H[K[33;1H[1m[33m117 [0m[1m                                                                                                                   [0m[46;104H7,0-1[33;5H[34h[?25h[?25l[33m117 [0m[33;5H[K[34;1H[1m[33m118 [0m[1m [4C result;                                                                                                      [0m[46;104H8,13 [34;17H[34h[?25h[?25l[33;1H[1m[33m117 [0m[1m                                                                                                                   [0m[34;1H[33m118 [0m [4C result;[34;18H[K[46;104H7,0-1[33;5H[34h[?25h[?25l[32;1H[1m[33m116 [0m[1m assert (query != [4C);                                                                                           [0m[33;1H[33m117 [0m[33;5H[K[46;104H6,24 [32;28H[34h[?25h[?25l[31;1H[1m[33m115 [0m[4C[1m Node::process_query (Query* query) {                                                                          [0m[32;1H[33m116 [0m assert (query != [4C);[32;29H[K[46;104H5,36[31;40H[34h[?25h[?25l[30;1H[1m[33m114 [0m[1m                                                                                                                   [0m[31;1H[33m115 [0m[4C Node::process_query (Query* query) {[31;46H[K[46;104H4,0-1[30;5H[34h[?25h[?25l[33m114 [0m[30;5H[K[31;1H[1m[33m115 [0m[4C[1m Node::process_query (Query* query) {                                                                          [0m[46;104H5,36 [31;40H[34h[?25h[?25l[33m115 [0m[4C Node::process_query (Query* query) {[31;46H[K[32;1H[1m[33m116 [0m[1m assert (query != [4C);                                                                                           [0m[46;104H6,24[32;28H[34h[?25h[?25l[33m116 [0m assert (query != [4C);[32;29H[K[33;1H[1m[33m117 [0m[1m                                                                                                                   [0m[46;104H7,0-1[33;5H[34h[?25h[?25l[33m117 [0m[33;5H[K[34;1H[1m[33m118 [0m[1m [4C result;                                                                                                      [0m[46;104H8,13 [34;17H[34h[?25h[?25l[33m118 [0m [4C result;[34;18H[K[35;1H[1m[33m119 [0m[1m query->setStartDate();                                                                                            [0m[46;104H9,2[35;27H[34h[?25h[?25l[33m119 [0m query->setStartDate();[35;28H[K[36;1H[1m[33m120 [0m[1m result = cache.match ([0m[1m[31mstatic_cast[0m[1m<packet*> (query), hitmiss_count);                                               [0m[46;103H20,36[36;40H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;13H[K[46;102H120,2[9C95%[36;6H[34h[?25h[1;15H[1m+ s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[36;6H[1m/result = cache.match ([0m[1m[31mstatic_cast[0m[1m<packet*> (query), hitmiss_count);[0m[46;106H3[36;7H[34h[?25h[?25l[1m[31m//result = cache.match (static_cast<packet*> (query), hitmiss_count);[0m[46;106H4[36;8H[34h[?25h[46;1H[K[?25l[46;102H120,3[9C95%[36;7H[34h[?25h[?25l[46;102H[K[46;1H:[34h[?25hw[?25l"src/simulator/node.cc" 133L, 3298C written[58C120,3[9C95%[1;15H[1ms/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[46;102H[K[46;102H120,3[9C95%[36;7H[34h[?25h[?25l[35;1H[1m[33m119 [0m[1m query->setStartDate();                                                                                            [0m[36;1H[33m120 [0m [36;75H[K[46;103H19[35;7H[34h[?25h[?25l[34;1H[1m[33m118 [0m[1m [4C result;                                                                                                      [0m[35;1H[33m119 [0m query->setStartDate();[35;28H[K[46;104H8[34;7H[34h[?25h[?25l[33;1H[1m[33m117 [0m[1m                                                                                                                   [0m[34;1H[33m118 [0m [4C result;[34;18H[K[46;104H7,0-1[33;5H[34h[?25h[?25l[32;1H[1m[33m116 [0m[1m assert (query != [4C);                                                                                           [0m[33;1H[33m117 [0m[33;5H[K[46;104H6,3  [32;7H[34h[?25h[?25l[31;1H[1m[33m115 [0m[4C[1m Node::process_query (Query* query) {                                                                          [0m[32;1H[33m116 [0m assert (query != [4C);[32;29H[K[46;104H5[31;7H[34h[?25h[?25l[30;1H[1m[33m114 [0m[1m                                                                                                                   [0m[31;1H[33m115 [0m[4C Node::process_query (Query* query) {[31;46H[K[46;104H4,0-1[30;5H[34h[?25h[?25l[6;48H[46m{[0m[29;1H[1m[33m113 [0m[46m}[0m[1m                                                                                                                  [0m[30;1H[33m114 [0m[30;5H[K[46;104H3,1  [29;5H[34h[?25h[?25l[6;48H{[28;1H[1m[33m112 [0m[1m pthread_exit ([12C);                                                                                      [0m[29;1H[33m113 [0m}[29;6H[K[46;104H2,3[28;7H[34h[?25h[?25l[11;58H[46m{[0m[27;1H[1m[33m111 [0m[1m [0m[46m}[0m[1m                                                                                                                 [0m[28;1H[33m112 [0m pthread_exit ([12C);[28;34H[K[46;104H1,2[27;6H[34h[?25h[?25l[11;58H{[26;1H[1m[33m110 [0m[1m  [0m[1m[31mdelete[0m[1m query;                                                                                                    [0m[27;1H[33m111 [0m }[27;7H[K[46;104H0,3[26;7H[34h[?25h[?25l[23;14H[46m{[0m

[1m[33m109 [0m[1m  [0m[46m}[0m[1m                                                                                                                [0m[26;1H[33m110 [0m  [31mdelete[0m query;[26;20H[K[46;103H09[25;7H[34h[?25h[?25l[23;14H{
[1m[33m108 [0m[1m   buffer_local.pop ();                                                                                            [0m[25;1H[33m109 [0m  }[25;8H[K[46;104H8[24;7H[34h[?25h[?25l[19;35H[46m{[0m[23;1H[1m[33m107 [0m[1m  [0m[46m}[0m[1m [0m[1m[31melse[0m[1m {                                                                                                         [0m[24;1H[33m108 [0m   buffer_local.pop ();[24;28H[K[46;104H7[23;7H[34h[?25h[?25l[19;35H{


[1m[33m106 [0m[1m                                                                                                                   [0m[23;1H[33m107 [0m  } [31melse[0m {[23;15H[K[46;104H6,0-1[22;5H[34h[?25h[?25l[21;1H[1m[33m105 [0m[1m   buffer_local.pop ();                                                                                            [0m[22;1H[33m106 [0m[22;5H[K[46;104H5,3  [21;7H[34h[?25h[?25l[20;1H[1m[33m104 [0m[1m   buffer_neighbor.push (query);                                                                                   [0m[21;1H[33m105 [0m   buffer_local.pop ();  [21;30H[K[46;104H4[20;7H[34h[?25h[?25l[19;1H[1m[33m103 [0m[1m  [0m[1m[31mif[0m[1m (!process_query (query)) {                                                                                    [0m[20;1H[33m104 [0m   buffer_neighbor.push (query);[20;37H[K[46;104H3[19;7H[34h[?25h[?25l[18;1H[1m[33m102 [0m[1m                                                                                                                   [0m[19;1H[33m103 [0m  [31mif[0m (!process_query (query)) {[19;36H[K[46;104H2,0-1[18;5H[34h[?25h[?25l[17;1H[1m[33m101 [0m[1m  Query* query = buffer_local.front ();                                                                            [0m[18;1H[33m102 [0m[18;5H[K[46;104H1,3  [17;7H[34h[?25h[?25l[16;1H[1m[33m100 [0m[1m                                                                                                                   [0m[17;1H[33m101 [0m  Query* query = buffer_local.front ();[17;44H[K[46;104H0,0-1[16;5H[34h[?25h[?25l[15;1H[1m[33m 99 [0m[1m   [0m[1m[31mcontinue[0m[1m;                                                                                                       [0m[16;1H[33m100 [0m[16;5H[K[46;102H99,3   [15;7H[34h[?25h[?25l[14;1H[1m[33m 98 [0m[1m  [0m[1m[31mif[0m[1m (die_thread)                                                                                                  [0m[15;1H[33m 99 [0m   [31mcontinue[0m;[15;17H[K[46;103H8[14;7H[34h[?25h[?25l[13;1H[1m[33m 97 [0m[1m   pthread_mutex_lock (&empty);                                                                                    [0m[14;1H[33m 98 [0m  [31mif[0m (die_thread)[14;22H[K[46;103H7[13;7H[34h[?25h[?25l[12;1H[1m[33m 96 [0m[1m  [0m[1m[31mwhile[0m[1m (Queue.empty() && !die_thread)                                                                             [0m[13;1H[33m 97 [0m   pthread_mutex_lock (&empty);[13;36H[K[46;103H6[12;7H[34h[?25h[?25l[11;1H[1m[33m 95 [0m[1m [0m[1m[31mwhile[0m[1m (die_thread != [4C || Queue.empty() != [4C) {                                                             [0m[12;1H[33m 96 [0m  [31mwhile[0m (Queue.empty() && !die_thread) [12;44H[K[46;103H5[11;7H[34h[?25h[?25l[10;1H[1m[33m 94 [0m[1m                                                                                                                   [0m[11;1H[33m 95 [0m [31mwhile[0m (die_thread != [4C || Queue.empty() != [4C) {[11;59H[K[46;103H4,0-1[10;5H[34h[?25h[?25l[9;1H[1m[33m 93 [0m[1m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};                                                             [0m[10;1H[33m 94 [0m[10;5H[K[46;103H3,3  [9;7H[34h[?25h[?25l[33m 93 [0m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};[9;59H[K[10;1H[1m[33m 94 [0m[1m                                                                                                                   [0m[46;103H4,0-1[10;5H[34h[?25h[?25l[33m 94 [0m[10;5H[K[11;1H[1m[33m 95 [0m[1m [0m[1m[31mwhile[0m[1m (die_thread != [4C || Queue.empty() != [4C) {                                                             [0m[46;103H5,3  [11;7H[34h[?25h[?25l[33m 95 [0m [31mwhile[0m (die_thread != [4C || Queue.empty() != [4C) {[11;59H[K[12;1H[1m[33m 96 [0m[1m  [0m[1m[31mwhile[0m[1m (Queue.empty() && !die_thread)                                                                             [0m[46;103H6[12;7H[34h[?25h[?25l[33m 96 [0m  [31mwhile[0m (Queue.empty() && !die_thread) [12;44H[K[13;1H[1m[33m 97 [0m[1m   pthread_mutex_lock (&empty);                                                                                    [0m[46;103H7[13;7H[34h[?25h[?25l[12;1H[1m[33m 96 [0m[1m  [0m[1m[31mwhile[0m[1m (Queue.empty() && !die_thread)                                                                             [0m[13;1H[33m 97 [0m   pthread_mutex_lock (&empty);[13;36H[K[46;103H6[12;7H[34h[?25h[?25l[11;1H[1m[33m 95 [0m[1m [0m[1m[31mwhile[0m[1m (die_thread != [4C || Queue.empty() != [4C) {                                                             [0m[12;1H[33m 96 [0m  [31mwhile[0m (Queue.empty() && !die_thread) [12;44H[K[46;103H5[11;7H[34h[?25h[?25l[10;1H[1m[33m 94 [0m[1m                                                                                                                   [0m[11;1H[33m 95 [0m [31mwhile[0m (die_thread != [4C || Queue.empty() != [4C) {[11;59H[K[46;103H4,0-1[10;5H[34h[?25h[?25l[9;1H[1m[33m 93 [0m[1m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};                                                             [0m[10;1H[33m 94 [0m[10;5H[K[46;103H3,3  [9;7H[34h[?25h[?25l[8;1H[1m[33m 92 [0m[1m                                                                                                                   [0m[9;1H[33m 93 [0m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};[9;59H[K[46;103H2,0-1[8;5H[34h[?25h[?25l[7;1H[1m[33m 91 [0m[1m Node* node = [0m[1m[31mstatic_cast[0m[1m<Node*> (args);                                                                           [0m[8;1H[33m 92 [0m[8;5H[K[46;103H1,3  [7;7H[34h[?25h[?25l[6;1H[1m[33m 90 [0m[4C[1m* Node::thread_worker_fun ([4C* args) {                                                                       [0m[7;1H[33m 91 [0m Node* node = [31mstatic_cast[0m<Node*> (args);[7;45H[K[46;103H0[6;7H[34h[?25h[?25l[46;1H[K[46;1H:[34h[?25hw[?25l"src/simulator/node.cc" 133L, 3298C written[58C90,3[10C95%[46;102H[K[46;102H90,3[10C95%[6;7H[34h[?25h[?25l[46;1H[K[46;1H:tabprevious[23m[24m[0m[H[J[1;1H[1m i/s/node.hh [0m[4m[30m[47m s/s/node.cc  i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m                                               [0m[1;119H[4m[30m[47mX[24m[0m[2;3HServer* attributes;
  Client* scheduler;
  Client* neighbor;

  [1m[34mstatic[0m lru_map<[1m[34mint[0m, [1m[34mint[0m> cache;
  [1m[34mstatic[0m queue<Query> buffer_local;
  [1m[34mstatic[0m queue<Query*> buffer_neighbor;

  [1m[34mint[0m bound_lower, bound_upper;
  [1m[34mstruct[0m timeval time_start, time_end;

  pthread_t thread_neighbor;
  pthread_t thread_scheduler;
  pthread_t thread_worker;

  pthread_mutex_t lock_scheduler_empty;
  pthread_mutex_t lock_neighbor_empty;
  pthread_cond_t cond_scheduler;
  pthread_cond_t cond_neighbor;

  [1m[34mstatic[0m [1m[34mbool[0m die_thread;

  [1m[34mstatic[0m [1m[34muint32_t[0m queryRecieves;
  [1m[34mstatic[0m [1m[34muint32_t[0m queryProcessed;
  [1m[34mstatic[0m [1m[34muint64_t[0m hitCount;
  [1m[34mstatic[0m [1m[34muint64_t[0m missCount;
  [1m[34mstatic[0m [1m[34muint64_t[0m TotalExecTime;
  [1m[34mstatic[0m [1m[34muint64_t[0m TotalWaitTime;
  [1m[34mstatic[0m [1m[34muint64_t[0m inshiftedQueries;
  [1m[34mstatic[0m [1m[34muint64_t[0m outShiftedQueries;

  [1m[31m//Threads functions[0m
  [1m[34mstatic[0m [1m[34mvoid[0m* thread_scheduler_fun ([1m[34mvoid[0m*);
  [1m[34mstatic[0m [1m[34mvoid[0m* thread_neighbor_fun ([1m[34mvoid[0m*);
  [1m[34mstatic[0m [1m[34mvoid[0m* thread_worker_fun ([1m[34mvoid[0m*);

  [1m[31m//Query functions
//  void prepare_query (void);[0m[1m                                                                                         [0m[40;3H[1m[34mbool[0m processQuery ([1m[34mvoid[0m);
  [1m[34mbool[0m swiftQuery ([1m[34mvoid[0m);
  [1m[34mbool[0m schedulerQuery ([1m[34mvoid[0m);

  [1m[34mvoid[0m shutdown ([1m[34mvoid[0m);[46;102H96,2[10C77%[39;2H[34h[?25h[?25l[46;102H[K[46;1H:tabnext[23m[24m[0m[H[J[1;1H[4m[30m[47m i/s/node.hh [24m[0m[1m s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m                                               [0m[1;119H[4m[30m[47mX[24m[0m[2;1H[33m 86 [0m[1m[31m// ------------------------------------------------------ //[0m
[33m 87 [0m[1m[31m//                PROCESSING QUERY SIDE                   //[0m
[33m 88 [0m[1m[31m// ------------------------------------------------------ //[0m
[33m 89 [0m
[1m[33m 90 [0m[1m[34mvoid[0m[1m* Node::thread_worker_fun ([0m[1m[34mvoid[0m[1m* args) {                                                                       [0m[7;1H[33m 91 [0m Node* node = [31mstatic_cast[0m<Node*> (args);
[33m 92 
 93 [0m [1m[34muint64_t[0m* hitmiss_count[[1m[35m2[0m] = {&hitCount, &missCount};
[33m 94 
 95 [0m [31mwhile[0m (die_thread != [1m[35mtrue[0m || Queue.empty() != [1m[35mtrue[0m) {
[33m 96 [0m  [31mwhile[0m (Queue.empty() && !die_thread)
[33m 97 [0m   pthread_mutex_lock (&empty);
[33m 98 [0m  [31mif[0m (die_thread)
[33m 99 [0m   [31mcontinue[0m;
[33m100 
101 [0m  Query* query = buffer_local.front ();
[33m102 
103 [0m  [31mif[0m (!process_query (query)) {
[33m104 [0m   buffer_neighbor.push (query);
[33m105 [0m   buffer_local.pop ();
[33m106 
107 [0m  } [31melse[0m {
[33m108 [0m   buffer_local.pop ();
[33m109 [0m  }
[33m110 [0m  [31mdelete[0m query;
[33m111 [0m }
[33m112 [0m pthread_exit ([1m[35mEXIT_SUCCESS[0m);
[33m113 [0m}
[33m114 
115 [0m[1m[34mbool[0m Node::process_query (Query* query) {
[33m116 [0m assert (query != [1m[35mNULL[0m);
[33m117 
118 [0m [1m[34mbool[0m result;
[33m119 [0m query->setStartDate();
[33m120 [0m [1m[31m//result = cache.match (static_cast<packet*> (query), hitmiss_count);[0m
[33m121 [0m query->setFinishedDate();
[33m122 
123 [0m queryProcessed++;
[33m124 [0m TotalExecTime += query->getExecTime();
[33m125 [0m TotalWaitTime += query->getWaitTime();
[33m126 [0m [31mreturn[0m result;
[33m127 [0m}
[33m128 
129 [0m[1m[31m// ------------------------------------------------------ //[0m[46;102H90,3[10C95%[6;7H[34h[?25h[?25l[46;102H[K[46;1H:tabprevious[23m[24m[0m[H[J[1;1H[1m i/s/node.hh [0m[4m[30m[47m s/s/node.cc  i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m                                               [0m[1;119H[4m[30m[47mX[24m[0m[2;3HServer* attributes;
  Client* scheduler;
  Client* neighbor;

  [1m[34mstatic[0m lru_map<[1m[34mint[0m, [1m[34mint[0m> cache;
  [1m[34mstatic[0m queue<Query> buffer_local;
  [1m[34mstatic[0m queue<Query*> buffer_neighbor;

  [1m[34mint[0m bound_lower, bound_upper;
  [1m[34mstruct[0m timeval time_start, time_end;

  pthread_t thread_neighbor;
  pthread_t thread_scheduler;
  pthread_t thread_worker;

  pthread_mutex_t lock_scheduler_empty;
  pthread_mutex_t lock_neighbor_empty;
  pthread_cond_t cond_scheduler;
  pthread_cond_t cond_neighbor;

  [1m[34mstatic[0m [1m[34mbool[0m die_thread;

  [1m[34mstatic[0m [1m[34muint32_t[0m queryRecieves;
  [1m[34mstatic[0m [1m[34muint32_t[0m queryProcessed;
  [1m[34mstatic[0m [1m[34muint64_t[0m hitCount;
  [1m[34mstatic[0m [1m[34muint64_t[0m missCount;
  [1m[34mstatic[0m [1m[34muint64_t[0m TotalExecTime;
  [1m[34mstatic[0m [1m[34muint64_t[0m TotalWaitTime;
  [1m[34mstatic[0m [1m[34muint64_t[0m inshiftedQueries;
  [1m[34mstatic[0m [1m[34muint64_t[0m outShiftedQueries;

  [1m[31m//Threads functions[0m
  [1m[34mstatic[0m [1m[34mvoid[0m* thread_scheduler_fun ([1m[34mvoid[0m*);
  [1m[34mstatic[0m [1m[34mvoid[0m* thread_neighbor_fun ([1m[34mvoid[0m*);
  [1m[34mstatic[0m [1m[34mvoid[0m* thread_worker_fun ([1m[34mvoid[0m*);

  [1m[31m//Query functions
//  void prepare_query (void);[0m[1m                                                                                         [0m[40;3H[1m[34mbool[0m processQuery ([1m[34mvoid[0m);
  [1m[34mbool[0m swiftQuery ([1m[34mvoid[0m);
  [1m[34mbool[0m schedulerQuery ([1m[34mvoid[0m);

  [1m[34mvoid[0m shutdown ([1m[34mvoid[0m);[46;102H96,2[10C77%[39;2H[34h[?25h[?25l[39;31H[K[40;1H[1m  [4C processQuery ([4C);                                                                                            [0m[46;103H7[40;2H[34h[?25h[?25l[46;105H3[40;3H[34h[?25h[?25l[46;105H4[40;4H[34h[?25h[?25l[46;105H5[40;5H[34h[?25h[?25l[46;105H6[40;6H[34h[?25h[?25l[46;105H7[40;7H[34h[?25h[?25l[46;105H8[40;8H[34h[?25h[?25l[46;105H9[40;9H[34h[?25h[?25l[46;105H10[40;10H[34h[?25h[?25l[46;106H9[40;19H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;102H[K[46;102H97,20[9C77%[40;20H[34h[?25h[1;2H[1m+ i/s/node.hh [0m[4m[30m[47m s/s/node.cc  i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[40;21H[1m ([0m[1m[34mvoid[0m[1m);[0m[46;106H1[40;21H[34h[?25h[?25l[46;106H0[40;20H[34h[?25h[?25l[46;106H1[40;21H[34h[?25h[?25l[1m([0m[1m[34mvoid[0m[1m); [0m[46;106H0[40;20H[34h[?25h[?25l[46;105H19[40;19H[34h[?25h[?25l[46;106H8[40;18H[34h[?25h[?25l[46;106H7[40;17H[34h[?25h[?25l[46;106H6[40;16H[34h[?25h[?25l[46;106H5[40;15H[34h[?25h[?25l[1m_Query ([0m[1m[34mvoid[0m[1m);[0m[46;106H6[40;16H[34h[?25h[46;1H[K[?25l[46;102H97,15[9C77%[40;15H[34h[?25h[?25l[46;106H6[40;16H[34h[?25h[?25l[1mq[0m[46;106H7[40;17H[34h[?25h[?25l[46;102H[K[46;1H:[34h[?25hw[?25l"include/simulator/node.hh" 119L, 2463C written[54C97,17[9C77%[1;2H[1mi/s/node.hh [0m[4m[30m[47m s/s/node.cc  i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[46;102H[K[46;102H97,17[9C77%[40;17H[34h[?25h[?25l  [4C process_query ([4C);[40;29H[K[41;1H[1m  [4C swiftQuery ([4C);                                                                                              [0m[46;103H8[41;17H[34h[?25h[?25l  [4C swiftQuery ([4C);[41;26H[K[42;1H[1m  [4C schedulerQuery ([4C);                                                                                          [0m[46;103H9[42;17H[34h[?25h[?25l[46;106H6[42;16H[34h[?25h[?25l[46;106H5[42;15H[34h[?25h[?25l[41;1H[1m  [4C swiftQuery ([4C);                                                                                              [0m[42;1H  [4C schedulerQuery ([4C);[42;30H[K[46;103H8[41;15H[34h[?25h[?25l[46;106H4[41;14H[34h[?25h[?25l[46;106H3[41;13H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;13H[K[46;102H98,13[9C77%[41;13H[34h[?25h[1;2H[1m+ i/s/node.hh [0m[4m[30m[47m s/s/node.cc  i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[41;13H[1m_Query ([0m[1m[34mvoid[0m[1m);[0m[46;106H4[41;14H[34h[?25h[46;1H[K[?25l[46;102H98,13[9C77%[41;13H[34h[?25h[?25l[46;106H4[41;14H[34h[?25h[?25l[1mq[0m[46;106H5[41;15H[34h[?25h[?25l  [4C swift_query ([4C);[41;27H[K[42;1H[1m  [4C schedulerQuery ([4C);                                                                                          [0m[46;103H9[42;15H[34h[?25h[?25l[46;106H6[42;16H[34h[?25h[?25l[46;106H7[42;17H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;102H[K[46;102H99,17[9C77%[42;17H[34h[?25h[?25l[1m_Query ([0m[1m[34mvoid[0m[1m);[0m[46;106H8[42;18H[34h[?25h[?25l[46;106H9[42;19H[34h[?25h[46;1H[K[?25l[46;102H99,18[9C77%[42;18H[34h[?25h[?25l[46;106H7[42;17H[34h[?25h[?25l[46;106H8[42;18H[34h[?25h[?25l[1mq[0m[46;106H9[42;19H[34h[?25h[?25l[46;102H[K[46;1H:[34h[?25hw[?25l"include/simulator/node.hh" 119L, 2465C written[54C99,19[9C77%[1;2H[1mi/s/node.hh [0m[4m[30m[47m s/s/node.cc  i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[46;102H[K[46;102H99,19[9C77%[42;19H[34h[?25h[?25l[46;1H[K[46;1H:tabnext[23m[24m[0m[H[J[1;1H[4m[30m[47m i/s/node.hh [24m[0m[1m s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m                                               [0m[1;119H[4m[30m[47mX[24m[0m[2;1H[33m 86 [0m[1m[31m// ------------------------------------------------------ //[0m
[33m 87 [0m[1m[31m//                PROCESSING QUERY SIDE                   //[0m
[33m 88 [0m[1m[31m// ------------------------------------------------------ //[0m
[33m 89 [0m
[1m[33m 90 [0m[1m[34mvoid[0m[1m* Node::thread_worker_fun ([0m[1m[34mvoid[0m[1m* args) {                                                                       [0m[7;1H[33m 91 [0m Node* node = [31mstatic_cast[0m<Node*> (args);
[33m 92 
 93 [0m [1m[34muint64_t[0m* hitmiss_count[[1m[35m2[0m] = {&hitCount, &missCount};
[33m 94 
 95 [0m [31mwhile[0m (die_thread != [1m[35mtrue[0m || Queue.empty() != [1m[35mtrue[0m) {
[33m 96 [0m  [31mwhile[0m (Queue.empty() && !die_thread)
[33m 97 [0m   pthread_mutex_lock (&empty);
[33m 98 [0m  [31mif[0m (die_thread)
[33m 99 [0m   [31mcontinue[0m;
[33m100 
101 [0m  Query* query = buffer_local.front ();
[33m102 
103 [0m  [31mif[0m (!process_query (query)) {
[33m104 [0m   buffer_neighbor.push (query);
[33m105 [0m   buffer_local.pop ();
[33m106 
107 [0m  } [31melse[0m {
[33m108 [0m   buffer_local.pop ();
[33m109 [0m  }
[33m110 [0m  [31mdelete[0m query;
[33m111 [0m }
[33m112 [0m pthread_exit ([1m[35mEXIT_SUCCESS[0m);
[33m113 [0m}
[33m114 
115 [0m[1m[34mbool[0m Node::process_query (Query* query) {
[33m116 [0m assert (query != [1m[35mNULL[0m);
[33m117 
118 [0m [1m[34mbool[0m result;
[33m119 [0m query->setStartDate();
[33m120 [0m [1m[31m//result = cache.match (static_cast<packet*> (query), hitmiss_count);[0m
[33m121 [0m query->setFinishedDate();
[33m122 
123 [0m queryProcessed++;
[33m124 [0m TotalExecTime += query->getExecTime();
[33m125 [0m TotalWaitTime += query->getWaitTime();
[33m126 [0m [31mreturn[0m result;
[33m127 [0m}
[33m128 
129 [0m[1m[31m// ------------------------------------------------------ //[0m[46;102H90,3[10C95%[6;7H[34h[?25h[?25l[33m 90 [0m[4C* Node::thread_worker_fun ([4C* args) {[6;49H[K[7;1H[1m[33m 91 [0m[1m Node* node = [0m[1m[31mstatic_cast[0m[1m<Node*> (args);                                                                           [0m[46;103H1[7;7H[34h[?25h[?25l[33m 91 [0m Node* node = [31mstatic_cast[0m<Node*> (args);[7;45H[K[8;1H[1m[33m 92 [0m[1m                                                                                                                   [0m[46;103H2,0-1[8;5H[34h[?25h[?25l[33m 92 [0m[8;5H[K[9;1H[1m[33m 93 [0m[1m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};                                                             [0m[46;103H3,3  [9;7H[34h[?25h[?25l[33m 93 [0m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};[9;59H[K[10;1H[1m[33m 94 [0m[1m                                                                                                                   [0m[46;103H4,0-1[10;5H[34h[?25h[?25l[33m 94 [0m[10;5H[K[11;1H[1m[33m 95 [0m[1m [0m[1m[31mwhile[0m[1m (die_thread != [4C || Queue.empty() != [4C) {                                                             [0m[46;103H5,3  [11;7H[34h[?25h[?25l[33m 95 [0m [31mwhile[0m (die_thread != [4C || Queue.empty() != [4C) {[11;59H[K[12;1H[1m[33m 96 [0m[1m  [0m[1m[31mwhile[0m[1m (Queue.empty() && !die_thread)                                                                             [0m[46;103H6[12;7H[34h[?25h[?25l[33m 96 [0m  [31mwhile[0m (Queue.empty() && !die_thread) [12;44H[K[13;1H[1m[33m 97 [0m[1m   pthread_mutex_lock (&empty);                                                                                    [0m[46;103H7[13;7H[34h[?25h[?25l[33m 97 [0m   pthread_mutex_lock (&empty);[13;36H[K[14;1H[1m[33m 98 [0m[1m  [0m[1m[31mif[0m[1m (die_thread)                                                                                                  [0m[46;103H8[14;7H[34h[?25h[?25l[33m 98 [0m  [31mif[0m (die_thread)[14;22H[K[15;1H[1m[33m 99 [0m[1m   [0m[1m[31mcontinue[0m[1m;                                                                                                       [0m[46;103H9[15;7H[34h[?25h[?25l[33m 99 [0m   [31mcontinue[0m;[15;17H[K[16;1H[1m[33m100 [0m[1m                                                                                                                   [0m[46;102H100,0-1[16;5H[34h[?25h[?25l[33m100 [0m[16;5H[K[17;1H[1m[33m101 [0m[1m  Query* query = buffer_local.front ();                                                                            [0m[46;104H1,3  [17;7H[34h[?25h[?25l[33m101 [0m  Query* query = buffer_local.front ();[17;44H[K[18;1H[1m[33m102 [0m[1m                                                                                                                   [0m[46;104H2,0-1[18;5H[34h[?25h[?25l[33m102 [0m[18;5H[K[19;1H[1m[33m103 [0m[1m  [0m[1m[31mif[0m[1m (!process_query (query)) {                                                                                    [0m[46;104H3,3  [19;7H[34h[?25h[?25l[33m103 [0m  [31mif[0m (!process_query (query)) {[19;36H[K[20;1H[1m[33m104 [0m[1m   buffer_neighbor.push (query);                                                                                   [0m[46;104H4[20;7H[34h[?25h[?25l[33m104 [0m   buffer_neighbor.push (query);[20;37H[K[21;1H[1m[33m105 [0m[1m   buffer_local.pop ();                                                                                            [0m[46;104H5[21;7H[34h[?25h[?25l[33m105 [0m   buffer_local.pop ();  [21;30H[K[22;1H[1m[33m106 [0m[1m                                                                                                                   [0m[46;104H6,0-1[22;5H[34h[?25h[?25l[19;35H[46m{[0m


[33m106 [0m[22;5H[K[23;1H[1m[33m107 [0m[1m  [0m[46m}[0m[1m [0m[1m[31melse[0m[1m {                                                                                                         [0m[46;104H7,3  [23;7H[34h[?25h[?25l[19;35H{[23;1H[33m107 [0m  } [31melse[0m {[23;15H[K[24;1H[1m[33m108 [0m[1m   buffer_local.pop ();                                                                                            [0m[46;104H8[24;7H[34h[?25h[?25l[23;14H[46m{[0m
[33m108 [0m   buffer_local.pop ();[24;28H[K[25;1H[1m[33m109 [0m[1m  [0m[46m}[0m[1m                                                                                                                [0m[46;104H9[25;7H[34h[?25h[?25l[23;14H{

[33m109 [0m  }[25;8H[K[26;1H[1m[33m110 [0m[1m  [0m[1m[31mdelete[0m[1m query;                                                                                                    [0m[46;103H10[26;7H[34h[?25h[?25l[11;58H[46m{[0m[26;1H[33m110 [0m  [31mdelete[0m query;[26;20H[K[27;1H[1m[33m111 [0m[1m [0m[46m}[0m[1m                                                                                                                 [0m[46;104H1,2[27;6H[34h[?25h[?25l[11;58H{[27;1H[33m111 [0m }[27;7H[K[28;1H[1m[33m112 [0m[1m pthread_exit ([12C);                                                                                      [0m[46;104H2,3[28;7H[34h[?25h[?25l[6;48H[46m{[0m[28;1H[33m112 [0m pthread_exit ([12C);[28;34H[K[29;1H[1m[33m113 [0m[46m}[0m[1m                                                                                                                  [0m[46;104H3,1[29;5H[34h[?25h[?25l[6;48H{[29;1H[33m113 [0m}[29;6H[K[30;1H[1m[33m114 [0m[1m                                                                                                                   [0m[46;104H4,0-1[30;5H[34h[?25h[?25l[33m114 [0m[30;5H[K[31;1H[1m[33m115 [0m[4C[1m Node::process_query (Query* query) {                                                                          [0m[46;104H5,3  [31;7H[34h[?25h[?25l[33m115 [0m[4C Node::process_query (Query* query) {[31;46H[K[32;1H[1m[33m116 [0m[1m assert (query != [4C);                                                                                           [0m[46;104H6[32;7H[34h[?25h[?25l[33m116 [0m assert (query != [4C);[32;29H[K[33;1H[1m[33m117 [0m[1m                                                                                                                   [0m[46;104H7,0-1[33;5H[34h[?25h[?25l[33m117 [0m[33;5H[K[34;1H[1m[33m118 [0m[1m [4C result;                                                                                                      [0m[46;104H8,3  [34;7H[34h[?25h[?25l[33m118 [0m [4C result;[34;18H[K[35;1H[1m[33m119 [0m[1m query->setStartDate();                                                                                            [0m[46;104H9[35;7H[34h[?25h[?25l[33m119 [0m query->setStartDate();[35;28H[K[36;1H[1m[33m120 [0m[1m [69C                                             [0m[46;103H20[36;7H[34h[?25h[?25l[33m120 [0m [36;75H[K[37;1H[1m[33m121 [0m[1m query->setFinishedDate();                                                                                         [0m[46;104H1[37;7H[34h[?25h[?25l[33m121 [0m query->setFinishedDate();[37;31H[K[38;1H[1m[33m122 [0m[1m                                                                                                                   [0m[46;104H2,0-1[38;5H[34h[?25h[?25l[33m122 [0m[38;5H[K[39;1H[1m[33m123 [0m[1m queryProcessed++;                                                                                                 [0m[46;104H3,3  [39;7H[34h[?25h[?25l[33m123 [0m queryProcessed++;[39;23H[K[40;1H[1m[33m124 [0m[1m TotalExecTime += query->getExecTime();                                                                            [0m[46;104H4[40;7H[34h[?25h[?25l[33m124 [0m TotalExecTime += query->getExecTime();[40;44H[K[41;1H[1m[33m125 [0m[1m TotalWaitTime += query->getWaitTime();                                                                            [0m[46;104H5[41;7H[34h[?25h[?25l[33m125 [0m TotalWaitTime += query->getWaitTime();[41;44H[K[42;1H[1m[33m126 [0m[1m [0m[1m[31mreturn[0m[1m result;                                                                                                    [0m[46;104H6[42;7H[34h[?25h[?25l[31;45H[46m{[0m[42;1H[33m126 [0m [31mreturn[0m result;[42;20H[K[43;1H[1m[33m127 [0m[46m}[0m[1m                                                                                                                  [0m[46;104H7,1[43;5H[34h[?25h[?25l[31;45H{[43;1H[33m127 [0m}[43;6H[K[44;1H[1m[33m128 [0m[1m                                                                                                                   [0m[46;104H8,0-1[44;5H[34h[?25h[?25l[33m128 [0m[44;5H[K[45;1H[1m[33m129 [0m[60C[1m                                                       [0m[46;104H9,3  [45;7H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m129 [0m[44;65H[K[45;1H[1m[33m130 [0m[1m[34mint[0m[1m main ([0m[1m[34mint[0m[1m argc, [0m[1m[34mchar[0m[1m** argv) {                                                                                 [0m[46;102H[K[46;102H130,3[9C96%[45;7H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m130 [0m[3C main ([3C argc, [4C** argv) {[44;39H[K[45;1H[1m[33m131 [0m[1m                                                                                                                   [0m[46;102H[K[46;102H131,0-1[7C97%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m131 [0m[44;5H[K[45;1H[1m[33m132 [0m[1m [0m[1m[31mreturn[0m[1m [0m[1m[35mEXIT_SUCCESS[0m[1m;                                                                                              [0m[46;102H[K[46;102H132,3[9C98%[45;7H[34h[?25h[?25l[2;45r[45;1H
[1;46r[42;38H[46m{[0m

[33m132 [0m [31mreturn[0m [12C;[44;26H[K[45;1H[1m[33m133 [0m[46m}[0m[1m                                                                                                                  [0m[46;102H[K[46;102H133,1[9CBot[45;5H[34h[?25h[?25l[42;38H{

[1m[33m132 [0m[1m [0m[1m[31mreturn[0m[1m [12C;                                                                                              [0m[45;1H[33m133 [0m}[45;6H[K[46;104H2,3[44;7H[34h[?25h[?25l[43;1H[1m[33m131 [0m[1m                                                                                                                   [0m[44;1H[33m132 [0m [31mreturn[0m [12C;[44;26H[K[46;104H1,0-1[43;5H[34h[?25h[?25l[42;1H[1m[33m130 [0m[3C[1m main ([3C argc, [4C** argv) {                                                                                 [0m[43;1H[33m131 [0m[43;5H[K[46;104H0,3  [42;7H[34h[?25h[?25l[41;1H[1m[33m129 [0m[60C[1m                                                       [0m[42;1H[33m130 [0m[3C main ([3C argc, [4C** argv) {[42;39H[K[46;103H29[41;7H[34h[?25h[?25l[40;1H[1m[33m128 [0m[1m                                                                                                                   [0m[41;1H[33m129 [0m[41;65H[K[46;104H8,0-1[40;5H[34h[?25h[?25l[27;45H[46m{[0m[39;1H[1m[33m127 [0m[46m}[0m[1m                                                                                                                  [0m[40;1H[33m128 [0m[40;5H[K[46;104H7,1  [39;5H[34h[?25h[?25l[27;45H{[38;1H[1m[33m126 [0m[1m [0m[1m[31mreturn[0m[1m result;                                                                                                    [0m[39;1H[33m127 [0m}[39;6H[K[46;104H6,3[38;7H[34h[?25h[?25l[37;1H[1m[33m125 [0m[1m TotalWaitTime += query->getWaitTime();                                                                            [0m[38;1H[33m126 [0m [31mreturn[0m result;[38;20H[K[46;104H5[37;7H[34h[?25h[?25l[36;1H[1m[33m124 [0m[1m TotalExecTime += query->getExecTime();                                                                            [0m[37;1H[33m125 [0m TotalWaitTime += query->getWaitTime();[37;44H[K[46;104H4[36;7H[34h[?25h[?25l[35;1H[1m[33m123 [0m[1m queryProcessed++;                                                                                                 [0m[36;1H[33m124 [0m TotalExecTime += query->getExecTime();[36;44H[K[46;104H3[35;7H[34h[?25h[?25l[34;1H[1m[33m122 [0m[1m                                                                                                                   [0m[35;1H[33m123 [0m queryProcessed++;[35;23H[K[46;104H2,0-1[34;5H[34h[?25h[?25l[33;1H[1m[33m121 [0m[1m query->setFinishedDate();                                                                                         [0m[34;1H[33m122 [0m[34;5H[K[46;104H1,3  [33;7H[34h[?25h[?25l[32;1H[1m[33m120 [0m[1m [69C                                             [0m[33;1H[33m121 [0m query->setFinishedDate();[33;31H[K[46;104H0[32;7H[34h[?25h[?25l[31;1H[1m[33m119 [0m[1m query->setStartDate();                                                                                            [0m[32;1H[33m120 [0m [32;75H[K[46;103H19[31;7H[34h[?25h[?25l[30;1H[1m[33m118 [0m[1m [4C result;                                                                                                      [0m[31;1H[33m119 [0m query->setStartDate();[31;28H[K[46;104H8[30;7H[34h[?25h[?25l[29;1H[1m[33m117 [0m[1m                                                                                                                   [0m[30;1H[33m118 [0m [4C result;[30;18H[K[46;104H7,0-1[29;5H[34h[?25h[?25l[28;1H[1m[33m116 [0m[1m assert (query != [4C);                                                                                           [0m[29;1H[33m117 [0m[29;5H[K[46;104H6,3  [28;7H[34h[?25h[?25l[27;1H[1m[33m115 [0m[4C[1m Node::process_query (Query* query) {                                                                          [0m[28;1H[33m116 [0m assert (query != [4C);[28;29H[K[46;104H5[27;7H[34h[?25h[?25l[26;1H[1m[33m114 [0m[1m                                                                                                                   [0m[27;1H[33m115 [0m[4C Node::process_query (Query* query) {[27;46H[K[46;104H4,0-1[26;5H[34h[?25h[?25l[2;48H[46m{[0m[25;1H[1m[33m113 [0m[46m}[0m[1m                                                                                                                  [0m[26;1H[33m114 [0m[26;5H[K[46;104H3,1  [25;5H[34h[?25h[?25l[2;48H{[24;1H[1m[33m112 [0m[1m pthread_exit ([12C);                                                                                      [0m[25;1H[33m113 [0m}[25;6H[K[46;104H2,3[24;7H[34h[?25h[?25l[7;58H[46m{[0m[23;1H[1m[33m111 [0m[1m [0m[46m}[0m[1m                                                                                                                 [0m[24;1H[33m112 [0m pthread_exit ([12C);[24;34H[K[46;104H1,2[23;6H[34h[?25h[?25l[7;58H{[22;1H[1m[33m110 [0m[1m  [0m[1m[31mdelete[0m[1m query;                                                                                                    [0m[23;1H[33m111 [0m }[23;7H[K[46;104H0,3[22;7H[34h[?25h[?25l[19;14H[46m{[0m

[1m[33m109 [0m[1m  [0m[46m}[0m[1m                                                                                                                [0m[22;1H[33m110 [0m  [31mdelete[0m query;[22;20H[K[46;103H09[21;7H[34h[?25h[?25l[19;14H{
[1m[33m108 [0m[1m   buffer_local.pop ();                                                                                            [0m[21;1H[33m109 [0m  }[21;8H[K[46;104H8[20;7H[34h[?25h[?25l[15;35H[46m{[0m[19;1H[1m[33m107 [0m[1m  [0m[46m}[0m[1m [0m[1m[31melse[0m[1m {                                                                                                         [0m[20;1H[33m108 [0m   buffer_local.pop ();[20;28H[K[46;104H7[19;7H[34h[?25h[?25l[15;35H{


[1m[33m106 [0m[1m                                                                                                                   [0m[19;1H[33m107 [0m  } [31melse[0m {[19;15H[K[46;104H6,0-1[18;5H[34h[?25h[?25l[17;1H[1m[33m105 [0m[1m   buffer_local.pop ();                                                                                            [0m[18;1H[33m106 [0m[18;5H[K[46;104H5,3  [17;7H[34h[?25h[?25l[16;1H[1m[33m104 [0m[1m   buffer_neighbor.push (query);                                                                                   [0m[17;1H[33m105 [0m   buffer_local.pop ();  [17;30H[K[46;104H4[16;7H[34h[?25h[?25l[15;1H[1m[33m103 [0m[1m  [0m[1m[31mif[0m[1m (!process_query (query)) {                                                                                    [0m[16;1H[33m104 [0m   buffer_neighbor.push (query);[16;37H[K[46;104H3[15;7H[34h[?25h[?25l[14;1H[1m[33m102 [0m[1m                                                                                                                   [0m[15;1H[33m103 [0m  [31mif[0m (!process_query (query)) {[15;36H[K[46;104H2,0-1[14;5H[34h[?25h[?25l[13;1H[1m[33m101 [0m[1m  Query* query = buffer_local.front ();                                                                            [0m[14;1H[33m102 [0m[14;5H[K[46;104H1,3  [13;7H[34h[?25h[?25l[12;1H[1m[33m100 [0m[1m                                                                                                                   [0m[13;1H[33m101 [0m  Query* query = buffer_local.front ();[13;44H[K[46;104H0,0-1[12;5H[34h[?25h[?25l[11;1H[1m[33m 99 [0m[1m   [0m[1m[31mcontinue[0m[1m;                                                                                                       [0m[12;1H[33m100 [0m[12;5H[K[46;102H99,3   [11;7H[34h[?25h[?25l[10;1H[1m[33m 98 [0m[1m  [0m[1m[31mif[0m[1m (die_thread)                                                                                                  [0m[11;1H[33m 99 [0m   [31mcontinue[0m;[11;17H[K[46;103H8[10;7H[34h[?25h[?25l[9;1H[1m[33m 97 [0m[1m   pthread_mutex_lock (&empty);                                                                                    [0m[10;1H[33m 98 [0m  [31mif[0m (die_thread)[10;22H[K[46;103H7[9;7H[34h[?25h[?25l[8;1H[1m[33m 96 [0m[1m  [0m[1m[31mwhile[0m[1m (Queue.empty() && !die_thread)                                                                             [0m[9;1H[33m 97 [0m   pthread_mutex_lock (&empty);[9;36H[K[46;103H6[8;7H[34h[?25h[?25l[7;1H[1m[33m 95 [0m[1m [0m[1m[31mwhile[0m[1m (die_thread != [4C || Queue.empty() != [4C) {                                                             [0m[8;1H[33m 96 [0m  [31mwhile[0m (Queue.empty() && !die_thread) [8;44H[K[46;103H5[7;7H[34h[?25h[?25l[6;1H[1m[33m 94 [0m[1m                                                                                                                   [0m[7;1H[33m 95 [0m [31mwhile[0m (die_thread != [4C || Queue.empty() != [4C) {[7;59H[K[46;103H4,0-1[6;5H[34h[?25h[?25l[5;1H[1m[33m 93 [0m[1m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};                                                             [0m[6;1H[33m 94 [0m[6;5H[K[46;103H3,3  [5;7H[34h[?25h[?25l[4;1H[1m[33m 92 [0m[1m                                                                                                                   [0m[5;1H[33m 93 [0m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};[5;59H[K[46;103H2,0-1[4;5H[34h[?25h[?25l[3;1H[1m[33m 91 [0m[1m Node* node = [0m[1m[31mstatic_cast[0m[1m<Node*> (args);                                                                           [0m[4;1H[33m 92 [0m[4;5H[K[46;103H1,3  [3;7H[34h[?25h[?25l[2;1H[1m[33m 90 [0m[4C[1m* Node::thread_worker_fun ([4C* args) {                                                                       [0m[3;1H[33m 91 [0m Node* node = [31mstatic_cast[0m<Node*> (args);[3;45H[K[46;103H0[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 89 [0m[1m                                                                                                                   [0m[3;1H[33m 90 [0m[4C* Node::thread_worker_fun ([4C* args) {[3;49H[K[46;102H[K[46;102H89,0-1[8C98%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 88 [0m[1m[31m// ------------------------------------------------------ //[0m[1m                                                       [0m[3;1H[33m 89 [0m[3;5H[K[46;102H[K[46;102H88,3[10C97%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 87 [0m[1m[31m//                PROCESSING QUERY SIDE                   //[0m[1m                                                       [0m[3;1H[33m 88 [0m[3;65H[K[46;102H[K[46;102H87,3[10C96%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 86 [0m[1m[31m// ------------------------------------------------------ //[0m[1m                                                       [0m[3;1H[33m 87 [0m[3;65H[K[46;102H[K[46;102H86,3[10C95%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 85 [0m[1m                                                                                                                   [0m[3;1H[33m 86 [0m[3;65H[K[46;102H[K[46;102H85,0-1[8C94%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 84 [0m[1m}                                                                                                                  [0m[3;1H[33m 85 [0m[3;5H[K[46;102H[K[46;102H84,1[10C93%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 83 [0m[1m [0m[1m[31m//buffer_local.push (ss.recieve<query>());[0m[1m                                                                        [0m[3;1H[33m 84 [0m}[3;6H[K[46;102H[K[46;102H83,3[10C92%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 82 [0m[1m[34mvoid[0m[1m Node::prepare_query ([0m[1m[34mvoid[0m[1m) {                                                                                  [0m[3;1H[33m 83 [0m [3;48H[K[46;102H[K[46;102H82,3[10C91%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 81 [0m[1m                                                                                                                   [0m[3;1H[33m 82 [0m[4C Node::prepare_query ([4C) {[3;38H[K[46;102H[K[46;102H81,0-1[8C89%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 80 [0m[1m}                                                                                                                  [0m[3;1H[33m 81 [0m[3;5H[K[46;102H[K[46;102H80,1[10C88%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 79 [0m[1m }                                                                                                                 [0m[3;1H[33m 80 [0m}[3;6H[K[46;102H[K[46;102H79,2[10C87%[2;6H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 78 [0m[1m  }                                                                                                                [0m[3;1H[33m 79 [0m }[3;7H[K[46;102H[K[46;102H78,3[10C86%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 77 [0m[1m   [0m[1m[31m//recieve back[0m[1m                                                                                                  [0m[3;1H[33m 78 [0m  }[3;8H[K[46;102H[K[46;102H77,3[10C85%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 76 [0m[1m   [0m[1m[31m//To scheduler some miss-wrong message and [0m[1m                                                                     [0m[3;1H[33m 77 [0m   [3;22H[K[46;102H[K[46;102H76,3[10C84%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 75 [0m[1m   [0m[1m[31m//Some routine to reset sockets and inform [0m[1m                                                                     [0m[3;1H[33m 76 [0m   [3;51H[K[46;102H[K[46;102H75,3[10C83%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 74 [0m[1m  } [0m[1m[31mcatch[0m[1m (Exception& e) {                                                                                         [0m[3;1H[33m 75 [0m   [3;51H[K[46;102H[K[46;102H74,3[10C82%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 73 [0m[1m   }                                                                                                               [0m[3;1H[33m 74 [0m  } [31mcatch[0m (Exception& e) {[3;31H[K[46;102H[K[46;102H73,3[10C80%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 72 [0m[1m    [0m[1m[31mdefault[0m[1m:    [0m[1m[31mthrow[0m[1m Exception ([0m[1m[35m"Unknown message"[0m[1m);                                                               [0m[3;1H[33m 73 [0m   }[3;9H[K[46;102H[K[46;102H72,3[10C79%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 71 [0m[1m    [0m[1m[31mcase[0m[1m QUIT:  node->shutdown();                               [0m[1m[31mbreak[0m[1m;                                             [0m[3;1H[33m 72 [0m    [31mdefault[0m:    [31mthrow[0m Exception ([17C);[3;57H[K[46;102H[K[46;102H71,3[10C78%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 70 [0m[1m    [0m[1m[31mcase[0m[1m INFO:  [0m[1m[31m/*node->inform_scheduler();*/[0m[1m                   [0m[1m[31mbreak[0m[1m;                                             [0m[3;1H[33m 71 [0m    [31mcase[0m QUIT:  node->shutdown();                               [31mbreak[0m;[3;75H[K[46;102H[K[46;102H70,3[10C77%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 69 [0m[1m    [0m[1m[31mcase[0m[1m QUERY: node->buffer_local.push (ss.recieve<Query>());  [0m[1m[31mbreak[0m[1m;                                             [0m[3;1H[33m 70 [0m    [31mcase[0m INFO:  [29C                   [31mbreak[0m;[3;75H[K[46;102H[K[46;102H69,3[10C76%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 68 [0m[1m   [0m[1m[31mswitch[0m[1m (ss.getType()) {                                                                                         [0m[3;1H[33m 69 [0m    [31mcase[0m QUERY: node->buffer_local.push (ss.recieve<Query>());  [31mbreak[0m;[3;75H[K[46;102H[K[46;102H68,3[10C75%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 67 [0m[1m  [0m[1m[31mtry[0m[1m {                                                                                                            [0m[3;1H[33m 68 [0m   [31mswitch[0m (ss.getType()) {[3;31H[K[46;102H[K[46;102H67,3[10C74%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 66 [0m[1m [0m[1m[31mwhile[0m[1m ([0m[1m[35mtrue[0m[1m) {                                                                                                    [0m[3;1H[33m 67 [0m  [31mtry[0m {[3;12H[K[46;102H[K[46;102H66,3[10C73%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 65 [0m[1m socket_stream ss = node->scheduler->connect();                                                                    [0m[3;1H[33m 66 [0m [31mwhile[0m ([4C) {[3;20H[K[46;102H[K[46;102H65,3[10C71%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 64 [0m[1m                                                                                                                   [0m[3;1H[33m 65 [0m socket_stream ss = node->scheduler->connect();[3;52H[K[46;102H[K[46;102H64,0-1[8C70%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 63 [0m[1m Node* node = [0m[1m[31mstatic_cast[0m[1m<Node*> (args);                                                                           [0m[3;1H[33m 64 [0m[3;5H[K[46;102H[K[46;102H63,3[10C69%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 62 [0m[1m[34mvoid[0m[1m* Node::thread_scheduler_fun ([0m[1m[34mvoid[0m[1m* args) {                                                                    [0m[3;1H[33m 63 [0m Node* node = [31mstatic_cast[0m<Node*> (args);[3;45H[K[46;102H[K[46;102H62,3[10C68%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 61 [0m[1m                                                                                                                   [0m[3;1H[33m 62 [0m[4C* Node::thread_scheduler_fun ([4C* args) { [3;53H[K[46;102H[K[46;102H61,0-1[8C67%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 60 [0m[1m[31m// ------------------------------------------------------ //[0m[1m                                                       [0m[3;1H[33m 61 [0m[3;5H[K[46;102H[K[46;102H60,3[10C66%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 59 [0m[1m[31m//              RECIEVING QUERIES SIDE                    //[0m[1m                                                       [0m[3;1H[33m 60 [0m[3;65H[K[46;102H[K[46;102H59,3[10C65%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 58 [0m[1m[31m// ------------------------------------------------------ //[0m[1m                                                       [0m[3;1H[33m 59 [0m[3;65H[K[46;102H[K[46;102H58,3[10C64%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 57 [0m[1m[34mvoid[0m[1m* Node::thread_neighbor_fun ([0m[1m[34mvoid[0m[1m* args) {}                                                                    [0m[3;1H[33m 58 [0m[3;65H[K[46;102H[K[46;102H57,3[10C62%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 56 [0m[1m[31m//ToDo[0m[1m                                                                                                             [0m[3;1H[33m 57 [0m[4C* Node::thread_neighbor_fun ([4C* args) {}[3;52H[K[46;102H[K[46;102H56,3[10C61%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 55 [0m[1m                                                                                                                   [0m[3;1H[33m 56 [0m[3;11H[K[46;102H[K[46;102H55,0-1[8C60%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 54 [0m[1m[31m// ------------------------------------------------------ //[0m[1m                                                       [0m[3;1H[33m 55 [0m[3;5H[K[46;102H[K[46;102H54,3[10C59%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 53 [0m[1m[31m//                                                        //[0m[1m                                                       [0m[3;1H[33m 54 [0m[3;65H[K[46;102H[K[46;102H53,3[10C58%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 52 [0m[1m[31m// ------------------------------------------------------ //[0m[1m                                                       [0m[3;1H[33m 53 [0m[3;65H[K[46;102H[K[46;102H52,3[10C57%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 51 [0m[1m                                                                                                                   [0m[3;1H[33m 52 [0m[3;65H[K[46;102H[K[46;102H51,0-1[8C56%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 50 [0m[1m}                                                                                                                  [0m[3;1H[33m 51 [0m[3;5H[K[46;102H[K[46;102H50,1[10C55%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 49 [0m[1m [0m[1m[31mreturn[0m[1m [0m[1m[35mtrue[0m[1m;                                                                                                      [0m[3;1H[33m 50 [0m}[3;6H[K[46;102H[K[46;102H49,3[10C53%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 48 [0m[1m                                                                                                                   [0m[3;1H[33m 49 [0m [31mreturn[0m [4C;[3;18H[K[46;102H[K[46;102H48,0-1[8C52%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 47 [0m[1m pthread_join (thread_worker,    [0m[1m[35mNULL[0m[1m);                                                                            [0m[3;1H[33m 48 [0m[3;5H[K[46;102H[K[46;102H47,3[10C51%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 46 [0m[1m pthread_join (thread_neighbor,  [0m[1m[35mNULL[0m[1m);                                                                            [0m[3;1H[33m 47 [0m pthread_join (thread_worker,    [4C);[3;44H[K[46;102H[K[46;102H46,3[10C50%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 45 [0m[1m pthread_join (thread_scheduler, [0m[1m[35mNULL[0m[1m);                                                                            [0m[3;1H[33m 46 [0m pthread_join (thread_neighbor,  [4C);[3;44H[K[46;102H[K[46;102H45,3[10C49%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 44 [0m[1m                                                                                                                   [0m[3;1H[33m 45 [0m pthread_join (thread_scheduler, [4C);[3;44H[K[46;102H[K[46;102H44,0-1[8C48%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 43 [0m[1m pthread_create (&thread_neighbor,  [0m[1m[35mNULL[0m[1m, &thread_neighbor_fun,   [0m[1m[31mthis[0m[1m);                                           [0m[3;1H[33m 44 [0m[3;5H[K[46;102H[K[46;102H43,3[10C47%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 42 [0m[1m pthread_create (&thread_worker,    [0m[1m[35mNULL[0m[1m, &thread_worker_fun,     [0m[1m[31mthis[0m[1m);                                           [0m[3;1H[33m 43 [0m pthread_create (&thread_neighbor,  [4C, &thread_neighbor_fun,   [31mthis[0m);[3;77H[K[46;102H[K[46;102H42,3[10C46%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 41 [0m[1m pthread_create (&thread_scheduler, [0m[1m[35mNULL[0m[1m, &thread_scheduler_fun , [0m[1m[31mthis[0m[1m);                                           [0m[3;1H[33m 42 [0m pthread_create (&thread_worker,    [4C, &thread_worker_fun,     [31mthis[0m);[3;77H[K[46;102H[K[46;102H41,3[10C44%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 40 [0m[1m[34mbool[0m[1m Node::start () {                                                                                              [0m[3;1H[33m 41 [0m pthread_create (&thread_scheduler, [4C, &thread_scheduler_fun , [31mthis[0m);[3;77H[K[46;102H[K[46;102H40,3[10C43%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 39 [0m[1m                                                                                                                   [0m[3;1H[33m 40 [0m[4C Node::start () {[3;26H[K[46;102H[K[46;102H39,0-1[8C42%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 38 [0m[1m}                                                                                                                  [0m[3;1H[33m 39 [0m[3;5H[K[46;102H[K[46;102H38,1[10C41%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 37 [0m[1m [0m[1m[31mreturn[0m[1m [0m[1m[35mtrue[0m[1m;                                                                                                      [0m[3;1H[33m 38 [0m}[3;6H[K[46;102H[K[46;102H37,3[10C40%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 36 [0m[1m scheduler->connect();                                                                                             [0m[3;1H[33m 37 [0m [31mreturn[0m [4C;[3;18H[K[46;102H[K[46;102H36,3[10C39%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 35 [0m[1m                                                                                                                   [0m[3;1H[33m 36 [0m scheduler->connect();[3;27H[K[46;102H[K[46;102H35,0-1[8C38%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 34 [0m[1m pthread_mutex_lock (&lock_neighbor_empty);                                                                        [0m[3;1H[33m 35 [0m[3;5H[K[46;102H[K[46;102H34,3[10C37%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 33 [0m[1m pthread_mutex_lock (&lock_scheduler_empty);                                                                       [0m[3;1H[33m 34 [0m pthread_mutex_lock (&lock_neighbor_empty); [3;49H[K[46;102H[K[46;102H33,3[10C35%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 32 [0m[1m[34mbool[0m[1m Node::init () {                                                                                               [0m[3;1H[33m 33 [0m pthread_mutex_lock (&lock_scheduler_empty); [3;50H[K[46;102H[K[46;102H32,3[10C34%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 31 [0m[1m                                                                                                                   [0m[3;1H[33m 32 [0m[4C Node::init () {[3;25H[K[46;102H[K[46;102H31,0-1[8C33%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 30 [0m[1m}                                                                                                                  [0m[3;1H[33m 31 [0m[3;5H[K[46;102H[K[46;102H30,1[10C32%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 29 [0m[1m [0m[1m[31mdelete[0m[1m neighbor;                                                                                                  [0m[3;1H[33m 30 [0m}[3;6H[K[46;102H[K[46;102H29,3[10C31%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 28 [0m[1m [0m[1m[31mdelete[0m[1m scheduler;                                                                                                 [0m[3;1H[33m 29 [0m [31mdelete[0m neighbor;[3;22H[K[46;102H[K[46;102H28,3[10C30%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 27 [0m[1m [0m[1m[31mdelete[0m[1m attributes;                                                                                                [0m[3;1H[33m 28 [0m [31mdelete[0m scheduler;[3;23H[K[46;102H[K[46;102H27,3[10C29%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 26 [0m[1m                                                                                                                   [0m[3;1H[33m 27 [0m [31mdelete[0m attributes;[3;24H[K[46;102H[K[46;102H26,0-1[8C28%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 25 [0m[1m pthread_mutex_unlock (&lock_neighbor_empty);                                                                      [0m[3;1H[33m 26 [0m[3;5H[K[46;102H[K[46;102H25,3[10C26%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 24 [0m[1m pthread_mutex_unlock (&lock_scheduler_empty);                                                                     [0m[3;1H[33m 25 [0m pthread_mutex_unlock (&lock_neighbor_empty); [3;51H[K[46;102H[K[46;102H24,3[10C25%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 23 [0m[1m[34mvoid[0m[1m Node::shutdown() {                                                                                            [0m[3;1H[33m 24 [0m pthread_mutex_unlock (&lock_scheduler_empty); [3;52H[K[46;102H[K[46;102H23,3[10C24%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 22 [0m[1m                                                                                                                   [0m[3;1H[33m 23 [0m[4C Node::shutdown() {[3;28H[K[46;102H[K[46;102H22,0-1[8C23%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 21 [0m[1m}                                                                                                                  [0m[3;1H[33m 22 [0m[3;5H[K[46;102H[K[46;102H21,1[10C22%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 20 [0m[1m shutdown();                                                                                                       [0m[3;1H[33m 21 [0m}[3;6H[K[46;102H[K[46;102H20,3[10C21%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 19 [0m[1mNode::~Node() {                                                                                                    [0m[3;1H[33m 20 [0m shutdown();[3;17H[K[46;102H[K[46;102H19,3[10C20%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 18 [0m[1m                                                                                                                   [0m[3;1H[33m 19 [0mNode::~Node() {[3;20H[K[46;102H[K[46;102H18,0-1[8C19%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 17 [0m[1m}                                                                                                                  [0m[3;1H[33m 18 [0m[3;5H[K[46;102H[K[46;102H17,1[10C17%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 16 [0m[1m die_thread = [0m[1m[35mfalse[0m[1m;                                                                                               [0m[3;1H[33m 17 [0m}[3;6H[K[46;102H[K[46;102H16,3[10C16%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 15 [0m[1m [0m[1m[31m//empty = PTHREAD_MUTEX_INTIALIZER;[0m[1m                                                                               [0m[3;1H[33m 16 [0m die_thread = [5C;[3;25H[K[46;102H[K[46;102H15,3[10C15%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 14 [0m[1m                                                                                                                   [0m[3;1H[33m 15 [0m [3;41H[K[46;102H[K[46;102H14,0-1[8C14%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 13 [0m[1m scheduler->setUp();                                                                                               [0m[3;1H[33m 14 [0m[3;5H[K[46;102H[K[46;102H13,3[10C13%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 12 [0m[1m                                                                                                                   [0m[3;1H[33m 13 [0m scheduler->setUp();[3;25H[K[46;102H[K[46;102H12,1[10C12%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 11 [0m[1m attributes->bind();                                                                                               [0m[3;1H[33m 12 [0m [3;6H[K[46;102H[K[46;102H11,3[10C11%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 10 [0m[1m attributes->setUp();                                                                                              [0m[3;1H[33m 11 [0m attributes->bind();[3;25H[K[46;102H[K[46;102H10,3[10C10%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m  9 [0m[1m                                                                                                                   [0m[3;1H[33m 10 [0m attributes->setUp();[3;26H[K[46;102H[K[46;102H9,0-1[10C8%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m  8 [0m[1m scheduler = [0m[1m[31mnew[0m[1m Client (PORT, HOST);                                                                              [0m[3;1H[33m  9 [0m[3;5H[K[46;102H[K[46;102H8,3[12C7%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m  7 [0m[1m attributes = [0m[1m[31mnew[0m[1m Server (PORT);                                                                                   [0m[3;1H[33m  8 [0m scheduler = [31mnew[0m Client (PORT, HOST);[3;42H[K[46;102H[K[46;102H7,3[12C6%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m  6 [0m[1mNode::Node() {                                                                                                     [0m[3;1H[33m  7 [0m attributes = [31mnew[0m Server (PORT);[3;37H[K[46;102H[K[46;102H6,3[12C5%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m  5 [0m[1m                                                                                                                   [0m[3;1H[33m  6 [0mNode::Node() {[3;19H[K[46;102H[K[46;102H5,0-1[10C4%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m  4 [0m[1m[31musing[0m[1m [0m[1m[34mnamespace[0m[1m tcp_socket;                                                                                        [0m[3;1H[33m  5 [0m[3;5H[K[46;102H[K[46;102H4,3[12C3%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m  3 [0m[1m[31musing[0m[1m [0m[1m[34mnamespace[0m[1m std;                                                                                               [0m[3;1H[33m  4 [0m[31musing[0m [9C tcp_socket;[3;32H[K[46;102H[K[46;102H3,3[12C2%[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m  2 [0m[1m                                                                                                                   [0m[3;1H[33m  3 [0m[31musing[0m [9C std;[3;25H[K[46;102H[K[46;102H2,0-1[10C1%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m  1 [0m[1m[35m#include <node.hh>[0m[1m                                                                                                 [0m[3;1H[33m  2 [0m[3;5H[K[46;102H[K[46;102H1,3[11CTop[2;7H[34h[?25h[?25l[23m[24m[0m[H[J[1;1H[4m[30m[47m i/s/node.hh [24m[0m[1m s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m                                               [0m[1;119H[4m[30m[47mX[24m[0m[2;1H[33m 90 [0m[1m[34mvoid[0m* Node::thread_worker_fun ([1m[34mvoid[0m* args) {
[33m 91 [0m Node* node = [31mstatic_cast[0m<Node*> (args);
[33m 92 
 93 [0m [1m[34muint64_t[0m* hitmiss_count[[1m[35m2[0m] = {&hitCount, &missCount};
[33m 94 
 95 [0m [31mwhile[0m (die_thread != [1m[35mtrue[0m || Queue.empty() != [1m[35mtrue[0m) {
[33m 96 [0m  [31mwhile[0m (Queue.empty() && !die_thread)
[33m 97 [0m   pthread_mutex_lock (&empty);
[33m 98 [0m  [31mif[0m (die_thread)
[33m 99 [0m   [31mcontinue[0m;
[33m100 
101 [0m  Query* query = buffer_local.front ();
[33m102 
103 [0m  [31mif[0m (!process_query (query)) {
[33m104 [0m   buffer_neighbor.push (query);
[33m105 [0m   buffer_local.pop ();
[33m106 
107 [0m  } [31melse[0m {
[33m108 [0m   buffer_local.pop ();
[33m109 [0m  }
[33m110 [0m  [31mdelete[0m query;
[33m111 [0m }
[33m112 [0m pthread_exit ([1m[35mEXIT_SUCCESS[0m);
[33m113 [0m}
[33m114 
115 [0m[1m[34mbool[0m Node::process_query (Query* query) {
[33m116 [0m assert (query != [1m[35mNULL[0m);
[33m117 
118 [0m [1m[34mbool[0m result;
[33m119 [0m query->setStartDate();
[33m120 [0m [1m[31m//result = cache.match (static_cast<packet*> (query), hitmiss_count);[0m
[33m121 [0m query->setFinishedDate();
[33m122 
123 [0m queryProcessed++;
[33m124 [0m TotalExecTime += query->getExecTime();
[33m125 [0m TotalWaitTime += query->getWaitTime();
[33m126 [0m [31mreturn[0m result;
[33m127 [0m}
[33m128 
129 [0m[1m[31m// ------------------------------------------------------ //[0m
[33m130 [0m[1m[34mint[0m main ([1m[34mint[0m argc, [1m[34mchar[0m** argv) [46m{[0m
[33m131 
132 [0m [31mreturn[0m [1m[35mEXIT_SUCCESS[0m;
[1m[33m133 [0m[46m}[0m[1m                                                                                                                  [0m[46;102H133,1[9CBot[45;5H[34h[?25h[1;119H[7m [0m[1;119H[4m[30m[47mX[?25l[45;5H[34h[?25h[?25l[24m[0m[42;38H{

[1m[33m132 [0m[1m [0m[1m[31mreturn[0m[1m [12C;                                                                                              [0m[45;1H[33m133 [0m}[45;6H[K[46;104H2[44;5H[34h[?25h[?25l[43;1H[1m[33m131 [0m[1m                                                                                                                   [0m[44;1H[33m132 [0m [31mreturn[0m [12C;[44;26H[K[46;104H1,0-1[43;5H[34h[?25h[?25l[42;1H[1m[33m130 [0m[3C[1m main ([3C argc, [4C** argv) {                                                                                 [0m[43;1H[33m131 [0m[43;5H[K[46;104H0,1  [42;5H[34h[?25h[?25l[41;1H[1m[33m129 [0m[60C[1m                                                       [0m[42;1H[33m130 [0m[3C main ([3C argc, [4C** argv) {[42;39H[K[46;103H29[41;5H[34h[?25h[?25l[40;1H[1m[33m128 [0m[1m                                                                                                                   [0m[41;1H[33m129 [0m[41;65H[K[46;104H8,0-1[40;5H[34h[?25h[?25l[27;45H[46m{[0m[39;1H[1m[33m127 [0m[46m}[0m[1m                                                                                                                  [0m[40;1H[33m128 [0m[40;5H[K[46;104H7,1  [39;5H[34h[?25h[?25l[27;45H{[38;1H[1m[33m126 [0m[1m [0m[1m[31mreturn[0m[1m result;                                                                                                    [0m[39;1H[33m127 [0m}[39;6H[K[46;104H6[38;5H[34h[?25h[?25l[37;1H[1m[33m125 [0m[1m TotalWaitTime += query->getWaitTime();                                                                            [0m[38;1H[33m126 [0m [31mreturn[0m result;[38;20H[K[46;104H5[37;5H[34h[?25h[?25l[36;1H[1m[33m124 [0m[1m TotalExecTime += query->getExecTime();                                                                            [0m[37;1H[33m125 [0m TotalWaitTime += query->getWaitTime();[37;44H[K[46;104H4[36;5H[34h[?25h[?25l[35;1H[1m[33m123 [0m[1m queryProcessed++;                                                                                                 [0m[36;1H[33m124 [0m TotalExecTime += query->getExecTime();[36;44H[K[46;104H3[35;5H[34h[?25h[?25l[34;1H[1m[33m122 [0m[1m                                                                                                                   [0m[35;1H[33m123 [0m queryProcessed++;[35;23H[K[46;104H2,0-1[34;5H[34h[?25h[?25l[33;1H[1m[33m121 [0m[1m query->setFinishedDate();                                                                                         [0m[34;1H[33m122 [0m[34;5H[K[46;104H1,1  [33;5H[34h[?25h[?25l[32;1H[1m[33m120 [0m[1m [69C                                             [0m[33;1H[33m121 [0m query->setFinishedDate();[33;31H[K[46;104H0[32;5H[34h[?25h[?25l[31;1H[1m[33m119 [0m[1m query->setStartDate();                                                                                            [0m[32;1H[33m120 [0m [32;75H[K[46;103H19[31;5H[34h[?25h[?25l[30;1H[1m[33m118 [0m[1m [4C result;                                                                                                      [0m[31;1H[33m119 [0m query->setStartDate();[31;28H[K[46;104H8[30;5H[34h[?25h[?25l[29;1H[1m[33m117 [0m[1m                                                                                                                   [0m[30;1H[33m118 [0m [4C result;[30;18H[K[46;104H7,0-1[29;5H[34h[?25h[?25l[28;1H[1m[33m116 [0m[1m assert (query != [4C);                                                                                           [0m[29;1H[33m117 [0m[29;5H[K[46;104H6,1  [28;5H[34h[?25h[?25l[27;1H[1m[33m115 [0m[4C[1m Node::process_query (Query* query) {                                                                          [0m[28;1H[33m116 [0m assert (query != [4C);[28;29H[K[46;104H5[27;5H[34h[?25h[?25l[26;1H[1m[33m114 [0m[1m                                                                                                                   [0m[27;1H[33m115 [0m[4C Node::process_query (Query* query) {[27;46H[K[46;104H4,0-1[26;5H[34h[?25h[?25l[2;48H[46m{[0m[25;1H[1m[33m113 [0m[46m}[0m[1m                                                                                                                  [0m[26;1H[33m114 [0m[26;5H[K[46;104H3,1  [25;5H[34h[?25h[?25l[2;48H{[24;1H[1m[33m112 [0m[1m pthread_exit ([12C);                                                                                      [0m[25;1H[33m113 [0m}[25;6H[K[46;104H2[24;5H[34h[?25h[?25l[23;1H[1m[33m111 [0m[1m }                                                                                                                 [0m[24;1H[33m112 [0m pthread_exit ([12C);[24;34H[K[46;104H1[23;5H[34h[?25h[?25l[22;1H[1m[33m110 [0m[1m  [0m[1m[31mdelete[0m[1m query;                                                                                                    [0m[23;1H[33m111 [0m }[23;7H[K[46;104H0[22;5H[34h[?25h[?25l[21;1H[1m[33m109 [0m[1m  }                                                                                                                [0m[22;1H[33m110 [0m  [31mdelete[0m query;[22;20H[K[46;103H09[21;5H[34h[?25h[?25l[20;1H[1m[33m108 [0m[1m   buffer_local.pop ();                                                                                            [0m[21;1H[33m109 [0m  }[21;8H[K[46;104H8[20;5H[34h[?25h[?25l[19;1H[1m[33m107 [0m[1m  } [0m[1m[31melse[0m[1m {                                                                                                         [0m[20;1H[33m108 [0m   buffer_local.pop ();[20;28H[K[46;104H7[19;5H[34h[?25h[?25l[18;1H[1m[33m106 [0m[1m                                                                                                                   [0m[19;1H[33m107 [0m  } [31melse[0m {[19;15H[K[46;104H6,0-1[18;5H[34h[?25h[?25l[17;1H[1m[33m105 [0m[1m   buffer_local.pop ();                                                                                            [0m[18;1H[33m106 [0m[18;5H[K[46;104H5,1  [17;5H[34h[?25h[?25l[16;1H[1m[33m104 [0m[1m   buffer_neighbor.push (query);                                                                                   [0m[17;1H[33m105 [0m   buffer_local.pop ();  [17;30H[K[46;104H4[16;5H[34h[?25h[?25l[15;1H[1m[33m103 [0m[1m  [0m[1m[31mif[0m[1m (!process_query (query)) {                                                                                    [0m[16;1H[33m104 [0m   buffer_neighbor.push (query);[16;37H[K[46;104H3[15;5H[34h[?25h[?25l[14;1H[1m[33m102 [0m[1m                                                                                                                   [0m[15;1H[33m103 [0m  [31mif[0m (!process_query (query)) {[15;36H[K[46;104H2,0-1[14;5H[34h[?25h[?25l[13;1H[1m[33m101 [0m[1m  Query* query = buffer_local.front ();                                                                            [0m[14;1H[33m102 [0m[14;5H[K[46;104H1,1  [13;5H[34h[?25h[?25l[12;1H[1m[33m100 [0m[1m                                                                                                                   [0m[13;1H[33m101 [0m  Query* query = buffer_local.front ();[13;44H[K[46;104H0,0-1[12;5H[34h[?25h[?25l[11;1H[1m[33m 99 [0m[1m   [0m[1m[31mcontinue[0m[1m;                                                                                                       [0m[12;1H[33m100 [0m[12;5H[K[46;102H99,1   [11;5H[34h[?25h[?25l[10;1H[1m[33m 98 [0m[1m  [0m[1m[31mif[0m[1m (die_thread)                                                                                                  [0m[11;1H[33m 99 [0m   [31mcontinue[0m;[11;17H[K[46;103H8[10;5H[34h[?25h[?25l[9;1H[1m[33m 97 [0m[1m   pthread_mutex_lock (&empty);                                                                                    [0m[10;1H[33m 98 [0m  [31mif[0m (die_thread)[10;22H[K[46;103H7[9;5H[34h[?25h[?25l[8;1H[1m[33m 96 [0m[1m  [0m[1m[31mwhile[0m[1m (Queue.empty() && !die_thread)                                                                             [0m[9;1H[33m 97 [0m   pthread_mutex_lock (&empty);[9;36H[K[46;103H6[8;5H[34h[?25h[?25l[7;1H[1m[33m 95 [0m[1m [0m[1m[31mwhile[0m[1m (die_thread != [4C || Queue.empty() != [4C) {                                                             [0m[8;1H[33m 96 [0m  [31mwhile[0m (Queue.empty() && !die_thread) [8;44H[K[46;103H5[7;5H[34h[?25h[?25l[6;1H[1m[33m 94 [0m[1m                                                                                                                   [0m[7;1H[33m 95 [0m [31mwhile[0m (die_thread != [4C || Queue.empty() != [4C) {[7;59H[K[46;103H4,0-1[6;5H[34h[?25h[?25l[5;1H[1m[33m 93 [0m[1m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};                                                             [0m[6;1H[33m 94 [0m[6;5H[K[46;103H3,1  [5;5H[34h[?25h[?25l[4;1H[1m[33m 92 [0m[1m                                                                                                                   [0m[5;1H[33m 93 [0m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};[5;59H[K[46;103H2,0-1[4;5H[34h[?25h[?25l[3;1H[1m[33m 91 [0m[1m Node* node = [0m[1m[31mstatic_cast[0m[1m<Node*> (args);                                                                           [0m[4;1H[33m 92 [0m[4;5H[K[46;103H1,1  [3;5H[34h[?25h[?25l[2;1H[1m[33m 90 [0m[4C[1m* Node::thread_worker_fun ([4C* args) {                                                                       [0m[3;1H[33m 91 [0m Node* node = [31mstatic_cast[0m<Node*> (args);[3;45H[K[46;103H0[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 89 [0m[1m                                                                                                                   [0m[3;1H[33m 90 [0m[4C* Node::thread_worker_fun ([4C* args) {[3;49H[K[46;102H[K[46;102H89,0-1[8C98%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 88 [0m[1m[31m// ------------------------------------------------------ //[0m[1m                                                       [0m[3;1H[33m 89 [0m[3;5H[K[46;102H[K[46;102H88,1[10C97%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 87 [0m[1m[31m//                PROCESSING QUERY SIDE                   //[0m[1m                                                       [0m[3;1H[33m 88 [0m[3;65H[K[46;102H[K[46;102H87,1[10C96%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 86 [0m[1m[31m// ------------------------------------------------------ //[0m[1m                                                       [0m[3;1H[33m 87 [0m[3;65H[K[46;102H[K[46;102H86,1[10C95%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 85 [0m[1m                                                                                                                   [0m[3;1H[33m 86 [0m[3;65H[K[46;102H[K[46;102H85,0-1[8C94%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 84 [0m[1m}                                                                                                                  [0m[3;1H[33m 85 [0m[3;5H[K[46;102H[K[46;102H84,1[10C93%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 83 [0m[1m [0m[1m[31m//buffer_local.push (ss.recieve<query>());[0m[1m                                                                        [0m[3;1H[33m 84 [0m}[3;6H[K[46;102H[K[46;102H83,1[10C92%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 82 [0m[1m[34mvoid[0m[1m Node::prepare_query ([0m[1m[34mvoid[0m[1m) {                                                                                  [0m[3;1H[33m 83 [0m [3;48H[K[46;102H[K[46;102H82,1[10C91%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 81 [0m[1m                                                                                                                   [0m[3;1H[33m 82 [0m[4C Node::prepare_query ([4C) {[3;38H[K[46;102H[K[46;102H81,0-1[8C89%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 80 [0m[1m}                                                                                                                  [0m[3;1H[33m 81 [0m[3;5H[K[46;102H[K[46;102H80,1[10C88%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 79 [0m[1m }                                                                                                                 [0m[3;1H[33m 80 [0m}[3;6H[K[46;102H[K[46;102H79,1[10C87%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 78 [0m[1m  }                                                                                                                [0m[3;1H[33m 79 [0m }[3;7H[K[46;102H[K[46;102H78,1[10C86%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 77 [0m[1m   [0m[1m[31m//recieve back[0m[1m                                                                                                  [0m[3;1H[33m 78 [0m  }[3;8H[K[46;102H[K[46;102H77,1[10C85%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 76 [0m[1m   [0m[1m[31m//To scheduler some miss-wrong message and [0m[1m                                                                     [0m[3;1H[33m 77 [0m   [3;22H[K[46;102H[K[46;102H76,1[10C84%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 75 [0m[1m   [0m[1m[31m//Some routine to reset sockets and inform [0m[1m                                                                     [0m[3;1H[33m 76 [0m   [3;51H[K[46;102H[K[46;102H75,1[10C83%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 74 [0m[1m  } [0m[1m[31mcatch[0m[1m (Exception& e) {                                                                                         [0m[3;1H[33m 75 [0m   [3;51H[K[46;102H[K[46;102H74,1[10C82%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 73 [0m[1m   }                                                                                                               [0m[3;1H[33m 74 [0m  } [31mcatch[0m (Exception& e) {[3;31H[K[46;102H[K[46;102H73,1[10C80%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 72 [0m[1m    [0m[1m[31mdefault[0m[1m:    [0m[1m[31mthrow[0m[1m Exception ([0m[1m[35m"Unknown message"[0m[1m);                                                               [0m[3;1H[33m 73 [0m   }[3;9H[K[46;102H[K[46;102H72,1[10C79%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 71 [0m[1m    [0m[1m[31mcase[0m[1m QUIT:  node->shutdown();                               [0m[1m[31mbreak[0m[1m;                                             [0m[3;1H[33m 72 [0m    [31mdefault[0m:    [31mthrow[0m Exception ([17C);[3;57H[K[46;102H[K[46;102H71,1[10C78%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 70 [0m[1m    [0m[1m[31mcase[0m[1m INFO:  [0m[1m[31m/*node->inform_scheduler();*/[0m[1m                   [0m[1m[31mbreak[0m[1m;                                             [0m[3;1H[33m 71 [0m    [31mcase[0m QUIT:  node->shutdown();                               [31mbreak[0m;[3;75H[K[46;102H[K[46;102H70,1[10C77%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 69 [0m[1m    [0m[1m[31mcase[0m[1m QUERY: node->buffer_local.push (ss.recieve<Query>());  [0m[1m[31mbreak[0m[1m;                                             [0m[3;1H[33m 70 [0m    [31mcase[0m INFO:  [29C                   [31mbreak[0m;[3;75H[K[46;102H[K[46;102H69,1[10C76%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 68 [0m[1m   [0m[1m[31mswitch[0m[1m (ss.getType()) {                                                                                         [0m[3;1H[33m 69 [0m    [31mcase[0m QUERY: node->buffer_local.push (ss.recieve<Query>());  [31mbreak[0m;[3;75H[K[46;102H[K[46;102H68,1[10C75%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 67 [0m[1m  [0m[1m[31mtry[0m[1m {                                                                                                            [0m[3;1H[33m 68 [0m   [31mswitch[0m (ss.getType()) {[3;31H[K[46;102H[K[46;102H67,1[10C74%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 66 [0m[1m [0m[1m[31mwhile[0m[1m ([0m[1m[35mtrue[0m[1m) {                                                                                                    [0m[3;1H[33m 67 [0m  [31mtry[0m {[3;12H[K[46;102H[K[46;102H66,1[10C73%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 65 [0m[1m socket_stream ss = node->scheduler->connect();                                                                    [0m[3;1H[33m 66 [0m [31mwhile[0m ([4C) {[3;20H[K[46;102H[K[46;102H65,1[10C71%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 64 [0m[1m                                                                                                                   [0m[3;1H[33m 65 [0m socket_stream ss = node->scheduler->connect();[3;52H[K[46;102H[K[46;102H64,0-1[8C70%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 63 [0m[1m Node* node = [0m[1m[31mstatic_cast[0m[1m<Node*> (args);                                                                           [0m[3;1H[33m 64 [0m[3;5H[K[46;102H[K[46;102H63,1[10C69%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 62 [0m[1m[34mvoid[0m[1m* Node::thread_scheduler_fun ([0m[1m[34mvoid[0m[1m* args) {                                                                    [0m[3;1H[33m 63 [0m Node* node = [31mstatic_cast[0m<Node*> (args);[3;45H[K[46;102H[K[46;102H62,1[10C68%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 61 [0m[1m                                                                                                                   [0m[3;1H[33m 62 [0m[4C* Node::thread_scheduler_fun ([4C* args) { [3;53H[K[46;102H[K[46;102H61,0-1[8C67%[2;5H[34h[?25h[?25l[33m 61 [0m[2;5H[K[3;1H[1m[33m 62 [0m[4C[1m* Node::thread_scheduler_fun ([4C* args) {                                                                    [0m[46;103H2,1  [3;5H[34h[?25h[?25l[33m 62 [0m[4C* Node::thread_scheduler_fun ([4C* args) { [3;53H[K[4;1H[1m[33m 63 [0m[1m Node* node = [0m[1m[31mstatic_cast[0m[1m<Node*> (args);                                                                           [0m[46;103H3[4;5H[34h[?25h[?25l[33m 63 [0m Node* node = [31mstatic_cast[0m<Node*> (args);[4;45H[K[5;1H[1m[33m 64 [0m[1m                                                                                                                   [0m[46;103H4,0-1[5;5H[34h[?25h[?25l[33m 64 [0m[5;5H[K[6;1H[1m[33m 65 [0m[1m socket_stream ss = node->scheduler->connect();                                                                    [0m[46;103H5,1  [6;5H[34h[?25h[?25l[33m 65 [0m socket_stream ss = node->scheduler->connect();[6;52H[K[7;1H[1m[33m 66 [0m[1m [0m[1m[31mwhile[0m[1m ([4C) {                                                                                                    [0m[46;103H6[7;5H[34h[?25h[?25l[33m 66 [0m [31mwhile[0m ([4C) {[7;20H[K[8;1H[1m[33m 67 [0m[1m  [0m[1m[31mtry[0m[1m {                                                                                                            [0m[46;103H7[8;5H[34h[?25h[?25l[33m 67 [0m  [31mtry[0m {[8;12H[K[9;1H[1m[33m 68 [0m[1m   [0m[1m[31mswitch[0m[1m (ss.getType()) {                                                                                         [0m[46;103H8[9;5H[34h[?25h[?25l[33m 68 [0m   [31mswitch[0m (ss.getType()) {[9;31H[K[10;1H[1m[33m 69 [0m[1m    [0m[1m[31mcase[0m[1m QUERY: node->buffer_local.push (ss.recieve<Query>());  [0m[1m[31mbreak[0m[1m;                                             [0m[46;103H9[10;5H[34h[?25h[?25l[33m 69 [0m    [31mcase[0m QUERY: node->buffer_local.push (ss.recieve<Query>());  [31mbreak[0m;[10;75H[K[11;1H[1m[33m 70 [0m[1m    [0m[1m[31mcase[0m[1m INFO:  [29C                   [0m[1m[31mbreak[0m[1m;                                             [0m[46;102H70[11;5H[34h[?25h[?25l[33m 70 [0m    [31mcase[0m INFO:  [29C                   [31mbreak[0m;[11;75H[K[12;1H[1m[33m 71 [0m[1m    [0m[1m[31mcase[0m[1m QUIT:  node->shutdown();                               [0m[1m[31mbreak[0m[1m;                                             [0m[46;103H1[12;5H[34h[?25h[?25l[33m 71 [0m    [31mcase[0m QUIT:  node->shutdown();                               [31mbreak[0m;[12;75H[K[13;1H[1m[33m 72 [0m[1m    [0m[1m[31mdefault[0m[1m:    [0m[1m[31mthrow[0m[1m Exception ([17C);                                                               [0m[46;103H2[13;5H[34h[?25h[?25l[33m 72 [0m    [31mdefault[0m:    [31mthrow[0m Exception ([17C);[13;57H[K[14;1H[1m[33m 73 [0m[1m   }                                                                                                               [0m[46;103H3[14;5H[34h[?25h[?25l[33m 73 [0m   }[14;9H[K[15;1H[1m[33m 74 [0m[1m  } [0m[1m[31mcatch[0m[1m (Exception& e) {                                                                                         [0m[46;103H4[15;5H[34h[?25h[?25l[33m 74 [0m  } [31mcatch[0m (Exception& e) {[15;31H[K[16;1H[1m[33m 75 [0m[1m   [43C                                                                     [0m[46;103H5[16;5H[34h[?25h[?25l[33m 75 [0m   [16;51H[K[17;1H[1m[33m 76 [0m[1m   [43C                                                                     [0m[46;103H6[17;5H[34h[?25h[?25l[33m 76 [0m   [17;51H[K[18;1H[1m[33m 77 [0m[1m   [14C                                                                                                  [0m[46;103H7[18;5H[34h[?25h[?25l[33m 77 [0m   [18;22H[K[19;1H[1m[33m 78 [0m[1m  }                                                                                                                [0m[46;103H8[19;5H[34h[?25h[?25l[33m 78 [0m  }[19;8H[K[20;1H[1m[33m 79 [0m[1m }                                                                                                                 [0m[46;103H9[20;5H[34h[?25h[?25l[3;51H[46m{[0m[20;1H[33m 79 [0m }[20;7H[K[21;1H[1m[33m 80 [0m[46m}[0m[1m                                                                                                                  [0m[46;102H80[21;5H[34h[?25h[?25l[3;51H{[21;1H[33m 80 [0m}[21;6H[K[22;1H[1m[33m 81 [0m[1m                                                                                                                   [0m[46;103H1,0-1[22;5H[34h[?25h[?25l[33m 81 [0m[22;5H[K[23;1H[1m[33m 82 [0m[4C[1m Node::prepare_query ([4C) {                                                                                  [0m[46;103H2,1  [23;5H[34h[?25h[?25l[46;102H[K[46;1H:tabprevious[23m[24m[0m[H[J[1;1H[1m i/s/node.hh [0m[4m[30m[47m s/s/node.cc  i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m                                               [0m[1;119H[4m[30m[47mX[24m[0m[2;3HServer* attributes;
  Client* scheduler;
  Client* neighbor;

  [1m[34mstatic[0m lru_map<[1m[34mint[0m, [1m[34mint[0m> cache;
  [1m[34mstatic[0m queue<Query> buffer_local;
  [1m[34mstatic[0m queue<Query*> buffer_neighbor;

  [1m[34mint[0m bound_lower, bound_upper;
  [1m[34mstruct[0m timeval time_start, time_end;

  pthread_t thread_neighbor;
  pthread_t thread_scheduler;
  pthread_t thread_worker;

  pthread_mutex_t lock_scheduler_empty;
  pthread_mutex_t lock_neighbor_empty;
  pthread_cond_t cond_scheduler;
  pthread_cond_t cond_neighbor;

  [1m[34mstatic[0m [1m[34mbool[0m die_thread;

  [1m[34mstatic[0m [1m[34muint32_t[0m queryRecieves;
  [1m[34mstatic[0m [1m[34muint32_t[0m queryProcessed;
  [1m[34mstatic[0m [1m[34muint64_t[0m hitCount;
  [1m[34mstatic[0m [1m[34muint64_t[0m missCount;
  [1m[34mstatic[0m [1m[34muint64_t[0m TotalExecTime;
  [1m[34mstatic[0m [1m[34muint64_t[0m TotalWaitTime;
  [1m[34mstatic[0m [1m[34muint64_t[0m inshiftedQueries;
  [1m[34mstatic[0m [1m[34muint64_t[0m outShiftedQueries;

  [1m[31m//Threads functions[0m
  [1m[34mstatic[0m [1m[34mvoid[0m* thread_scheduler_fun ([1m[34mvoid[0m*);
  [1m[34mstatic[0m [1m[34mvoid[0m* thread_neighbor_fun ([1m[34mvoid[0m*);
  [1m[34mstatic[0m [1m[34mvoid[0m* thread_worker_fun ([1m[34mvoid[0m*);

  [1m[31m//Query functions
//  void prepare_query (void);[0m
  [1m[34mbool[0m process_query ([1m[34mvoid[0m);
  [1m[34mbool[0m swift_query ([1m[34mvoid[0m);
[1m  [0m[1m[34mbool[0m[1m scheduler_query ([0m[1m[34mvoid[0m[1m);                                                                                         [0m[44;3H[1m[34mvoid[0m shutdown ([1m[34mvoid[0m);[46;102H99,19[9C77%[42;19H[34h[?25h[?25l[46;102H[K[46;1H:tabnext[23m[24m[0m[H[J[1;1H[4m[30m[47m i/s/node.hh [24m[0m[1m s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m                                               [0m[1;119H[4m[30m[47mX[24m[0m[2;1H[33m 61 
 62 [0m[1m[34mvoid[0m* Node::thread_scheduler_fun ([1m[34mvoid[0m* args) {
[33m 63 [0m Node* node = [31mstatic_cast[0m<Node*> (args);
[33m 64 
 65 [0m socket_stream ss = node->scheduler->connect();
[33m 66 [0m [31mwhile[0m ([1m[35mtrue[0m) {
[33m 67 [0m  [31mtry[0m {
[33m 68 [0m   [31mswitch[0m (ss.getType()) {
[33m 69 [0m    [31mcase[0m QUERY: node->buffer_local.push (ss.recieve<Query>());  [31mbreak[0m;
[33m 70 [0m    [31mcase[0m INFO:  [1m[31m/*node->inform_scheduler();*/[0m[19C[31mbreak[0m;
[33m 71 [0m    [31mcase[0m QUIT:  node->shutdown();[31C[31mbreak[0m;
[33m 72 [0m    [31mdefault[0m:    [31mthrow[0m Exception ([1m[35m"Unknown message"[0m);
[33m 73 [0m   }
[33m 74 [0m  } [31mcatch[0m (Exception& e) {
[33m 75 [0m   [1m[31m//Some routine to reset sockets and inform [0m
[33m 76 [0m   [1m[31m//To scheduler some miss-wrong message and [0m
[33m 77 [0m   [1m[31m//recieve back[0m
[33m 78 [0m  }
[33m 79 [0m }
[33m 80 [0m}
[33m 81 [0m
[1m[33m 82 [0m[1m[34mvoid[0m[1m Node::prepare_query ([0m[1m[34mvoid[0m[1m) {                                                                                  [0m[24;1H[33m 83 [0m [1m[31m//buffer_local.push (ss.recieve<query>());[0m
[33m 84 [0m}
[33m 85 
 86 [0m[1m[31m// ------------------------------------------------------ //[0m
[33m 87 [0m[1m[31m//                PROCESSING QUERY SIDE                   //[0m
[33m 88 [0m[1m[31m// ------------------------------------------------------ //[0m
[33m 89 
 90 [0m[1m[34mvoid[0m* Node::thread_worker_fun ([1m[34mvoid[0m* args) {
[33m 91 [0m Node* node = [31mstatic_cast[0m<Node*> (args);
[33m 92 
 93 [0m [1m[34muint64_t[0m* hitmiss_count[[1m[35m2[0m] = {&hitCount, &missCount};
[33m 94 
 95 [0m [31mwhile[0m (die_thread != [1m[35mtrue[0m || Queue.empty() != [1m[35mtrue[0m) {
[33m 96 [0m  [31mwhile[0m (Queue.empty() && !die_thread)
[33m 97 [0m   pthread_mutex_lock (&empty);
[33m 98 [0m  [31mif[0m (die_thread)
[33m 99 [0m   [31mcontinue[0m;
[33m100 
101 [0m  Query* query = buffer_local.front ();
[33m102 
103 [0m  [31mif[0m (!process_query (query)) {
[33m104 [0m   buffer_neighbor.push (query);[46;102H82,1[10C67%[23;5H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;102H[K[46;102H82,1[10C67%[23;5H[34h[?25h[1;15H[1m+ s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[23;5H[1m/[0m[1m[34mvoid[0m[1m Node::prepare_query ([0m[1m[34mvoid[0m[1m) {[0m[46;105H2[23;6H[34h[?25h[1;119H[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[23;5H[1m[31m//void Node::prepare_query (void) {[0m[46;102H[K[46;102H82,3[10C67%[23;7H[34h[?25h[?25l[33m 82 [0m[23;40H[K[24;1H[1m[33m 83 [0m[1m [42C                                                                        [0m[46;103H3[24;7H[34h[?25h[?25l[33m 83 [0m [24;48H[K[25;1H[1m[33m 84 [0m[1m}                                                                                                                  [0m[46;103H4,2[25;6H[34h[?25h[?25l[46;105H1[25;5H[34h[?25h[?25l[1m/}[0m[46;105H2[25;6H[34h[?25h[?25l[23;39H[1m[31m[46m{[0m[25;5H[1m[31m//[0m[1m[31m[46m}[0m[46;105H3[25;7H[34h[?25h[46;1H[K[?25l[23;39H[1m[31m{[25;7H}[0m[46;102H84,2[10C67%[25;6H[34h[?25h[?25l[46;102H[K[46;1H:[34h[?25hw[?25l"src/simulator/node.cc" 133L, 3302C written[58C84,2[10C67%[1;15H[1ms/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[46;102H[K[46;102H84,2[10C67%[25;6H[34h[?25h[?25l[33m 84 [0m[25;8H[K[26;1H[1m[33m 85 [0m[1m                                                                                                                   [0m[46;103H5,0-1[26;5H[34h[?25h[?25l[33m 85 [0m[26;5H[K[27;1H[1m[33m 86 [0m[60C[1m                                                       [0m[46;103H6,2  [27;6H[34h[?25h[?25l[33m 86 [0m[27;65H[K[28;1H[1m[33m 87 [0m[60C[1m                                                       [0m[46;103H7[28;6H[34h[?25h[?25l[33m 87 [0m[28;65H[K[29;1H[1m[33m 88 [0m[60C[1m                                                       [0m[46;103H8[29;6H[34h[?25h[?25l[33m 88 [0m[29;65H[K[30;1H[1m[33m 89 [0m[1m                                                                                                                   [0m[46;103H9,0-1[30;5H[34h[?25h[?25l[33m 89 [0m[30;5H[K[31;1H[1m[33m 90 [0m[4C[1m* Node::thread_worker_fun ([4C* args) {                                                                       [0m[46;102H90,2  [31;6H[34h[?25h[?25l[33m 90 [0m[4C* Node::thread_worker_fun ([4C* args) {[31;49H[K[32;1H[1m[33m 91 [0m[1m Node* node = [0m[1m[31mstatic_cast[0m[1m<Node*> (args);                                                                           [0m[46;103H1[32;6H[34h[?25h[?25l[33m 91 [0m Node* node = [31mstatic_cast[0m<Node*> (args);[32;45H[K[33;1H[1m[33m 92 [0m[1m                                                                                                                   [0m[46;103H2,0-1[33;5H[34h[?25h[?25l[33m 92 [0m[33;5H[K[34;1H[1m[33m 93 [0m[1m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};                                                             [0m[46;103H3,2  [34;6H[34h[?25h[?25l[33m 93 [0m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};[34;59H[K[35;1H[1m[33m 94 [0m[1m                                                                                                                   [0m[46;103H4,0-1[35;5H[34h[?25h[?25l[33m 94 [0m[35;5H[K[36;1H[1m[33m 95 [0m[1m [0m[1m[31mwhile[0m[1m (die_thread != [4C || Queue.empty() != [4C) {                                                             [0m[46;103H5,2  [36;6H[34h[?25h[?25l[33m 95 [0m [31mwhile[0m (die_thread != [4C || Queue.empty() != [4C) {[36;59H[K[37;1H[1m[33m 96 [0m[1m  [0m[1m[31mwhile[0m[1m (Queue.empty() && !die_thread)                                                                             [0m[46;103H6[37;6H[34h[?25h[?25l[33m 96 [0m  [31mwhile[0m (Queue.empty() && !die_thread) [37;44H[K[38;1H[1m[33m 97 [0m[1m   pthread_mutex_lock (&empty);                                                                                    [0m[46;103H7[38;6H[34h[?25h[?25l[33m 97 [0m   pthread_mutex_lock (&empty);[38;36H[K[39;1H[1m[33m 98 [0m[1m  [0m[1m[31mif[0m[1m (die_thread)                                                                                                  [0m[46;103H8[39;6H[34h[?25h[?25l[33m 98 [0m  [31mif[0m (die_thread)[39;22H[K[40;1H[1m[33m 99 [0m[1m   [0m[1m[31mcontinue[0m[1m;                                                                                                       [0m[46;103H9[40;6H[34h[?25h[?25l[33m 99 [0m   [31mcontinue[0m;[40;17H[K[41;1H[1m[33m100 [0m[1m                                                                                                                   [0m[46;102H100,0-1[41;5H[34h[?25h[?25l[33m100 [0m[41;5H[K[42;1H[1m[33m101 [0m[1m  Query* query = buffer_local.front ();                                                                            [0m[46;104H1,2  [42;6H[34h[?25h[?25l[33m101 [0m  Query* query = buffer_local.front ();[42;44H[K[43;1H[1m[33m102 [0m[1m                                                                                                                   [0m[46;104H2,0-1[43;5H[34h[?25h[?25l[33m102 [0m[43;5H[K[44;1H[1m[33m103 [0m[1m  [0m[1m[31mif[0m[1m (!process_query (query)) {                                                                                    [0m[46;104H3,2  [44;6H[34h[?25h[?25l[33m103 [0m  [31mif[0m (!process_query (query)) {[44;36H[K[45;1H[1m[33m104 [0m[1m   buffer_neighbor.push (query);                                                                                   [0m[46;104H4[45;6H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m104 [0m   buffer_neighbor.push (query);[44;37H[K[45;1H[1m[33m105 [0m[1m   buffer_local.pop ();                                                                                            [0m[46;1H[K[46;102H105,2[9C68%[45;6H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m105 [0m   buffer_local.pop ();  [44;30H[K[45;1H[1m[33m106 [0m[1m                                                                                                                   [0m[46;102H[K[46;102H106,0-1[7C69%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m106 [0m[44;5H[K[45;1H[1m[33m107 [0m[1m  } [0m[1m[31melse[0m[1m {                                                                                                         [0m[46;102H[K[46;102H107,2[9C70%[45;6H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m107 [0m  } [31melse[0m {[44;15H[K[45;1H[1m[33m108 [0m[1m   buffer_local.pop ();                                                                                            [0m[46;102H[K[46;102H108,2[9C71%[45;6H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m108 [0m   buffer_local.pop ();[44;28H[K[45;1H[1m[33m109 [0m[1m  }                                                                                                                [0m[46;102H[K[46;102H109,2[9C73%[45;6H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m109 [0m  }[44;8H[K[45;1H[1m[33m110 [0m[1m  [0m[1m[31mdelete[0m[1m query;                                                                                                    [0m[46;102H[K[46;102H110,2[9C74%[45;6H[34h[?25h[?25l[2;45r[45;1H
[1;46r[29;58H[46m{[0m[44;1H[33m110 [0m  [31mdelete[0m query;[44;20H[K[45;1H[1m[33m111 [0m[1m [0m[46m}[0m[1m                                                                                                                 [0m[46;102H[K[46;102H111,2[9C75%[45;6H[34h[?25h[?25l[2;45r[45;1H
[1;46r[28;58H{[44;1H[33m111 [0m }[44;7H[K[45;1H[1m[33m112 [0m[1m pthread_exit ([0m[1m[35mEXIT_SUCCESS[0m[1m);                                                                                      [0m[46;102H[K[46;102H112,2[9C76%[45;6H[34h[?25h[?25l[2;45r[45;1H
[1;46r[22;48H[46m{[0m[44;1H[33m112 [0m pthread_exit ([12C);[44;34H[K[45;1H[1m[33m113 [0m[46m}[0m[1m                                                                                                                  [0m[46;102H[K[46;102H113,1[9C77%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[21;48H{[44;1H[33m113 [0m}[44;6H[K[45;1H[1m[33m114 [0m[1m                                                                                                                   [0m[46;102H[K[46;102H114,0-1[7C78%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m114 [0m[44;5H[K[45;1H[1m[33m115 [0m[1m[34mbool[0m[1m Node::process_query (Query* query) {                                                                          [0m[46;102H[K[46;102H115,2[9C79%[45;6H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m115 [0m[4C Node::process_query (Query* query) {[44;46H[K[45;1H[1m[33m116 [0m[1m assert (query != [0m[1m[35mNULL[0m[1m);                                                                                           [0m[46;102H[K[46;102H116,2[9C80%[45;6H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m116 [0m assert (query != [4C);[44;29H[K[45;1H[1m[33m117 [0m[1m                                                                                                                   [0m[46;102H[K[46;102H117,0-1[7C82%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m117 [0m[44;5H[K[45;1H[1m[33m118 [0m[1m [0m[1m[34mbool[0m[1m result;                                                                                                      [0m[46;102H[K[46;102H118,2[9C83%[45;6H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m118 [0m [4C result;[44;18H[K[45;1H[1m[33m119 [0m[1m query->setStartDate();                                                                                            [0m[46;102H[K[46;102H119,2[9C84%[45;6H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m119 [0m query->setStartDate();[44;28H[K[45;1H[1m[33m120 [0m[1m [0m[1m[31m//result = cache.match (static_cast<packet*> (query), hitmiss_count);[0m[1m                                             [0m[46;102H[K[46;102H120,2[9C85%[45;6H[34h[?25h[?25l[44;1H[1m[33m119 [0m[1m query->setStartDate();                                                                                            [0m[45;1H[33m120 [0m [45;75H[K[46;103H19[44;6H[34h[?25h[?25l[43;1H[1m[33m118 [0m[1m [4C result;                                                                                                      [0m[44;1H[33m119 [0m query->setStartDate();[44;28H[K[46;104H8[43;6H[34h[?25h[?25l[42;1H[1m[33m117 [0m[1m                                                                                                                   [0m[43;1H[33m118 [0m [4C result;[43;18H[K[46;104H7,0-1[42;5H[34h[?25h[?25l[41;1H[1m[33m116 [0m[1m assert (query != [4C);                                                                                           [0m[42;1H[33m117 [0m[42;5H[K[46;104H6,2  [41;6H[34h[?25h[?25l[40;1H[1m[33m115 [0m[4C[1m Node::process_query (Query* query) {                                                                          [0m[41;1H[33m116 [0m assert (query != [4C);[41;29H[K[46;104H5[40;6H[34h[?25h[?25l[39;1H[1m[33m114 [0m[1m                                                                                                                   [0m[40;1H[33m115 [0m[4C Node::process_query (Query* query) {[40;46H[K[46;104H4,0-1[39;5H[34h[?25h[?25l[15;48H[46m{[0m[38;1H[1m[33m113 [0m[46m}[0m[1m                                                                                                                  [0m[39;1H[33m114 [0m[39;5H[K[46;104H3,1  [38;5H[34h[?25h[?25l[15;48H{[37;1H[1m[33m112 [0m[1m pthread_exit ([12C);                                                                                      [0m[38;1H[33m113 [0m}[38;6H[K[46;104H2,2[37;6H[34h[?25h[?25l[20;58H[46m{[0m[36;1H[1m[33m111 [0m[1m [0m[46m}[0m[1m                                                                                                                 [0m[37;1H[33m112 [0m pthread_exit ([12C);[37;34H[K[46;104H1[36;6H[34h[?25h[?25l[20;58H{[35;1H[1m[33m110 [0m[1m  [0m[1m[31mdelete[0m[1m query;                                                                                                    [0m[36;1H[33m111 [0m }[36;7H[K[46;104H0[35;6H[34h[?25h[?25l[34;1H[1m[33m109 [0m[1m  }                                                                                                                [0m[35;1H[33m110 [0m  [31mdelete[0m query;[35;20H[K[46;103H09[34;6H[34h[?25h[?25l[33;1H[1m[33m108 [0m[1m   buffer_local.pop ();                                                                                            [0m[34;1H[33m109 [0m  }[34;8H[K[46;104H8[33;6H[34h[?25h[?25l[32;1H[1m[33m107 [0m[1m  } [0m[1m[31melse[0m[1m {                                                                                                         [0m[33;1H[33m108 [0m   buffer_local.pop ();[33;28H[K[46;104H7[32;6H[34h[?25h[?25l[31;1H[1m[33m106 [0m[1m                                                                                                                   [0m[32;1H[33m107 [0m  } [31melse[0m {[32;15H[K[46;104H6,0-1[31;5H[34h[?25h[?25l[30;1H[1m[33m105 [0m[1m   buffer_local.pop ();                                                                                            [0m[31;1H[33m106 [0m[31;5H[K[46;104H5,2  [30;6H[34h[?25h[?25l[29;1H[1m[33m104 [0m[1m   buffer_neighbor.push (query);                                                                                   [0m[30;1H[33m105 [0m   buffer_local.pop ();  [30;30H[K[46;104H4[29;6H[34h[?25h[?25l[28;1H[1m[33m103 [0m[1m  [0m[1m[31mif[0m[1m (!process_query (query)) {                                                                                    [0m[29;1H[33m104 [0m   buffer_neighbor.push (query);[29;37H[K[46;104H3[28;6H[34h[?25h[?25l[46;106H3[28;7H[34h[?25h[?25l[46;106H4[28;8H[34h[?25h[?25l[46;106H5[28;9H[34h[?25h[?25l[1C[46m([22C)[0m[46;106H6[28;10H[34h[?25h[?25l[1m([22C)[0m[46;106H7[28;11H[34h[?25h[?25l[46;106H8[28;12H[34h[?25h[?25l[46;106H9[28;13H[34h[?25h[?25l[46;106H10[28;14H[34h[?25h[?25l[27;1H[1m[33m102 [0m[1m                                                                                                                   [0m[28;1H[33m103 [0m  [31mif[0m (!process_query (query)) {[28;36H[K[46;104H2,0-1[27;5H[34h[?25h[?25l[26;1H[1m[33m101 [0m[1m  Query* query = buffer_local.front ();                                                                            [0m[27;1H[33m102 [0m[27;5H[K[46;104H1,10 [26;14H[34h[?25h[?25l[25;1H[1m[33m100 [0m[1m                                                                                                                   [0m[26;1H[33m101 [0m  Query* query = buffer_local.front ();[26;44H[K[46;104H0,0-1[25;5H[34h[?25h[?25l[24;1H[1m[33m 99 [0m[1m   [0m[1m[31mcontinue[0m[1m;                                                                                                       [0m[25;1H[33m100 [0m[25;5H[K[46;102H99,10  [24;14H[34h[?25h[?25l[23;1H[1m[33m 98 [0m[1m  [0m[1m[31mif[0m[1m (die_thread)                                                                                                  [0m[24;1H[33m 99 [0m   [31mcontinue[0m;[24;17H[K[46;103H8[23;14H[34h[?25h[?25l[22;1H[1m[33m 97 [0m[1m   pthread_mutex_lock (&empty);                                                                                    [0m[23;1H[33m 98 [0m  [31mif[0m (die_thread)[23;22H[K[46;103H7[22;14H[34h[?25h[?25l[21;1H[1m[33m 96 [0m[1m  [0m[1m[31mwhile[0m[1m (Queue.empty() && !die_thread)                                                                             [0m[22;1H[33m 97 [0m   pthread_mutex_lock (&empty);[22;36H[K[46;103H6[21;14H[34h[?25h[?25l[20;1H[1m[33m 95 [0m[1m [0m[1m[31mwhile[0m[1m (die_thread != [4C || Queue.empty() != [4C) {                                                             [0m[21;1H[33m 96 [0m  [31mwhile[0m (Queue.empty() && !die_thread) [21;44H[K[46;103H5[20;14H[34h[?25h[?25l[33m 95 [0m [31mwhile[0m (die_thread != [4C || Queue.empty() != [4C) {[20;59H[K[21;1H[1m[33m 96 [0m[1m  [0m[1m[31mwhile[0m[1m (Queue.empty() && !die_thread)                                                                             [0m[46;103H6[21;14H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;102H[K[46;102H96,10[9C85%[21;14H[34h[?25h[1;15H[1m+ s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[21;14H[1mnQueue.empty() && !die_thread)[0m[46;106H1[21;15H[34h[?25h[?25l[1moQueue.empty() && !die_thread)[0m[46;106H2[21;16H[34h[?25h[?25l[1mdQueue.empty() && !die_thread)[0m[46;106H3[21;17H[34h[?25h[?25l[1meQueue.empty() && !die_thread)[0m[46;106H4[21;18H[34h[?25h[?25l[1m-Queue.empty() && !die_thread)[0m[46;106H5[21;19H[34h[?25h[?25l[1m>Queue.empty() && !die_thread)[0m[46;106H6[21;20H[34h[?25h[46;1H[K[?25l[46;102H96,15[9C85%[21;19H[34h[?25h[?25l[46;106H6[21;20H[34h[?25h[?25l[46;106H7[21;21H[34h[?25h[?25l[46;106H8[21;22H[34h[?25h[?25l[46;106H9[21;23H[34h[?25h[?25l[46;105H20[21;24H[34h[?25h[?25l[46;106H1[21;25H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;102H[K[46;102H96,21[9C85%[21;25H[34h[?25h[?25l[1m.empty() && !die_thread) [0m[46;106H0[21;24H[34h[?25h[?25l[1m.empty() && !die_thread) [0m[46;105H19[21;23H[34h[?25h[?25l[1m.empty() && !die_thread) [0m[46;106H8[21;22H[34h[?25h[?25l[1m.empty() && !die_thread) [0m[46;106H7[21;21H[34h[?25h[?25l[1m.empty() && !die_thread) [0m[46;106H6[21;20H[34h[?25h[?25l[1mu.empty() && !die_thread)[0m[46;106H7[21;21H[34h[?25h[?25l[1mb.empty() && !die_thread)[0m[46;106H8[21;22H[34h[?25h[?25l[1m.empty() && !die_thread) [0m[46;106H7[21;21H[34h[?25h[?25l[1m.empty() && !die_thread) [0m[46;106H6[21;20H[34h[?25h[?25l[1mb.empty() && !die_thread)[0m[46;106H7[21;21H[34h[?25h[?25l[1m.empty() && !die_thread) [0m[46;106H6[21;20H[34h[?25h[?25l[1mb.empty() && !die_thread)[0m[46;106H7[21;21H[34h[?25h[?25l[1mu.empty() && !die_thread)[0m[46;106H8[21;22H[34h[?25h[?25l[1mf.empty() && !die_thread)[0m[46;106H9[21;23H[34h[?25h[?25l[1mf.empty() && !die_thread)[0m[46;105H20[21;24H[34h[?25h[?25l[1me.empty() && !die_thread)[0m[46;106H1[21;25H[34h[?25h[?25l[1mr.empty() && !die_thread)[0m[46;106H2[21;26H[34h[?25h[?25l[46;4H[1m^X mode (^]^D^E^F^I^K^L^N^O^Ps^U^V^Y)[0m[46;102H[K[21;26H[34h[?25h[?25l[46;4H[1mPath pattern completion (^N^P) -- Searching...[21;26H_local.empty() && !die_thread)[0m[46;35H[1m[31mmatch 1 of 2[0m[46;47H[K[22;19H[47m buffer_local    [0m[23;19H[45m buffer_neighbor [21;32H[34h[?25h[?25l[0m[46;4H[1mINSERT --[0m[46;13H[K[46;1H[K[1;119H[7m [0m[1;119H[4m[30m[47mX[24m[0m[21;1H[33m 96 [0m  [31mwhile[0m (node->buffer_local[21;32H[K[22;1H[1m[33m 97 [0m[1m   .empty() && !die_thread)                                                                                        [0m[23;7H pthread_mutex_lock (&empty);[24;7H[31mif[0m (die_thread)[25;8H[31mcontinue[0m;[26;7H[K[27;7HQuery* query = buffer_local.front ();[28;7H[K[29;7H[31mif[0m (!process_query (query)) {[29;36H[K[30;15Hneighbor.push (query);[31;8Hbuffer_local.pop ();[32;7H[K[33;7H} [31melse[0m {[33;15H[K[34;7H buffer_local.pop ();[35;7H}[35;8H[K[36;6H [31mdelete[0m query;[37;6H}[37;7H[K[38;5H pthread_exit ([1m[35mEXIT_SUCCESS[0m);[39;5H}[40;5H[K[41;5H[1m[34mbool[0m Node::process_query (Query* query) {[42;6Hassert (query != [1m[35mNULL[0m);[43;6H[K[44;6H[1m[34mbool[0m result;[44;18H[K[45;6Hquery->setStartDate();[45;28H[K[46;1H[1m-- INSERT --[0m[89C97,4[10C84%[22;8H[34h[?25h[?25l[1m.empty() && !die_thread) [0m[46;105H3[22;7H[34h[?25h[?25l[1m.empty() && !die_thread) [0m[46;105H2[22;6H[34h[?25h[?25l[1m.empty() && !die_thread) [0m[46;105H1[22;5H[34h[?25h[?25l[21;1H[1m[33m 96 [0m[1m  [0m[1m[31mwhile[0m[1m (node->buffer_local.empty() && !die_thread)                                                                [0m[22;1H[33m 97 [0m   pthread_mutex_lock (&empty);[22;36H[K[23;7H[31mif[0m (die_thread)[23;22H[K[24;7H [31mcontinue[0m;[24;17H[K[25;8H[K[26;7HQuery* query = buffer_local.front ();[27;7H[K[28;7H[31mif[0m (!process_query (query)) {[29;7H buffer_neighbor.push (query);[30;15Hlocal.pop ();  [30;30H[K[31;8H[K[32;7H} [31melse[0m {[33;7H buffer_local.pop ();[34;7H}[34;8H[K[35;7H[31mdelete[0m query;[36;6H}[36;7H[K[37;6Hpthread_exit ([1m[35mEXIT_SUCCESS[0m);[38;5H}[38;6H[K[39;5H[K[40;5H[1m[34mbool[0m Node::process_query (Query* query) {[41;5H assert (query != [1m[35mNULL[0m);[41;30H[K[42;6H[K[43;6H[1m[34mbool[0m result;[44;6Hquery->setStartDate();[45;6H[1m[31m//result = cache.match (static_cast<packet*> (query), hitmiss_count);[0m[46;103H6,28[10C5[21;32H[34h[?25h[?25l[33m 96 [0m  [31mwhile[0m (node->buffer_local.empty() && !die_thread) [21;57H[K[22;1H[1m[33m 97 [0m[1m   pthread_mutex_lock (&empty);                                                                                    [0m[46;103H7[22;32H[34h[?25h[?25l[33m 97 [0m   pthread_mutex_lock (&empty);[22;36H[K[23;1H[1m[33m 98 [0m[1m  [0m[1m[31mif[0m[1m [0m[46m([0m[1mdie_thread[0m[46m)[0m[1m                                                                                                  [0m[46;103H8,1[23;22H[34h[?25h[?25l[22;1H[1m[33m 97 [0m[1m   pthread_mutex_lock (&empty);                                                                                    [0m[23;1H[33m 98 [0m  [31mif[0m (die_thread)[23;22H[K[46;103H7,2[22;32H[34h[?25h[?25l[46;106H7[22;31H[34h[?25h[?25l[46;106H6[22;30H[34h[?25h[?25l[46;106H7[22;31H[34h[?25h[?25l[46;106H8[22;32H[34h[?25h[?25l[46;106H9[22;33H[34h[?25h[?25l[46m([6C)[0m[46;105H30[22;34H[34h[?25h[?25l[1mi[0m[46m)[0m[1m;[0m[46;106H1[22;35H[34h[?25h[?25l[46m)[0m[1m; [0m[46;106H0[22;34H[34h[?25h[?25l[46m)[0m[1m; [0m[46;105H29[22;33H[34h[?25h[?25l[46m)[0m[1m; [0m[46;106H8[22;32H[34h[?25h[?25l[46m)[0m[1m; [0m[46;106H7[22;31H[34h[?25h[?25l[46m)[0m[1m; [0m[46;106H6[22;30H[34h[?25h[?25l[46m)[0m[1m; [0m[46;106H5[22;29H[34h[?25h[?25l[46m)[0m[1m; [0m[46;106H4[22;28H[34h[?25h[?25l[1m%[0m[46m)[0m[1m;[0m[46;106H5[22;29H[34h[?25h[?25l[46m)[0m[1m; [0m[46;106H4[22;28H[34h[?25h[?25l[1m^[0m[46m)[0m[1m;[0m[46;106H5[22;29H[34h[?25h[?25l[46m)[0m[1m; [0m[46;106H4[22;28H[34h[?25h[?25l[1m&[0m[46m)[0m[1m;[0m[46;106H5[22;29H[34h[?25h[?25l[1mn[0m[46m)[0m[1m;[0m[46;106H6[22;30H[34h[?25h[?25l[1mo[0m[46m)[0m[1m;[0m[46;106H7[22;31H[34h[?25h[?25l[1md[0m[46m)[0m[1m;[0m[46;106H8[22;32H[34h[?25h[?25l[1me[0m[46m)[0m[1m;[0m[46;106H9[22;33H[34h[?25h[?25l[1m-[0m[46m)[0m[1m;[0m[46;105H30[22;34H[34h[?25h[?25l[1m>[0m[46m)[0m[1m;[0m[46;106H1[22;35H[34h[?25h[?25l[1ml[0m[46m)[0m[1m;[0m[46;106H2[22;36H[34h[?25h[?25l[1mo[0m[46m)[0m[1m;[0m[46;106H3[22;37H[34h[?25h[?25l[1mc[0m[46m)[0m[1m;[0m[46;106H4[22;38H[34h[?25h[?25l[1mk[0m[46m)[0m[1m;[0m[46;106H5[22;39H[34h[?25h[?25l[46;4H[1m^X mode (^]^D^E^F^I^K^L^N^O^Ps^U^V^Y)[0m[46;102H[K[22;39H[34h[?25h[?25l[46;4H[1mPath pattern completion (^N^P) -- Searching...[0m[22;39H[46m_[0m[1mscheduler_empty);[22;27H([11C_[0m[23;34H[47m lock_scheduler_empty [0m[24;34H[45m lock_neighbor_empty  [0m[23;34H[K[24;34H[K[46;35H[1m[31mmatch 1 of 2[0m[46;47H[K[23;34H[47m lock_scheduler_empty [0m[24;34H[45m lock_neighbor_empty  [22;55H[34h[?25h[?25l[0m[46;4H[1mINSERT --[0m[46;13H[K[46;1H[K[1;119H[7m [0m[1;119H[4m[30m[47mX[24m[0m[22;27H[46m([27C)[0m[23;34H[K[24;34H[K[46;1H[1m-- INSERT --[0m[89C97,52[9C85%[22;56H[34h[?25h[?25l[33m 97 [0m   pthread_mutex_lock (&node->lock_scheduler_empty);[22;57H[K[23;1H[1m[33m 98 [0m[1m  [0m[1m[31mif[0m[1m [0m[46m([0m[1mdie_thread[0m[46m)[0m[1m                                                                                                  [0m[46;103H8,18[23;22H[34h[?25h[?25l[22;1H[1m[33m 97 [0m[1m   pthread_mutex_lock [0m[46m([0m[1m&node->lock_scheduler_empty[0m[46m)[0m[1m;                                                               [0m[23;1H[33m 98 [0m  [31mif[0m (die_thread)[23;22H[K[46;103H7,52[22;56H[34h[?25h[?25l[21;1H[1m[33m 96 [0m[1m  [0m[1m[31mwhile[0m[1m [0m[46m([0m[1mnode->buffer_local.empty() && !die_thread[0m[46m)[0m[1m                                                                [0m[22;1H[33m 97 [0m   pthread_mutex_lock (&node->lock_scheduler_empty);[22;57H[K[46;103H6[21;56H[34h[?25h[?25l[46;106H1[21;55H[34h[?25h[?25l[21;13H[1m([41C)[0m[46;106H0[21;54H[34h[?25h[?25l[46;105H49[21;53H[34h[?25h[?25l[46;106H8[21;52H[34h[?25h[?25l[46;106H7[21;51H[34h[?25h[?25l[46;106H6[21;50H[34h[?25h[?25l[46;106H5[21;49H[34h[?25h[?25l[46;106H4[21;48H[34h[?25h[?25l[46;106H3[21;47H[34h[?25h[?25l[46;106H2[21;46H[34h[?25h[?25l[46;106H1[21;45H[34h[?25h[?25l[1midie_thread)[0m[46;106H2[21;46H[34h[?25h[?25l[1mndie_thread)[0m[46;106H3[21;47H[34h[?25h[?25l[1mdie_thread) [0m[46;106H2[21;46H[34h[?25h[?25l[1mdie_thread) [0m[46;106H1[21;45H[34h[?25h[?25l[1mndie_thread)[0m[46;106H2[21;46H[34h[?25h[?25l[1modie_thread)[0m[46;106H3[21;47H[34h[?25h[?25l[1C[1mdie_thread)[0m[46;106H4[21;48H[34h[?25h[?25l[1medie_thread)[0m[46;106H5[21;49H[34h[?25h[?25l[1m-die_thread)[0m[46;106H6[21;50H[34h[?25h[?25l[1m>die_thread)[0m[46;106H7[21;51H[34h[?25h[46;1H[K[?25l[46;102H96,46[9C85%[21;50H[34h[?25h[?25l[46;102H[K[46;1H:[34h[?25hw[?25l"src/simulator/node.cc" 133L, 3342C written[58C96,46[9C85%[1;15H[1ms/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[46;102H[K[46;102H96,46[9C85%[21;50H[34h[?25h[?25l[33m 96 [0m  [31mwhile[0m (node->buffer_local.empty() && !node->die_thread) [21;63H[K[22;1H[1m[33m 97 [0m[1m   pthread_mutex_lock (&node->lock_scheduler_empty);                                                               [0m[46;103H7[22;50H[34h[?25h[?25l[33m 97 [0m   pthread_mutex_lock (&node->lock_scheduler_empty);[22;57H[K[23;1H[1m[33m 98 [0m[1m  [0m[1m[31mif[0m[1m [0m[46m([0m[1mdie_thread[0m[46m)[0m[1m                                                                                                  [0m[46;103H8,17[23;21H[34h[?25h[?25l[33m 98 [0m  [31mif[0m (die_thread)[23;22H[K[24;1H[1m[33m 99 [0m[1m   [0m[1m[31mcontinue[0m[1m;                                                                                                       [0m[46;103H9,12[24;16H[34h[?25h[?25l[33m 99 [0m   [31mcontinue[0m;[24;17H[K[25;1H[1m[33m100 [0m[1m                                                                                                                   [0m[46;102H100,0-1[25;5H[34h[?25h[?25l[33m100 [0m[25;5H[K[26;1H[1m[33m101 [0m[1m  Query* query = buffer_local.front ();                                                                            [0m[46;104H1,39 [26;43H[34h[?25h[?25l[33m101 [0m  Query* query = buffer_local.front ();[26;44H[K[27;1H[1m[33m102 [0m[1m                                                                                                                   [0m[46;104H2,0-1[27;5H[34h[?25h[?25l[33m102 [0m[27;5H[K[28;1H[1m[33m103 [0m[1m  [0m[1m[31mif[0m[1m (!process_query (query)) [0m[46m{[0m[1m                                                                                    [0m[32;7H[46m}[0m[46;104H3,31 [28;35H[34h[?25h[?25l[33m103 [0m  [31mif[0m (!process_query (query)) {[28;36H[K[29;1H[1m[33m104 [0m[1m   buffer_neighbor.push (query);                                                                                   [0m[32;7H}[46;104H4,32[29;36H[34h[?25h[?25l[33m104 [0m   buffer_neighbor.push (query);[29;37H[K[30;1H[1m[33m105 [0m[1m   buffer_local.pop ();                                                                                            [0m[46;104H5,25[30;29H[34h[?25h[?25l[29;1H[1m[33m104 [0m[1m   buffer_neighbor.push (query);                                                                                   [0m[30;1H[33m105 [0m   buffer_local.pop ();  [30;30H[K[46;104H4,32[29;36H[34h[?25h[?25l[29;29H[46m([5C)[0m[46;107H1[29;35H[34h[?25h[?25l[1m(query)[0m[46;107H0[29;34H[34h[?25h[?25l[46;106H29[29;33H[34h[?25h[?25l[46;107H8[29;32H[34h[?25h[?25l[46;107H7[29;31H[34h[?25h[?25l[46;107H6[29;30H[34h[?25h[?25l[46m([5C)[0m[46;107H5[29;29H[34h[?25h[?25l[1m(query)[0m[46;107H4[29;28H[34h[?25h[?25l[46;107H3[29;27H[34h[?25h[?25l[46;107H2[29;26H[34h[?25h[?25l[46;107H1[29;25H[34h[?25h[?25l[46;107H0[29;24H[34h[?25h[?25l[46;106H19[29;23H[34h[?25h[?25l[46;107H8[29;22H[34h[?25h[?25l[46;107H7[29;21H[34h[?25h[?25l[46;107H6[29;20H[34h[?25h[?25l[46;107H5[29;19H[34h[?25h[?25l[46;107H4[29;18H[34h[?25h[?25l[46;107H3[29;17H[34h[?25h[?25l[46;107H2[29;16H[34h[?25h[?25l[46;107H1[29;15H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;13H[K[46;102H104,4[9C85%[29;8H[34h[?25h[1;15H[1m+ s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[29;8H[1mnbuffer_neighbor.push (query);[0m[46;106H5[29;9H[34h[?25h[?25l[1mobuffer_neighbor.push (query);[0m[46;106H6[29;10H[34h[?25h[?25l[1mdbuffer_neighbor.push (query);[0m[46;106H7[29;11H[34h[?25h[?25l[1mebuffer_neighbor.push (query);[0m[46;106H8[29;12H[34h[?25h[?25l[1m-buffer_neighbor.push (query);[0m[46;106H9[29;13H[34h[?25h[?25l[1m>buffer_neighbor.push (query);[0m[46;106H10[29;14H[34h[?25h[46;1H[K[?25l[46;102H104,9[9C85%[29;13H[34h[?25h[?25l[33m104 [0m   node->buffer_neighbor.push (query);[29;43H[K[30;1H[1m[33m105 [0m[1m   buffer_local.pop ();                                                                                            [0m[46;104H5[30;13H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;102H[K[46;102H105,4[9C85%[46;1H[K[30;8H[1mnode->buffer_local.pop ();[0m[46;102H105,9[9C85%[30;13H[34h[?25h[?25l[46;102H[K[46;1H:[34h[?25hw[?25l"src/simulator/node.cc" 133L, 3354C written[58C105,9[9C85%[1;15H[1ms/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[46;102H[K[46;102H105,9[9C85%[30;13H[34h[?25h[?25l[33m105 [0m   node->buffer_local.pop ();  [30;36H[K[31;1H[1m[33m106 [0m[1m                                                                                                                   [0m[46;104H6,0-1[31;5H[34h[?25h[?25l[33m106 [0m[31;5H[K[32;1H[1m[33m107 [0m[1m  } [0m[1m[31melse[0m[1m {                                                                                                         [0m[46;104H7,9  [32;13H[34h[?25h[?25l[33m107 [0m  } [31melse[0m {[32;15H[K[33;1H[1m[33m108 [0m[1m   buffer_local.pop ();                                                                                            [0m[46;104H8[33;13H[34h[?25h[?25l[46;1H[K[46;1H/[34h[?25h[?25l[46;1H[K[46;102H108,9[9C85%[33;13H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;102H[K[46;102H108,4[9C85%[46;1H[K[1;15H[1m+ s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[24m[0m[33;8H[1mnode->buffer_local.pop ();[0m[46;102H108,9[9C85%[33;13H[34h[?25h[?25l[32;14H[46m{[0m
[33m108 [0m   node->buffer_local.pop ();[33;34H[K[34;1H[1m[33m109 [0m[1m  [0m[46m}[0m[1m                                                                                                                [0m[46;104H9,3[34;7H[34h[?25h[?25l[46;102H[K[46;1H:[34h[?25hw[?25l"src/simulator/node.cc" 133L, 3360C written[58C109,3[9C85%[1;15H[1ms/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[46;102H[K[46;102H109,3[9C85%[34;7H[34h[?25h[?25l[32;14H{

[33m109 [0m  }[34;8H[K[35;1H[1m[33m110 [0m[1m  [0m[1m[31mdelete[0m[1m query;                                                                                                    [0m[46;103H10,9[35;13H[34h[?25h[?25l[20;58H[46m{[0m[35;1H[33m110 [0m  [31mdelete[0m query;[35;20H[K[36;1H[1m[33m111 [0m[1m [0m[46m}[0m[1m                                                                                                                 [0m[46;104H1,2[36;6H[34h[?25h[?25l[20;58H{[36;1H[33m111 [0m }[36;7H[K[37;1H[1m[33m112 [0m[1m pthread_exit ([12C);                                                                                      [0m[46;104H2,9[37;13H[34h[?25h[?25l[15;48H[46m{[0m[37;1H[33m112 [0m pthread_exit ([12C);[37;34H[K[38;1H[1m[33m113 [0m[46m}[0m[1m                                                                                                                  [0m[46;104H3,1[38;5H[34h[?25h[?25l[15;48H{[38;1H[33m113 [0m}[38;6H[K[39;1H[1m[33m114 [0m[1m                                                                                                                   [0m[46;104H4,0-1[39;5H[34h[?25h[?25l[15;48H[46m{[0m[38;1H[1m[33m113 [0m[46m}[0m[1m                                                                                                                  [0m[39;1H[33m114 [0m[39;5H[K[46;104H3,1  [38;5H[34h[?25h[?25l[15;48H{[37;1H[1m[33m112 [0m[1m pthread_exit ([12C);                                                                                      [0m[38;1H[33m113 [0m}[38;6H[K[46;104H2,9[37;13H[34h[?25h[?25l[20;58H[46m{[0m[36;1H[1m[33m111 [0m[1m [0m[46m}[0m[1m                                                                                                                 [0m[37;1H[33m112 [0m pthread_exit ([12C);[37;34H[K[46;104H1,2[36;6H[34h[?25h[?25l[20;58H{[35;1H[1m[33m110 [0m[1m  [0m[1m[31mdelete[0m[1m query;                                                                                                    [0m[36;1H[33m111 [0m }[36;7H[K[46;104H0,9[35;13H[34h[?25h[?25l[32;14H[46m{[0m

[1m[33m109 [0m[1m  [0m[46m}[0m[1m                                                                                                                [0m[35;1H[33m110 [0m  [31mdelete[0m query;[35;20H[K[46;103H09,3[34;7H[34h[?25h[?25l[32;14H{
[1m[33m108 [0m[1m   node->buffer_local.pop ();                                                                                      [0m[34;1H[33m109 [0m  }[34;8H[K[46;104H8,9[33;13H[34h[?25h[?25l[32;1H[1m[33m107 [0m[1m  } [0m[1m[31melse[0m[1m {                                                                                                         [0m[33;1H[33m108 [0m   node->buffer_local.pop ();[33;34H[K[46;104H7[32;13H[34h[?25h[?25l[31;1H[1m[33m106 [0m[1m                                                                                                                   [0m[32;1H[33m107 [0m  } [31melse[0m {[32;15H[K[46;104H6,0-1[31;5H[34h[?25h[?25l[30;1H[1m[33m105 [0m[1m   node->buffer_local.pop ();                                                                                      [0m[31;1H[33m106 [0m[31;5H[K[46;104H5,9  [30;13H[34h[?25h[?25l[29;1H[1m[33m104 [0m[1m   node->buffer_neighbor.push (query);                                                                             [0m[30;1H[33m105 [0m   node->buffer_local.pop ();  [30;36H[K[46;104H4[29;13H[34h[?25h[?25l[28;1H[1m[33m103 [0m[1m  [0m[1m[31mif[0m[1m (!process_query (query)) {                                                                                    [0m[29;1H[33m104 [0m   node->buffer_neighbor.push (query);[29;43H[K[46;104H3[28;13H[34h[?25h[?25l[27;1H[1m[33m102 [0m[1m                                                                                                                   [0m[28;1H[33m103 [0m  [31mif[0m (!process_query (query)) {[28;36H[K[46;104H2,0-1[27;5H[34h[?25h[?25l[26;1H[1m[33m101 [0m[1m  Query* query = buffer_local.front ();                                                                            [0m[27;1H[33m102 [0m[27;5H[K[46;104H1,9  [26;13H[34h[?25h[?25l[46;106H10[26;14H[34h[?25h[?25l[46;107H1[26;15H[34h[?25h[?25l[46;107H2[26;16H[34h[?25h[?25l[46;107H3[26;17H[34h[?25h[?25l[46;107H4[26;18H[34h[?25h[?25l[46;107H5[26;19H[34h[?25h[?25l[46;107H6[26;20H[34h[?25h[?25l[46;107H7[26;21H[34h[?25h[?25l[46;107H8[26;22H[34h[?25h[?25l[46;1H1 change; before #265  15 seconds ago[46;38H[K[1;15H[1m+ s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[24m[0m[26;1H[33m101 [0m  Query* query = buffer_local.front ();[26;44H[K[33;1H[1m[33m108 [0m[1m   buffer_local.pop ();                                                                                            [0m[46;102H108,4[9C85%[33;8H[34h[?25h[?25l[32;1H[1m[33m107 [0m[1m  } [0m[1m[31melse[0m[1m [0m[46m{[0m[1m                                                                                                         [0m[33;1H[33m108 [0m   buffer_local.pop ();[33;28H[K[34;7H[46m}[0m[46;104H7,10[32;14H[34h[?25h[?25l[46;11Hafter #265  16 seconds ago[46;37H[K[1;15H[1ms/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[32;1H[33m107 [0m  } [31melse[0m {[32;15H[K[33;1H[1m[33m108 [0m[1m   node->buffer_local.pop ();                                                                                      [0m[34;7H}[46;102H108,4[9C85%[33;8H[34h[?25h[?25l[46;1HAlready at newest change[46;26H[K[46;102H108,4[9C85%[33;8H[34h[?25h[?25l[32;1H[1m[33m107 [0m[1m  } [0m[1m[31melse[0m[1m {                                                                                                         [0m[33;1H[33m108 [0m   node->buffer_local.pop ();[33;34H[K[46;104H7[32;8H[34h[?25h[?25l[31;1H[1m[33m106 [0m[1m                                                                                                                   [0m[32;1H[33m107 [0m  } [31melse[0m {[32;15H[K[46;104H6,0-1[31;5H[34h[?25h[?25l[30;1H[1m[33m105 [0m[1m   node->buffer_local.pop ();                                                                                      [0m[31;1H[33m106 [0m[31;5H[K[46;104H5,4  [30;8H[34h[?25h[?25l[29;1H[1m[33m104 [0m[1m   node->buffer_neighbor.push (query);                                                                             [0m[30;1H[33m105 [0m   node->buffer_local.pop ();  [30;36H[K[46;104H4[29;8H[34h[?25h[?25l[28;1H[1m[33m103 [0m[1m  [0m[1m[31mif[0m[1m (!process_query (query)) {                                                                                    [0m[29;1H[33m104 [0m   node->buffer_neighbor.push (query);[29;43H[K[46;104H3[28;8H[34h[?25h[?25l[27;1H[1m[33m102 [0m[1m                                                                                                                   [0m[28;1H[33m103 [0m  [31mif[0m (!process_query (query)) {[28;36H[K[46;104H2,0-1[27;5H[34h[?25h[?25l[26;1H[1m[33m101 [0m[1m  Query* query = buffer_local.front ();                                                                            [0m[27;1H[33m102 [0m[27;5H[K[46;104H1,4  [26;8H[34h[?25h[?25l[46;106H8[26;12H[34h[?25h[?25l[46;106H10[26;14H[34h[?25h[?25l[46;107H6[26;20H[34h[?25h[?25l[46;107H8[26;22H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;13H[K[46;102H101,18[8C85%[26;22H[34h[?25h[1;15H[1m+ s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[26;22H[1mnbuffer_local.front ();[0m[46;107H9[26;23H[34h[?25h[?25l[1mobuffer_local.front ();[0m[46;106H20[26;24H[34h[?25h[?25l[1mdbuffer_local.front ();[0m[46;107H1[26;25H[34h[?25h[?25l[1mebuffer_local.front ();[0m[46;107H2[26;26H[34h[?25h[?25l[1m0buffer_local.front ();[0m[46;107H3[26;27H[34h[?25h[?25l[1m<buffer_local.front ();[0m[46;107H4[26;28H[34h[?25h[?25l[1mbuffer_local.front (); [0m[46;107H3[26;27H[34h[?25h[?25l[1mbuffer_local.front (); [0m[46;107H2[26;26H[34h[?25h[?25l[1m-buffer_local.front ();[0m[46;107H3[26;27H[34h[?25h[?25l[1m0buffer_local.front ();[0m[46;107H4[26;28H[34h[?25h[?25l[1mbuffer_local.front (); [0m[46;107H3[26;27H[34h[?25h[?25l[1m<buffer_local.front ();[0m[46;107H4[26;28H[34h[?25h[46;1H[K[?25l[46;102H101,23[8C85%[26;27H[34h[?25h[?25l[25;1H[1m[33m100 [0m[1m                                                                                                                   [0m[26;1H[33m101 [0m  Query* query = node-<buffer_local.front ();[26;50H[K[46;104H0,0-1[25;5H[34h[?25h[?25l[33m100 [0m[25;5H[K[26;1H[1m[33m101 [0m[1m  Query* query = node-<buffer_local.front ();                                                                      [0m[46;104H1,23 [26;27H[34h[?25h[?25l[34h[?25h[?25l[1m>[34h[?25h[?25l[0m[46;102H[K[46;1H:[34h[?25hw[?25l"src/simulator/node.cc" 133L, 3366C written[58C101,23[8C85%[1;15H[1ms/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[46;102H[K[46;102H101,23[8C85%[26;27H[34h[?25h[?25l[25;1H[1m[33m100 [0m[1m                                                                                                                   [0m[26;1H[33m101 [0m  Query* query = node->buffer_local.front ();[26;50H[K[46;104H0,0-1[25;5H[34h[?25h[?25l[24;1H[1m[33m 99 [0m[1m   [0m[1m[31mcontinue[0m[1m;                                                                                                       [0m[25;1H[33m100 [0m[25;5H[K[46;102H99,12  [24;16H[34h[?25h[?25l[23;1H[1m[33m 98 [0m[1m  [0m[1m[31mif[0m[1m [0m[46m([0m[1mdie_thread[0m[46m)[0m[1m                                                                                                  [0m[24;1H[33m 99 [0m   [31mcontinue[0m;[24;17H[K[46;103H8,17[23;21H[34h[?25h[?25l[22;1H[1m[33m 97 [0m[1m   pthread_mutex_lock [0m[46m([0m[1m&node->lock_scheduler_empty[0m[46m)[0m[1m;                                                               [0m[23;1H[33m 98 [0m  [31mif[0m (die_thread)[23;22H[K[46;103H7,23[22;27H[34h[?25h[?25l[21;1H[1m[33m 96 [0m[1m  [0m[1m[31mwhile[0m[1m (node->buffer_local.empty() && !node->die_thread)                                                          [0m[22;1H[33m 97 [0m   pthread_mutex_lock (&node->lock_scheduler_empty);[22;57H[K[46;103H6[21;27H[34h[?25h[?25l[20;1H[1m[33m 95 [0m[1m [0m[1m[31mwhile[0m[1m (die_thread != [4C || Queue.empty() != [4C) {                                                             [0m[21;1H[33m 96 [0m  [31mwhile[0m (node->buffer_local.empty() && !node->die_thread) [21;63H[K[46;103H5[20;27H[34h[?25h[?25l[19;1H[1m[33m 94 [0m[1m                                                                                                                   [0m[20;1H[33m 95 [0m [31mwhile[0m (die_thread != [4C || Queue.empty() != [4C) {[20;59H[K[46;103H4,0-1[19;5H[34h[?25h[?25l[33m 94 [0m[19;5H[K[20;1H[1m[33m 95 [0m[1m [0m[1m[31mwhile[0m[1m (die_thread != [4C || Queue.empty() != [4C) {                                                             [0m[46;103H5,23 [20;27H[34h[?25h[?25l[46;106H2[20;26H[34h[?25h[?25l[46;106H1[20;25H[34h[?25h[?25l[46;106H0[20;24H[34h[?25h[?25l[46;105H19[20;23H[34h[?25h[?25l[46;106H8[20;22H[34h[?25h[?25l[46;106H7[20;21H[34h[?25h[?25l[46;106H6[20;20H[34h[?25h[?25l[46;106H5[20;19H[34h[?25h[?25l[46;106H4[20;18H[34h[?25h[?25l[46;106H3[20;17H[34h[?25h[?25l[46;106H2[20;16H[34h[?25h[?25l[46;106H1[20;15H[34h[?25h[?25l[46;106H0[20;14H[34h[?25h[?25l[46;105H9 [20;13H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;13H[K[46;102H95,9[10C85%[20;13H[34h[?25h[1;15H[1m+ s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[20;13H[1mndie_thread != [0m[1m[35mtrue[0m[1m || Queue.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;105H10[20;14H[34h[?25h[?25l[1modie_thread != [0m[1m[35mtrue[0m[1m || Queue.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H1[20;15H[34h[?25h[?25l[1C[1mdie_thread != [0m[1m[35mtrue[0m[1m || Queue.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H2[20;16H[34h[?25h[?25l[1medie_thread != [0m[1m[35mtrue[0m[1m || Queue.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H3[20;17H[34h[?25h[?25l[1m-die_thread != [0m[1m[35mtrue[0m[1m || Queue.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H4[20;18H[34h[?25h[?25l[1m<die_thread != [0m[1m[35mtrue[0m[1m || Queue.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H5[20;19H[34h[?25h[?25l[1mdie_thread != [0m[1m[35mtrue[0m[1m || Queue.empty() != [0m[1m[35mtrue[0m[1m) { [0m[46;106H4[20;18H[34h[?25h[?25l[1m<die_thread != [0m[1m[35mtrue[0m[1m || Queue.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H5[20;19H[34h[?25h[?25l[1mdie_thread != [0m[1m[35mtrue[0m[1m || Queue.empty() != [0m[1m[35mtrue[0m[1m) { [0m[46;106H4[20;18H[34h[?25h[?25l[1m>die_thread != [0m[1m[35mtrue[0m[1m || Queue.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H5[20;19H[34h[?25h[?25l[33m 95 [0m [31mwhile[0m (node->die_thread != [4C || Queue.empty() != [4C) {[20;65H[K[21;1H[1m[33m 96 [0m[1m  [0m[1m[31mwhile[0m[1m (node->buffer_local.empty() && !node->die_thread)                                                          [0m[46;103H6[21;19H[34h[?25h[?25l[33m 96 [0m  [31mwhile[0m (node->buffer_local.empty() && !node->die_thread) [21;63H[K[22;1H[1m[33m 97 [0m[1m   pthread_mutex_lock (&node->lock_scheduler_empty);                                                               [0m[46;103H7[22;19H[34h[?25h[?25l[33m 97 [0m   pthread_mutex_lock (&node->lock_scheduler_empty);[22;57H[K[23;1H[1m[33m 98 [0m[1m  [0m[1m[31mif[0m[1m (die_thread)                                                                                                  [0m[46;103H8[23;19H[34h[?25h[?25l[33m 98 [0m  [31mif[0m (die_thread)[23;22H[K[24;1H[1m[33m 99 [0m[1m   [0m[1m[31mcontinue[0m[1m;                                                                                                       [0m[46;103H9,13[24;17H[34h[?25h[?25l[33m 99 [0m   [31mcontinue[0m;[24;17H[K[25;1H[1m[33m100 [0m[1m                                                                                                                   [0m[46;102H100,1[25;5H[34h[?25h[?25l[33m100 [0m[25;5H[K[26;1H[1m[33m101 [0m[1m  Query* query = node->buffer_local.front ();                                                                      [0m[46;104H1,15[26;19H[34h[?25h[?25l[33m101 [0m  Query* query = node->buffer_local.front ();[26;50H[K[27;1H[1m[33m102 [0m[1m                                                                                                                   [0m[46;104H2,1 [27;5H[34h[?25h[?25l[33m102 [0m[27;5H[K[28;1H[1m[33m103 [0m[1m  [0m[1m[31mif[0m[1m (!process_query (query)) {                                                                                    [0m[46;104H3,15[28;19H[34h[?25h[?25l[46;107H4[28;18H[34h[?25h[?25l[46;107H3[28;17H[34h[?25h[?25l[46;107H2[28;16H[34h[?25h[?25l[46;107H1[28;15H[34h[?25h[?25l[46;107H0[28;14H[34h[?25h[?25l[46;106H9 [28;13H[34h[?25h[?25l[46;106H8[28;12H[34h[?25h[?25l[1mnprocess_query (query)) {[0m[46;106H9[28;13H[34h[?25h[?25l[1moprocess_query (query)) {[0m[46;106H10[28;14H[34h[?25h[?25l[1mdprocess_query (query)) {[0m[46;107H1[28;15H[34h[?25h[?25l[1meprocess_query (query)) {[0m[46;107H2[28;16H[34h[?25h[?25l[1m-process_query (query)) {[0m[46;107H3[28;17H[34h[?25h[?25l[1m>process_query (query)) {[0m[46;107H4[28;18H[34h[?25h[46;1H[K[?25l[46;102H103,13[8C85%[28;17H[34h[?25h[?25l[46;102H[K[46;1H:[34h[?25hw[?25l"src/simulator/node.cc" 133L, 3378C written[58C103,13[8C85%[1;15H[1ms/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[46;102H[K[46;102H103,13[8C85%[28;17H[34h[?25h[?25l[27;1H[1m[33m102 [0m[1m                                                                                                                   [0m[28;1H[33m103 [0m  [31mif[0m (!node->process_query (query)) {[28;42H[K[46;104H2,0-1[27;5H[34h[?25h[?25l[26;1H[1m[33m101 [0m[1m  Query* query = node->buffer_local.front ();                                                                      [0m[27;1H[33m102 [0m[27;5H[K[46;104H1,13 [26;17H[34h[?25h[?25l[25;1H[1m[33m100 [0m[1m                                                                                                                   [0m[26;1H[33m101 [0m  Query* query = node->buffer_local.front ();[26;50H[K[46;104H0,0-1[25;5H[34h[?25h[?25l[24;1H[1m[33m 99 [0m[1m   [0m[1m[31mcontinue[0m[1m;                                                                                                       [0m[25;1H[33m100 [0m[25;5H[K[46;102H99,12  [24;16H[34h[?25h[?25l[23;1H[1m[33m 98 [0m[1m  [0m[1m[31mif[0m[1m (die_thread)                                                                                                  [0m[24;1H[33m 99 [0m   [31mcontinue[0m;[24;17H[K[46;103H8,13[23;17H[34h[?25h[?25l[33m 98 [0m  [31mif[0m (die_thread)[23;22H[K[24;1H[1m[33m 99 [0m[1m   [0m[1m[31mcontinue[0m[1m;                                                                                                       [0m[46;103H9,12[24;16H[34h[?25h[?25l[23;1H[1m[33m 98 [0m[1m  [0m[1m[31mif[0m[1m (die_thread)                                                                                                  [0m[24;1H[33m 99 [0m   [31mcontinue[0m;[24;17H[K[46;103H8,13[23;17H[34h[?25h[?25l[46;106H2[23;16H[34h[?25h[?25l[46;106H1[23;15H[34h[?25h[?25l[46;106H0[23;14H[34h[?25h[?25l[46;105H9 [23;13H[34h[?25h[?25l[46;105H8[23;12H[34h[?25h[?25l[46;105H7[23;11H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;13H[K[46;102H98,7[10C85%[23;11H[34h[?25h[1;15H[1m+ s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[23;11H[1mndie_thread)[0m[46;105H8[23;12H[34h[?25h[?25l[1modie_thread)[0m[46;105H9[23;13H[34h[?25h[?25l[1C[1mdie_thread)[0m[46;105H10[23;14H[34h[?25h[?25l[1medie_thread)[0m[46;106H1[23;15H[34h[?25h[?25l[1m-die_thread)[0m[46;106H2[23;16H[34h[?25h[?25l[1m>die_thread)[0m[46;106H3[23;17H[34h[?25h[46;1H[K[?25l[46;102H98,12[9C85%[23;16H[34h[?25h[?25l[46;102H[K[46;1H:[34h[?25hw[?25l"src/simulator/node.cc" 133L, 3384C written[58C98,12[9C85%[1;15H[1ms/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[46;102H[K[46;102H98,12[9C85%[23;16H[34h[?25h[?25l[33m 98 [0m  [31mif[0m (node->die_thread)[23;28H[K[24;1H[1m[33m 99 [0m[1m   [0m[1m[31mcontinue[0m[1m;                                                                                                       [0m[46;103H9[24;16H[34h[?25h[?25l[33m 99 [0m   [31mcontinue[0m;[24;17H[K[25;1H[1m[33m100 [0m[1m                                                                                                                   [0m[46;102H100,0-1[25;5H[34h[?25h[?25l[33m100 [0m[25;5H[K[26;1H[1m[33m101 [0m[1m  Query* query = node->buffer_local.front ();                                                                      [0m[46;104H1,12 [26;16H[34h[?25h[?25l[33m101 [0m  Query* query = node->buffer_local.front ();[26;50H[K[27;1H[1m[33m102 [0m[1m                                                                                                                   [0m[46;104H2,0-1[27;5H[34h[?25h[?25l[33m102 [0m[27;5H[K[28;1H[1m[33m103 [0m[1m  [0m[1m[31mif[0m[1m (!node->process_query (query)) {                                                                              [0m[46;104H3,12 [28;16H[34h[?25h[?25l[33m103 [0m  [31mif[0m (!node->process_query (query)) {[28;42H[K[29;1H[1m[33m104 [0m[1m   node->buffer_neighbor.push (query);                                                                             [0m[46;104H4[29;16H[34h[?25h[?25l[28;1H[1m[33m103 [0m[1m  [0m[1m[31mif[0m[1m (!node->process_query (query)) {                                                                              [0m[29;1H[33m104 [0m   node->buffer_neighbor.push (query);[29;43H[K[46;104H3[28;16H[34h[?25h[?25l[46;1H[K[46;1H:[34h[?25hw[?25l"src/simulator/node.cc" 133L, 3384C written[58C103,12[8C85%[46;102H[K[46;102H103,12[8C85%[28;16H[34h[?25h[?25l[27;1H[1m[33m102 [0m[1m                                                                                                                   [0m[28;1H[33m103 [0m  [31mif[0m (!node->process_query (query)) {[28;42H[K[46;104H2,0-1[27;5H[34h[?25h[?25l[26;1H[1m[33m101 [0m[1m  Query* query = node->buffer_local.front ();                                                                      [0m[27;1H[33m102 [0m[27;5H[K[46;104H1,12 [26;16H[34h[?25h[?25l[25;1H[1m[33m100 [0m[1m                                                                                                                   [0m[26;1H[33m101 [0m  Query* query = node->buffer_local.front ();[26;50H[K[46;104H0,0-1[25;5H[34h[?25h[?25l[24;1H[1m[33m 99 [0m[1m   [0m[1m[31mcontinue[0m[1m;                                                                                                       [0m[25;1H[33m100 [0m[25;5H[K[46;102H99,12  [24;16H[34h[?25h[?25l[23;1H[1m[33m 98 [0m[1m  [0m[1m[31mif[0m[1m (node->die_thread)                                                                                            [0m[24;1H[33m 99 [0m   [31mcontinue[0m;[24;17H[K[46;103H8[23;16H[34h[?25h[?25l[22;1H[1m[33m 97 [0m[1m   pthread_mutex_lock (&node->lock_scheduler_empty);                                                               [0m[23;1H[33m 98 [0m  [31mif[0m (node->die_thread)[23;28H[K[46;103H7[22;16H[34h[?25h[?25l[21;1H[1m[33m 96 [0m[1m  [0m[1m[31mwhile[0m[1m (node->buffer_local.empty() && !node->die_thread)                                                          [0m[22;1H[33m 97 [0m   pthread_mutex_lock (&node->lock_scheduler_empty);[22;57H[K[46;103H6[21;16H[34h[?25h[?25l[20;1H[1m[33m 95 [0m[1m [0m[1m[31mwhile[0m[1m (node->die_thread != [4C || Queue.empty() != [4C) {                                                       [0m[21;1H[33m 96 [0m  [31mwhile[0m (node->buffer_local.empty() && !node->die_thread) [21;63H[K[46;103H5[20;16H[34h[?25h[?25l[46;106H3[20;17H[34h[?25h[?25l[46;106H4[20;18H[34h[?25h[?25l[46;106H5[20;19H[34h[?25h[?25l[46;106H6[20;20H[34h[?25h[?25l[46;106H7[20;21H[34h[?25h[?25l[46;106H8[20;22H[34h[?25h[?25l[46;106H9[20;23H[34h[?25h[?25l[46;105H20[20;24H[34h[?25h[?25l[46;106H1[20;25H[34h[?25h[?25l[46;106H2[20;26H[34h[?25h[?25l[46;106H3[20;27H[34h[?25h[?25l[46;106H4[20;28H[34h[?25h[?25l[46;106H5[20;29H[34h[?25h[?25l[46;106H6[20;30H[34h[?25h[?25l[46;106H7[20;31H[34h[?25h[?25l[46;106H8[20;32H[34h[?25h[?25l[46;106H9[20;33H[34h[?25h[?25l[46;105H30[20;34H[34h[?25h[?25l[46;106H1[20;35H[34h[?25h[?25l[46;106H2[20;36H[34h[?25h[?25l[46;106H3[20;37H[34h[?25h[?25l[46;106H4[20;38H[34h[?25h[?25l[46;106H5[20;39H[34h[?25h[?25l[46;106H6[20;40H[34h[?25h[?25l[46;106H7[20;41H[34h[?25h[?25l[46;106H8[20;42H[34h[?25h[?25l[46;106H9[20;43H[34h[?25h[?25l[46;105H40[20;44H[34h[?25h[?25l[46;106H1[20;45H[34h[?25h[?25l[46;106H2[20;46H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;13H[K[46;102H95,42[9C85%[20;46H[34h[?25h[1;15H[1m+ s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[20;45H[1m.empty() != [0m[1m[35mtrue[0m[1m) { [0m[46;106H1[20;45H[34h[?25h[?25l[1m.empty() != [0m[1m[35mtrue[0m[1m) { [0m[46;106H0[20;44H[34h[?25h[?25l[1m.empty() != [0m[1m[35mtrue[0m[1m) { [0m[46;105H39[20;43H[34h[?25h[?25l[1m.empty() != [0m[1m[35mtrue[0m[1m) { [0m[46;106H8[20;42H[34h[?25h[?25l[1m.empty() != [0m[1m[35mtrue[0m[1m) { [0m[46;106H7[20;41H[34h[?25h[?25l[1mn.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H8[20;42H[34h[?25h[?25l[1mo.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H9[20;43H[34h[?25h[?25l[1md.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;105H40[20;44H[34h[?25h[?25l[1me.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H1[20;45H[34h[?25h[?25l[1m0.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H2[20;46H[34h[?25h[?25l[1m.empty() != [0m[1m[35mtrue[0m[1m) { [0m[46;106H1[20;45H[34h[?25h[?25l[1m-.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H2[20;46H[34h[?25h[?25l[1m<.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H3[20;47H[34h[?25h[?25l[1m.empty() != [0m[1m[35mtrue[0m[1m) { [0m[46;106H2[20;46H[34h[?25h[?25l[1m>.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H3[20;47H[34h[?25h[?25l[1mb.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H4[20;48H[34h[?25h[?25l[1mu.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H5[20;49H[34h[?25h[?25l[1mf.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H6[20;50H[34h[?25h[?25l[1mf.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H7[20;51H[34h[?25h[?25l[1me.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H8[20;52H[34h[?25h[?25l[1mr.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H9[20;53H[34h[?25h[?25l[1m_.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;105H50[20;54H[34h[?25h[?25l[1ml.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H1[20;55H[34h[?25h[?25l[1mo.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H2[20;56H[34h[?25h[?25l[1ma.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H3[20;57H[34h[?25h[?25l[1md.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H4[20;58H[34h[?25h[?25l[1m.empty() != [0m[1m[35mtrue[0m[1m) { [0m[46;106H3[20;57H[34h[?25h[?25l[1m.empty() != [0m[1m[35mtrue[0m[1m) { [0m[46;106H2[20;56H[34h[?25h[?25l[1mc.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H3[20;57H[34h[?25h[?25l[1ma.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H4[20;58H[34h[?25h[?25l[1ml.empty() != [0m[1m[35mtrue[0m[1m) {[0m[46;106H5[20;59H[34h[?25h[46;1H[K[?25l[46;102H95,54[9C85%[20;58H[34h[?25h[?25l[46;102H[K[46;1H:[34h[?25hw[?25l"src/simulator/node.cc" 133L, 3397C written[58C95,54[9C85%[1;15H[1ms/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[46;102H[K[46;102H95,54[9C85%[20;58H[34h[?25h[?25l[33m 95 [0m [31mwhile[0m (node->die_thread != [4C || node->buffer_local.empty() != [4C) {[20;78H[K[21;1H[1m[33m 96 [0m[1m  [0m[1m[31mwhile[0m[1m (node->buffer_local.empty() && !node->die_thread)                                                          [0m[46;103H6[21;58H[34h[?25h[?25l[33m 96 [0m  [31mwhile[0m (node->buffer_local.empty() && !node->die_thread) [21;63H[K[22;1H[1m[33m 97 [0m[1m   pthread_mutex_lock (&node->lock_scheduler_empty);                                                               [0m[46;103H7,52[22;56H[34h[?25h[?25l[33m 97 [0m   pthread_mutex_lock (&node->lock_scheduler_empty);[22;57H[K[23;1H[1m[33m 98 [0m[1m  [0m[1m[31mif[0m[1m [0m[46m([0m[1mnode->die_thread[0m[46m)[0m[1m                                                                                            [0m[46;103H8,23[23;27H[34h[?25h[?25l[33m 98 [0m  [31mif[0m (node->die_thread)[23;28H[K[24;1H[1m[33m 99 [0m[1m   [0m[1m[31mcontinue[0m[1m;                                                                                                       [0m[46;103H9,12[24;16H[34h[?25h[?25l[33m 99 [0m   [31mcontinue[0m;[24;17H[K[25;1H[1m[33m100 [0m[1m                                                                                                                   [0m[46;102H100,0-1[25;5H[34h[?25h[?25l[33m100 [0m[25;5H[K[26;1H[1m[33m101 [0m[1m  Query* query = node->buffer_local.front ();                                                                      [0m[46;104H1,45 [26;49H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;13H[K[46;102H101,3[9C85%[26;7H[34h[?25h[?25l[46;106H4[26;8H[34h[?25h[?25l[46;106H5[26;9H[34h[?25h[?25l[46;106H6[26;10H[34h[?25h[?25l[46;106H7[26;11H[34h[?25h[?25l[46;106H8[26;12H[34h[?25h[1;15H[1m+ s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[26;12H[1mx* query = node->buffer_local.front ();[0m[46;106H9[26;13H[34h[?25h[?25l[1m* query = node->buffer_local.front (); [0m[46;106H8[26;12H[34h[?25h[?25l[46;106H9[26;13H[34h[?25h[?25l[46;106H10[26;14H[34h[?25h[?25l[46;107H1[26;15H[34h[?25h[?25l[46;107H2[26;16H[34h[?25h[?25l[46;107H3[26;17H[34h[?25h[?25l[46;107H4[26;18H[34h[?25h[?25l[46;107H5[26;19H[34h[?25h[?25l[46;107H6[26;20H[34h[?25h[?25l[46;107H7[26;21H[34h[?25h[?25l[46;107H8[26;22H[34h[?25h[?25l[1minode->buffer_local.front ();[0m[46;107H9[26;23H[34h[?25h[?25l[1mnode->buffer_local.front (); [0m[46;107H8[26;22H[34h[?25h[?25l[1m&node->buffer_local.front ();[0m[46;107H9[26;23H[34h[?25h[46;1H[K[?25l[46;102H101,18[8C85%[26;22H[34h[?25h[?25l[33m101 [0m  Query* query = &node->buffer_local.front ();[26;51H[K[45;1H[1m[33m120 [0m[1m [69C                                             [0m[46;103H20,2 [45;6H[34h[?25h[?25l[46;106H4[45;8H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m120 [0m [44;75H[K[45;1H[1m[33m121 [0m[1m query->setFinishedDate();                                                                                         [0m[46;102H[K[46;102H121,2[9C86%[45;6H[34h[?25h[?25l[46;102H[K[46;1H:[34h[?25hw[?25l"src/simulator/node.cc" 133L, 3398C written[58C121,2[9C86%[1;15H[1ms/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[46;102H[K[46;102H121,2[9C86%[45;6H[34h[?25h[?25l[46;1H[K[46;1H:tabprevious[23m[24m[0m[H[J[1;1H[1m i/s/node.hh [0m[4m[30m[47m s/s/node.cc  i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m                                               [0m[1;119H[4m[30m[47mX[24m[0m[2;3HServer* attributes;
  Client* scheduler;
  Client* neighbor;

  [1m[34mstatic[0m lru_map<[1m[34mint[0m, [1m[34mint[0m> cache;
  [1m[34mstatic[0m queue<Query> buffer_local;
  [1m[34mstatic[0m queue<Query*> buffer_neighbor;

  [1m[34mint[0m bound_lower, bound_upper;
  [1m[34mstruct[0m timeval time_start, time_end;

  pthread_t thread_neighbor;
  pthread_t thread_scheduler;
  pthread_t thread_worker;

  pthread_mutex_t lock_scheduler_empty;
  pthread_mutex_t lock_neighbor_empty;
  pthread_cond_t cond_scheduler;
  pthread_cond_t cond_neighbor;

  [1m[34mstatic[0m [1m[34mbool[0m die_thread;

  [1m[34mstatic[0m [1m[34muint32_t[0m queryRecieves;
  [1m[34mstatic[0m [1m[34muint32_t[0m queryProcessed;
  [1m[34mstatic[0m [1m[34muint64_t[0m hitCount;
  [1m[34mstatic[0m [1m[34muint64_t[0m missCount;
  [1m[34mstatic[0m [1m[34muint64_t[0m TotalExecTime;
  [1m[34mstatic[0m [1m[34muint64_t[0m TotalWaitTime;
  [1m[34mstatic[0m [1m[34muint64_t[0m inshiftedQueries;
  [1m[34mstatic[0m [1m[34muint64_t[0m outShiftedQueries;

  [1m[31m//Threads functions[0m
  [1m[34mstatic[0m [1m[34mvoid[0m* thread_scheduler_fun ([1m[34mvoid[0m*);
  [1m[34mstatic[0m [1m[34mvoid[0m* thread_neighbor_fun ([1m[34mvoid[0m*);
  [1m[34mstatic[0m [1m[34mvoid[0m* thread_worker_fun ([1m[34mvoid[0m*);

  [1m[31m//Query functions
//  void prepare_query (void);[0m
  [1m[34mbool[0m process_query ([1m[34mvoid[0m);
  [1m[34mbool[0m swift_query ([1m[34mvoid[0m);
[1m  [0m[1m[34mbool[0m[1m scheduler_query ([0m[1m[34mvoid[0m[1m);                                                                                         [0m[44;3H[1m[34mvoid[0m shutdown ([1m[34mvoid[0m);[46;102H99,19[9C77%[42;19H[34h[?25h[?25l[41;1H[1m  [4C swift_query ([4C);                                                                                             [0m[42;1H  [4C scheduler_query ([4C);[42;31H[K[46;103H8[41;19H[34h[?25h[?25l[40;1H[1m  [4C process_query ([4C);                                                                                           [0m[41;1H  [4C swift_query ([4C);[41;27H[K[46;103H7[40;19H[34h[?25h[?25l[46;105H20[40;20H[34h[?25h[?25l[46;106H1[40;21H[34h[?25h[?25l[1C[46m([4C)[0m[46;106H2[40;22H[34h[?25h[?25l[1m([4C)[0m[46;106H3[40;23H[34h[?25h[?25l[46;106H4[40;24H[34h[?25h[?25l[46;106H5[40;25H[34h[?25h[?25l[46;106H6[40;26H[34h[?25h[?25l[46m([4C)[0m[46;106H7[40;27H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;102H[K[46;102H97,27[9C77%[40;27H[34h[?25h[1;2H[1m+ i/s/node.hh [0m[4m[30m[47m s/s/node.cc  i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[40;23H[1mvoi[0m[46m)[0m[1m; [0m[46;106H6[40;26H[34h[?25h[?25l[46m)[0m[1m; [0m[46;106H5[40;25H[34h[?25h[?25l[46m)[0m[1m; [0m[46;106H4[40;24H[34h[?25h[?25l[46m)[0m[1m; [0m[46;106H3[40;23H[34h[?25h[?25l[1mQ[0m[46m)[0m[1m;[0m[46;106H4[40;24H[34h[?25h[?25l[1mu[0m[46m)[0m[1m;[0m[46;106H5[40;25H[34h[?25h[?25l[1me[0m[46m)[0m[1m;[0m[46;106H6[40;26H[34h[?25h[?25l[1mr[0m[46m)[0m[1m;[0m[46;106H7[40;27H[34h[?25h[?25l[1my[0m[46m)[0m[1m;[0m[46;106H8[40;28H[34h[?25h[?25l[1m [0m[46m)[0m[1m;[0m[46;106H9[40;29H[34h[?25h[?25l[46m)[0m[1m; [0m[46;106H8[40;28H[34h[?25h[?25l[1m&[0m[46m)[0m[1m;[0m[46;106H9[40;29H[34h[?25h[?25l[46m)[0m[1m; [0m[46;106H8[40;28H[34h[?25h[?25l[1m*[0m[46m)[0m[1m;[0m[46;106H9[40;29H[34h[?25h[?25l  [4C process_query (Query*);[40;31H[K[41;1H[1m  [4C swift_query ([4C);                                                                                             [0m[46;103H8,27[41;27H[34h[?25h[?25l[41;20H[46m([4C)[0m[46;106H6[41;26H[34h[?25h[?25l[46;106H5[41;25H[34h[?25h[?25l[1mvoi[0m[46m)[0m[1m; [0m[46;106H4[41;24H[34h[?25h[?25l[46m)[0m[1m; [0m[46;106H3[41;23H[34h[?25h[?25l[46m)[0m[1m; [0m[46;106H2[41;22H[34h[?25h[?25l[46m)[0m[1m; [0m[46;106H1[41;21H[34h[?25h[?25l[1mQ[0m[46m)[0m[1m;[0m[46;106H2[41;22H[34h[?25h[?25l[1mu[0m[46m)[0m[1m;[0m[46;106H3[41;23H[34h[?25h[?25l[1me[0m[46m)[0m[1m;[0m[46;106H4[41;24H[34h[?25h[?25l[1mr[0m[46m)[0m[1m;[0m[46;106H5[41;25H[34h[?25h[?25l[1my[0m[46m)[0m[1m;[0m[46;106H6[41;26H[34h[?25h[?25l[1m&[0m[46m)[0m[1m;[0m[46;106H7[41;27H[34h[?25h[?25l[46m)[0m[1m; [0m[46;106H6[41;26H[34h[?25h[?25l[1m*[0m[46m)[0m[1m;[0m[46;106H7[41;27H[34h[?25h[?25l  [4C swift_query (Query*);[41;29H[K[42;1H[1m  [4C scheduler_query ([4C);                                                                                         [0m[46;103H9[42;27H[34h[?25h[?25l[46;106H8[42;28H[34h[?25h[?25l[46m([4C)[0m[46;106H9[42;29H[34h[?25h[?25l[1mvoi[0m[46m)[0m[1m; [0m[46;106H8[42;28H[34h[?25h[?25l[46m)[0m[1m; [0m[46;106H7[42;27H[34h[?25h[?25l[46m)[0m[1m; [0m[46;106H6[42;26H[34h[?25h[?25l[46m)[0m[1m; [0m[46;106H5[42;25H[34h[?25h[?25l[1mQ[0m[46m)[0m[1m;[0m[46;106H6[42;26H[34h[?25h[?25l[1mu[0m[46m)[0m[1m;[0m[46;106H7[42;27H[34h[?25h[?25l[1me[0m[46m)[0m[1m;[0m[46;106H8[42;28H[34h[?25h[?25l[1ma[0m[46m)[0m[1m;[0m[46;106H9[42;29H[34h[?25h[?25l[46m)[0m[1m; [0m[46;106H8[42;28H[34h[?25h[?25l[1me[0m[46m)[0m[1m;[0m[46;106H9[42;29H[34h[?25h[?25l[46m)[0m[1m; [0m[46;106H8[42;28H[34h[?25h[?25l[1mr[0m[46m)[0m[1m;[0m[46;106H9[42;29H[34h[?25h[?25l[1mU[0m[46m)[0m[1m;[0m[46;105H30[42;30H[34h[?25h[?25l[46m)[0m[1m; [0m[46;105H29[42;29H[34h[?25h[?25l[1my[0m[46m)[0m[1m;[0m[46;105H30[42;30H[34h[?25h[?25l[1m&[0m[46m)[0m[1m;[0m[46;106H1[42;31H[34h[?25h[?25l[46m)[0m[1m; [0m[46;106H0[42;30H[34h[?25h[?25l[1m*[0m[46m)[0m[1m;[0m[46;106H1[42;31H[34h[?25h[46;1H[K[?25l[42;24H[1m(Query*)[0m[46;102H99,30[9C77%[42;30H[34h[?25h[?25l[46;102H[K[46;1H:[34h[?25hw[?25l"include/simulator/node.hh" 119L, 2471C written[54C99,30[9C77%[1;2H[1mi/s/node.hh [0m[4m[30m[47m s/s/node.cc  i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[46;102H[K[46;102H99,30[9C77%[42;30H[34h[?25h[?25l[46;1H[K[46;1H:tabnext[23m[24m[0m[H[J[1;1H[4m[30m[47m i/s/node.hh [24m[0m[1m s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m                                               [0m[1;119H[4m[30m[47mX[24m[0m[2;1H[33m 78 [0m  }
[33m 79 [0m }
[33m 80 [0m}
[33m 81 
 82 [0m[1m[31m//void Node::prepare_query (void) {[0m
[33m 83 [0m [1m[31m//buffer_local.push (ss.recieve<query>());[0m
[33m 84 [0m[1m[31m//}[0m
[33m 85 
 86 [0m[1m[31m// ------------------------------------------------------ //[0m
[33m 87 [0m[1m[31m//                PROCESSING QUERY SIDE                   //[0m
[33m 88 [0m[1m[31m// ------------------------------------------------------ //[0m
[33m 89 
 90 [0m[1m[34mvoid[0m* Node::thread_worker_fun ([1m[34mvoid[0m* args) {
[33m 91 [0m Node* node = [31mstatic_cast[0m<Node*> (args);
[33m 92 
 93 [0m [1m[34muint64_t[0m* hitmiss_count[[1m[35m2[0m] = {&hitCount, &missCount};
[33m 94 
 95 [0m [31mwhile[0m (node->die_thread != [1m[35mtrue[0m || node->buffer_local.empty() != [1m[35mtrue[0m) {
[33m 96 [0m  [31mwhile[0m (node->buffer_local.empty() && !node->die_thread)
[33m 97 [0m   pthread_mutex_lock (&node->lock_scheduler_empty);
[33m 98 [0m  [31mif[0m (node->die_thread)
[33m 99 [0m   [31mcontinue[0m;
[33m100 
101 [0m  Query* query = &node->buffer_local.front ();
[33m102 
103 [0m  [31mif[0m (!node->process_query (query)) {
[33m104 [0m   node->buffer_neighbor.push (query);
[33m105 [0m   node->buffer_local.pop ();
[33m106 
107 [0m  } [31melse[0m {
[33m108 [0m   node->buffer_local.pop ();
[33m109 [0m  }
[33m110 [0m  [31mdelete[0m query;
[33m111 [0m }
[33m112 [0m pthread_exit ([1m[35mEXIT_SUCCESS[0m);
[33m113 [0m}
[33m114 
115 [0m[1m[34mbool[0m Node::process_query (Query* query) {
[33m116 [0m assert (query != [1m[35mNULL[0m);
[33m117 
118 [0m [1m[34mbool[0m result;
[33m119 [0m query->setStartDate();
[33m120 [0m [1m[31m//result = cache.match (static_cast<packet*> (query), hitmiss_count);[0m
[1m[33m121 [0m[1m query->setFinishedDate();                                                                                         [0m[46;102H121,2[9C86%[45;6H[34h[?25h[?25l[44;1H[1m[33m120 [0m[1m [69C                                             [0m[45;1H[33m121 [0m query->setFinishedDate();[45;31H[K[46;104H0[44;6H[34h[?25h[?25l[43;1H[1m[33m119 [0m[1m query->setStartDate();                                                                                            [0m[44;1H[33m120 [0m [44;75H[K[46;103H19[43;6H[34h[?25h[?25l[42;1H[1m[33m118 [0m[1m [4C result;                                                                                                      [0m[43;1H[33m119 [0m query->setStartDate();[43;28H[K[46;104H8[42;6H[34h[?25h[?25l[41;1H[1m[33m117 [0m[1m                                                                                                                   [0m[42;1H[33m118 [0m [4C result;[42;18H[K[46;104H7,0-1[41;5H[34h[?25h[?25l[40;1H[1m[33m116 [0m[1m assert (query != [4C);                                                                                           [0m[41;1H[33m117 [0m[41;5H[K[46;104H6,2  [40;6H[34h[?25h[?25l[39;1H[1m[33m115 [0m[4C[1m Node::process_query (Query* query) {                                                                          [0m[40;1H[33m116 [0m assert (query != [4C);[40;29H[K[46;104H5[39;6H[34h[?25h[?25l[38;1H[1m[33m114 [0m[1m                                                                                                                   [0m[39;1H[33m115 [0m[4C Node::process_query (Query* query) {[39;46H[K[46;104H4,0-1[38;5H[34h[?25h[?25l[14;48H[46m{[0m[37;1H[1m[33m113 [0m[46m}[0m[1m                                                                                                                  [0m[38;1H[33m114 [0m[38;5H[K[46;104H3,1  [37;5H[34h[?25h[?25l[14;48H{[36;1H[1m[33m112 [0m[1m pthread_exit ([12C);                                                                                      [0m[37;1H[33m113 [0m}[37;6H[K[46;104H2,2[36;6H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;102H[K[46;102H113,2[9C85%[1;15H[1m+ s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[24m[0m[36;1H[33m112 [0m pthread_exit ([12C);[36;34H[K[37;1H[1m[33m113 [0m[1m                                                                                                                   [0m[38;5H}[39;5H[K[40;5H[1m[34mbool[0m Node::process_query (Query* query) {[41;6Hassert (query != [1m[35mNULL[0m);[42;6H[K[43;6H[1m[34mbool[0m result;[43;18H[K[44;6Hquery->setStartDate();[44;28H[K[45;6H[1m[31m//result = cache.match (static_cast<packet*> (query), hitmiss_count);[37;6H[34h[?25h[?25l[0m[1mr[0m[46;106H3[37;7H[34h[?25h[?25l[1me[0m[46;106H4[37;8H[34h[?25h[?25l[1mt[0m[46;106H5[37;9H[34h[?25h[?25l[1mr[0m[46;106H6[37;10H[34h[?25h[?25l[1m [0m[46;106H5[37;9H[34h[?25h[?25l[1m [0m[46;106H4[37;8H[34h[?25h[?25l[1mr[0m[46;106H5[37;9H[34h[?25h[?25l[1m [0m[46;106H4[37;8H[34h[?25h[?25l[1mt[0m[46;106H5[37;9H[34h[?25h[?25l[1mr[0m[46;106H6[37;10H[34h[?25h[?25l[1mu[0m[46;106H7[37;11H[34h[?25h[?25l[1mn[0m[46;106H8[37;12H[34h[?25h[?25l[1m [0m[46;106H7[37;11H[34h[?25h[?25l[1m [0m[46;106H6[37;10H[34h[?25h[?25l[1m [0m[46;106H5[37;9H[34h[?25h[?25l[1mu[0m[46;106H6[37;10H[34h[?25h[?25l[1mr[0m[46;106H7[37;11H[34h[?25h[?25l[1m[31mreturn[0m[46;106H8[37;12H[34h[?25h[?25l[46;106H9[37;13H[34h[?25h[?25l[1mn[0m[46;106H10[37;14H[34h[?25h[?25l[1mu[0m[46;107H1[37;15H[34h[?25h[?25l[1m [0m[46;107H0[37;14H[34h[?25h[?25l[1m [0m[46;106H9 [37;13H[34h[?25h[?25l[1mB[0m[46;106H10[37;14H[34h[?25h[?25l[1mY[0m[46;107H1[37;15H[34h[?25h[?25l[1m+[0m[46;107H2[37;16H[34h[?25h[?25l[1m [0m[46;107H1[37;15H[34h[?25h[?25l[1m [0m[46;107H0[37;14H[34h[?25h[?25l[1m [0m[46;106H9 [37;13H[34h[?25h[?25l[1mN[0m[46;106H10[37;14H[34h[?25h[?25l[1mU[0m[46;107H1[37;15H[34h[?25h[?25l[1mL[0m[46;107H2[37;16H[34h[?25h[?25l[1m[35mNULL[0m[46;107H3[37;17H[34h[?25h[?25l[1m;[0m[46;107H4[37;18H[34h[?25h[46;1H[K[?25l[46;102H113,13[8C85%[37;17H[34h[?25h[?25l[46;102H[K[46;1H:[34h[?25hw[?25l"src/simulator/node.cc" 134L, 3412C written[58C113,13[8C85%[1;15H[1ms/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[46;102H[K[46;102H113,13[8C85%[37;17H[34h[?25h[?25l[36;1H[1m[33m112 [0m[1m pthread_exit ([12C);                                                                                      [0m[37;1H[33m113 [0m [31mreturn[0m [4C;[37;18H[K[46;104H2[36;17H[34h[?25h[?25l[19;77H[46m{[0m[35;1H[1m[33m111 [0m[1m [0m[46m}[0m[1m                                                                                                                 [0m[36;1H[33m112 [0m pthread_exit ([12C);[36;34H[K[46;104H1,2 [35;6H[34h[?25h[?25l[19;77H{[34;1H[1m[33m110 [0m[1m  [0m[1m[31mdelete[0m[1m query;                                                                                                    [0m[35;1H[33m111 [0m }[35;7H[K[46;104H0,13[34;17H[34h[?25h[?25l[31;14H[46m{[0m

[1m[33m109 [0m[1m  [0m[46m}[0m[1m                                                                                                                [0m[34;1H[33m110 [0m  [31mdelete[0m query;[34;20H[K[46;103H09,3 [33;7H[34h[?25h[?25l[31;14H{
[1m[33m108 [0m[1m   node->buffer_local.pop ();                                                                                      [0m[33;1H[33m109 [0m  }[33;8H[K[46;104H8,13[32;17H[34h[?25h[?25l[31;1H[1m[33m107 [0m[1m  } [0m[1m[31melse[0m[1m [0m[46m{[0m[1m                                                                                                         [0m[32;1H[33m108 [0m   node->buffer_local.pop ();[32;34H[K[33;7H[46m}[0m[46;104H7,10[31;14H[34h[?25h[?25l[30;1H[1m[33m106 [0m[1m                                                                                                                   [0m[31;1H[33m107 [0m  } [31melse[0m {[31;15H[K[33;7H}[46;104H6,0-1[30;5H[34h[?25h[?25l[29;1H[1m[33m105 [0m[1m   node->buffer_local.pop ();                                                                                      [0m[30;1H[33m106 [0m[30;5H[K[46;104H5,13 [29;17H[34h[?25h[?25l[28;1H[1m[33m104 [0m[1m   node->buffer_neighbor.push (query);                                                                             [0m[29;1H[33m105 [0m   node->buffer_local.pop ();  [29;36H[K[46;104H4[28;17H[34h[?25h[?25l[27;1H[1m[33m103 [0m[1m  [0m[1m[31mif[0m[1m (!node->process_query (query)) {                                                                              [0m[28;1H[33m104 [0m   node->buffer_neighbor.push (query);[28;43H[K[46;104H3[27;17H[34h[?25h[?25l[26;1H[1m[33m102 [0m[1m                                                                                                                   [0m[27;1H[33m103 [0m  [31mif[0m (!node->process_query (query)) {[27;42H[K[46;104H2,0-1[26;5H[34h[?25h[?25l[25;1H[1m[33m101 [0m[1m  Query* query = &node->buffer_local.front ();                                                                     [0m[26;1H[33m102 [0m[26;5H[K[46;104H1,13 [25;17H[34h[?25h[?25l[24;1H[1m[33m100 [0m[1m                                                                                                                   [0m[25;1H[33m101 [0m  Query* query = &node->buffer_local.front ();[25;51H[K[46;104H0,0-1[24;5H[34h[?25h[?25l[23;1H[1m[33m 99 [0m[1m   [0m[1m[31mcontinue[0m[1m;                                                                                                       [0m[24;1H[33m100 [0m[24;5H[K[46;102H99,12  [23;16H[34h[?25h[?25l[22;1H[1m[33m 98 [0m[1m  [0m[1m[31mif[0m[1m (node->die_thread)                                                                                            [0m[23;1H[33m 99 [0m   [31mcontinue[0m;[23;17H[K[46;103H8,13[22;17H[34h[?25h[?25l[21;1H[1m[33m 97 [0m[1m   pthread_mutex_lock (&node->lock_scheduler_empty);                                                               [0m[22;1H[33m 98 [0m  [31mif[0m (node->die_thread)[22;28H[K[46;103H7[21;17H[34h[?25h[?25l[20;1H[1m[33m 96 [0m[1m  [0m[1m[31mwhile[0m[1m (node->buffer_local.empty() && !node->die_thread)                                                          [0m[21;1H[33m 97 [0m   pthread_mutex_lock (&node->lock_scheduler_empty);[21;57H[K[46;103H6[20;17H[34h[?25h[?25l[19;1H[1m[33m 95 [0m[1m [0m[1m[31mwhile[0m[1m (node->die_thread != [4C || node->buffer_local.empty() != [4C) {                                          [0m[20;1H[33m 96 [0m  [31mwhile[0m (node->buffer_local.empty() && !node->die_thread) [20;63H[K[46;103H5[19;17H[34h[?25h[?25l[18;1H[1m[33m 94 [0m[1m                                                                                                                   [0m[19;1H[33m 95 [0m [31mwhile[0m (node->die_thread != [4C || node->buffer_local.empty() != [4C) {[19;78H[K[46;103H4,0-1[18;5H[34h[?25h[?25l[17;1H[1m[33m 93 [0m[1m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};                                                             [0m[18;1H[33m 94 [0m[18;5H[K[46;103H3,13 [17;17H[34h[?25h[?25l[16;1H[1m[33m 92 [0m[1m                                                                                                                   [0m[17;1H[33m 93 [0m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};[17;59H[K[46;103H2,0-1[16;5H[34h[?25h[?25l[15;1H[1m[33m 91 [0m[1m Node* node = [0m[1m[31mstatic_cast[0m[1m<Node*> (args);                                                                           [0m[16;1H[33m 92 [0m[16;5H[K[46;103H1,13 [15;17H[34h[?25h[?25l[14;1H[1m[33m 90 [0m[4C[1m* Node::thread_worker_fun ([4C* args) {                                                                       [0m[15;1H[33m 91 [0m Node* node = [31mstatic_cast[0m<Node*> (args);[15;45H[K[46;103H0[14;17H[34h[?25h[?25l[13;1H[1m[33m 89 [0m[1m                                                                                                                   [0m[14;1H[33m 90 [0m[4C* Node::thread_worker_fun ([4C* args) {[14;49H[K[46;102H89,0-1[13;5H[34h[?25h[?25l[12;1H[1m[33m 88 [0m[60C[1m                                                       [0m[13;1H[33m 89 [0m[13;5H[K[46;103H8,13 [12;17H[34h[?25h[?25l[11;1H[1m[33m 87 [0m[60C[1m                                                       [0m[12;1H[33m 88 [0m[12;65H[K[46;103H7[11;17H[34h[?25h[?25l[10;1H[1m[33m 86 [0m[60C[1m                                                       [0m[11;1H[33m 87 [0m[11;65H[K[46;103H6[10;17H[34h[?25h[?25l[9;1H[1m[33m 85 [0m[1m                                                                                                                   [0m[10;1H[33m 86 [0m[10;65H[K[46;103H5,0-1[9;5H[34h[?25h[?25l[6;39H[1m[31m[46m{[0m

[1m[33m 84 [0m[2C[1m[31m[46m}[0m[1m                                                                                                                [0m[9;1H[33m 85 [0m[9;5H[K[46;103H4,3  [8;7H[34h[?25h[?25l[6;39H[1m[31m{[0m
[1m[33m 83 [0m[1m [42C                                                                        [0m[8;1H[33m 84 [0m[2C[1m[31m}[0m[8;8H[K[46;103H3,13[7;17H[34h[?25h[?25l[6;1H[1m[33m 82 [0m[35C[1m                                                                                [0m[7;1H[33m 83 [0m [7;48H[K[46;103H2[6;17H[34h[?25h[?25l[5;1H[1m[33m 81 [0m[1m                                                                                                                   [0m[6;1H[33m 82 [0m[6;40H[K[46;103H1,0-1[5;5H[34h[?25h[?25l[4;1H[1m[33m 80 [0m[1m}                                                                                                                  [0m[5;1H[33m 81 [0m[5;5H[K[46;103H0,1  [4;5H[34h[?25h[?25l[3;1H[1m[33m 79 [0m[1m }                                                                                                                 [0m[4;1H[33m 80 [0m}[4;6H[K[46;102H79,2[3;6H[34h[?25h[?25l[2;1H[1m[33m 78 [0m[1m  }                                                                                                                [0m[3;1H[33m 79 [0m }[3;7H[K[46;103H8,3[2;7H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 77 [0m[1m   [0m[1m[31m//recieve back[0m[1m                                                                                                  [0m[3;1H[33m 78 [0m  }[3;8H[K[46;1H[K[46;102H77,13[9C84%[2;17H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 76 [0m[1m   [0m[1m[31m//To scheduler some miss-wrong message and [0m[1m                                                                     [0m[3;1H[33m 77 [0m   [3;22H[K[46;102H[K[46;102H76,13[9C83%[2;17H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 75 [0m[1m   [0m[1m[31m//Some routine to reset sockets and inform [0m[1m                                                                     [0m[3;1H[33m 76 [0m   [3;51H[K[46;102H[K[46;102H75,13[9C82%[2;17H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 74 [0m[1m  } [0m[1m[31mcatch[0m[1m (Exception& e) {                                                                                         [0m[3;1H[33m 75 [0m   [3;51H[K[46;102H[K[46;102H74,13[9C81%[2;17H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 73 [0m[1m   }                                                                                                               [0m[3;1H[33m 74 [0m  } [31mcatch[0m (Exception& e) {[3;31H[K[46;102H[K[46;102H73,4[10C80%[2;8H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 72 [0m[1m    [0m[1m[31mdefault[0m[1m:    [0m[1m[31mthrow[0m[1m Exception ([0m[1m[35m"Unknown message"[0m[1m);                                                               [0m[3;1H[33m 73 [0m   }[3;9H[K[46;102H[K[46;102H72,13[9C78%[2;17H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 71 [0m[1m    [0m[1m[31mcase[0m[1m QUIT:  node->shutdown();                               [0m[1m[31mbreak[0m[1m;                                             [0m[3;1H[33m 72 [0m    [31mdefault[0m:    [31mthrow[0m Exception ([17C);[3;57H[K[46;102H[K[46;102H71,13[9C77%[2;17H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 70 [0m[1m    [0m[1m[31mcase[0m[1m INFO:  [0m[1m[31m/*node->inform_scheduler();*/[0m[1m                   [0m[1m[31mbreak[0m[1m;                                             [0m[3;1H[33m 71 [0m    [31mcase[0m QUIT:  node->shutdown();                               [31mbreak[0m;[3;75H[K[46;102H[K[46;102H70,13[9C76%[2;17H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 69 [0m[1m    [0m[1m[31mcase[0m[1m QUERY: node->buffer_local.push (ss.recieve<Query>());  [0m[1m[31mbreak[0m[1m;                                             [0m[3;1H[33m 70 [0m    [31mcase[0m INFO:  [29C                   [31mbreak[0m;[3;75H[K[46;102H[K[46;102H69,13[9C75%[2;17H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 68 [0m[1m   [0m[1m[31mswitch[0m[1m (ss.getType()) {                                                                                         [0m[3;1H[33m 69 [0m    [31mcase[0m QUERY: node->buffer_local.push (ss.recieve<Query>());  [31mbreak[0m;[3;75H[K[46;102H[K[46;102H68,13[9C74%[2;17H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 67 [0m[1m  [0m[1m[31mtry[0m[1m [0m[46m{[0m[1m                                                                                                            [0m[3;1H[33m 68 [0m   [31mswitch[0m (ss.getType()) {[3;31H[K[9;7H[46m}[0m[46;102H[K[46;102H67,7[10C73%[2;11H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 66 [0m[1m [0m[1m[31mwhile[0m[1m [0m[46m([0m[1m[35mtrue[0m[46m)[0m[1m {                                                                                                    [0m[3;1H[33m 67 [0m  [31mtry[0m {[3;12H[K[10;7H}[46;102H[K[46;102H66,13[9C72%[2;17H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 65 [0m[1m socket_stream ss = node->scheduler->connect();                                                                    [0m[3;1H[33m 66 [0m [31mwhile[0m ([4C) {[3;20H[K[46;102H[K[46;102H65,13[9C71%[2;17H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 64 [0m[1m                                                                                                                   [0m[3;1H[33m 65 [0m socket_stream ss = node->scheduler->connect();[3;52H[K[46;102H[K[46;102H64,0-1[8C70%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 63 [0m[1m Node* node = [0m[1m[31mstatic_cast[0m[1m<Node*> (args);                                                                           [0m[3;1H[33m 64 [0m[3;5H[K[46;102H[K[46;102H63,13[9C68%[2;17H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 62 [0m[1m[34mvoid[0m[1m* Node::thread_scheduler_fun ([0m[1m[34mvoid[0m[1m* args) {                                                                    [0m[3;1H[33m 63 [0m Node* node = [31mstatic_cast[0m<Node*> (args);[3;45H[K[46;102H[K[46;102H62,13[9C67%[2;17H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 61 [0m[1m                                                                                                                   [0m[3;1H[33m 62 [0m[4C* Node::thread_scheduler_fun ([4C* args) { [3;53H[K[46;102H[K[46;102H61,0-1[8C66%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 60 [0m[1m[31m// ------------------------------------------------------ //[0m[1m                                                       [0m[3;1H[33m 61 [0m[3;5H[K[46;102H[K[46;102H60,13[9C65%[2;17H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 59 [0m[1m[31m//              RECIEVING QUERIES SIDE                    //[0m[1m                                                       [0m[3;1H[33m 60 [0m[3;65H[K[46;102H[K[46;102H59,13[9C64%[2;17H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 58 [0m[1m[31m// ------------------------------------------------------ //[0m[1m                                                       [0m[3;1H[33m 59 [0m[3;65H[K[46;102H[K[46;102H58,13[9C63%[2;17H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 57 [0m[1m[34mvoid[0m[1m* Node::thread_neighbor_fun ([0m[1m[34mvoid[0m[1m* args) {}                                                                    [0m[3;1H[33m 58 [0m[3;65H[K[46;102H[K[46;102H57,13[9C62%[2;17H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 56 [0m[1m[31m//ToDo[0m[1m                                                                                                             [0m[3;1H[33m 57 [0m[4C* Node::thread_neighbor_fun ([4C* args) {}[3;52H[K[46;102H[K[46;102H56,6[10C61%[2;10H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 55 [0m[1m                                                                                                                   [0m[3;1H[33m 56 [0m[3;11H[K[46;102H[K[46;102H55,0-1[8C60%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 54 [0m[1m[31m// ------------------------------------------------------ //[0m[1m                                                       [0m[3;1H[33m 55 [0m[3;5H[K[46;102H[K[46;102H54,13[9C58%[2;17H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 53 [0m[1m[31m//                                                        //[0m[1m                                                       [0m[3;1H[33m 54 [0m[3;65H[K[46;102H[K[46;102H53,13[9C57%[2;17H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 52 [0m[1m[31m// ------------------------------------------------------ //[0m[1m                                                       [0m[3;1H[33m 53 [0m[3;65H[K[46;102H[K[46;102H52,13[9C56%[2;17H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 51 [0m[1m                                                                                                                   [0m[3;1H[33m 52 [0m[3;65H[K[46;102H[K[46;102H51,0-1[8C55%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 50 [0m[1m}                                                                                                                  [0m[3;1H[33m 51 [0m[3;5H[K[46;102H[K[46;102H50,1[10C54%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 49 [0m[1m [0m[1m[31mreturn[0m[1m [0m[1m[35mtrue[0m[1m;                                                                                                      [0m[3;1H[33m 50 [0m}[3;6H[K[46;102H[K[46;102H49,13[9C53%[2;17H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 48 [0m[1m                                                                                                                   [0m[3;1H[33m 49 [0m [31mreturn[0m [4C;[3;18H[K[46;102H[K[46;102H48,0-1[8C52%[2;5H[34h[?25h[?25l[33m 48 [0m[2;5H[K[3;1H[1m[33m 49 [0m[1m [0m[1m[31mreturn[0m[1m [4C;                                                                                                      [0m[46;103H9,13 [3;17H[34h[?25h[?25l[33m 49 [0m [31mreturn[0m [4C;[3;18H[K[4;1H[1m[33m 50 [0m[1m}                                                                                                                  [0m[46;102H50,1 [4;5H[34h[?25h[?25l[33m 50 [0m}[4;6H[K[5;1H[1m[33m 51 [0m[1m                                                                                                                   [0m[46;103H1,0-1[5;5H[34h[?25h[?25l[33m 51 [0m[5;5H[K[6;1H[1m[33m 52 [0m[60C[1m                                                       [0m[46;103H2,13 [6;17H[34h[?25h[?25l[33m 52 [0m[6;65H[K[7;1H[1m[33m 53 [0m[60C[1m                                                       [0m[46;103H3[7;17H[34h[?25h[?25l[33m 53 [0m[7;65H[K[8;1H[1m[33m 54 [0m[60C[1m                                                       [0m[46;103H4[8;17H[34h[?25h[?25l[33m 54 [0m[8;65H[K[9;1H[1m[33m 55 [0m[1m                                                                                                                   [0m[46;103H5,0-1[9;5H[34h[?25h[?25l[33m 55 [0m[9;5H[K[10;1H[1m[33m 56 [0m[6C[1m                                                                                                             [0m[46;103H6,6  [10;10H[34h[?25h[?25l[33m 56 [0m[10;11H[K[11;1H[1m[33m 57 [0m[4C[1m* Node::thread_neighbor_fun ([4C* args) {}                                                                    [0m[46;103H7,13[11;17H[34h[?25h[?25l[33m 57 [0m[4C* Node::thread_neighbor_fun ([4C* args) {}[11;52H[K[12;1H[1m[33m 58 [0m[60C[1m                                                       [0m[46;103H8[12;17H[34h[?25h[?25l[33m 58 [0m[12;65H[K[13;1H[1m[33m 59 [0m[60C[1m                                                       [0m[46;103H9[13;17H[34h[?25h[?25l[33m 59 [0m[13;65H[K[14;1H[1m[33m 60 [0m[60C[1m                                                       [0m[46;102H60[14;17H[34h[?25h[?25l[33m 60 [0m[14;65H[K[15;1H[1m[33m 61 [0m[1m                                                                                                                   [0m[46;103H1,0-1[15;5H[34h[?25h[?25l[33m 61 [0m[15;5H[K[16;1H[1m[33m 62 [0m[4C[1m* Node::thread_scheduler_fun ([4C* args) {                                                                    [0m[46;103H2,13 [16;17H[34h[?25h[?25l[33m 62 [0m[4C* Node::thread_scheduler_fun ([4C* args) { [16;53H[K[17;1H[1m[33m 63 [0m[1m Node* node = [0m[1m[31mstatic_cast[0m[1m<Node*> (args);                                                                           [0m[46;103H3[17;17H[34h[?25h[?25l[33m 63 [0m Node* node = [31mstatic_cast[0m<Node*> (args);[17;45H[K[18;1H[1m[33m 64 [0m[1m                                                                                                                   [0m[46;103H4,0-1[18;5H[34h[?25h[?25l[33m 64 [0m[18;5H[K[19;1H[1m[33m 65 [0m[1m socket_stream ss = node->scheduler->connect();                                                                    [0m[46;103H5,13 [19;17H[34h[?25h[?25l[33m 65 [0m socket_stream ss = node->scheduler->connect();[19;52H[K[20;1H[1m[33m 66 [0m[1m [0m[1m[31mwhile[0m[1m [0m[46m([4C)[0m[1m {                                                                                                    [0m[46;103H6[20;17H[34h[?25h[?25l[33m 66 [0m [31mwhile[0m ([4C) {[20;20H[K[21;1H[1m[33m 67 [0m[1m  [0m[1m[31mtry[0m[1m [0m[46m{[0m[1m                                                                                                            [0m[28;7H[46m}[0m[46;103H7,7 [21;11H[34h[?25h[?25l[33m 67 [0m  [31mtry[0m {[21;12H[K[22;1H[1m[33m 68 [0m[1m   [0m[1m[31mswitch[0m[1m (ss.getType()) {                                                                                         [0m[28;7H}[46;103H8,13[22;17H[34h[?25h[?25l[33m 68 [0m   [31mswitch[0m (ss.getType()) {[22;31H[K[23;1H[1m[33m 69 [0m[1m    [0m[1m[31mcase[0m[1m QUERY: node->buffer_local.push (ss.recieve<Query>());  [0m[1m[31mbreak[0m[1m;                                             [0m[46;103H9[23;17H[34h[?25h[?25l[33m 69 [0m    [31mcase[0m QUERY: node->buffer_local.push (ss.recieve<Query>());  [31mbreak[0m;[23;75H[K[24;1H[1m[33m 70 [0m[1m    [0m[1m[31mcase[0m[1m INFO:  [29C                   [0m[1m[31mbreak[0m[1m;                                             [0m[46;102H70[24;17H[34h[?25h[?25l[33m 70 [0m    [31mcase[0m INFO:  [29C                   [31mbreak[0m;[24;75H[K[25;1H[1m[33m 71 [0m[1m    [0m[1m[31mcase[0m[1m QUIT:  node->shutdown();                               [0m[1m[31mbreak[0m[1m;                                             [0m[46;103H1[25;17H[34h[?25h[?25l[33m 71 [0m    [31mcase[0m QUIT:  node->shutdown();                               [31mbreak[0m;[25;75H[K[26;1H[1m[33m 72 [0m[1m    [0m[1m[31mdefault[0m[1m:    [0m[1m[31mthrow[0m[1m Exception ([17C);                                                               [0m[46;103H2[26;17H[34h[?25h[?25l[22;30H[46m{[0m[26;1H[33m 72 [0m    [31mdefault[0m:    [31mthrow[0m Exception ([17C);[26;57H[K[27;1H[1m[33m 73 [0m[1m   [0m[46m}[0m[1m                                                                                                               [0m[46;103H3,4 [27;8H[34h[?25h[?25l[22;30H{[27;1H[33m 73 [0m   }[27;9H[K[28;1H[1m[33m 74 [0m[1m  } [0m[1m[31mcatch[0m[1m (Exception& e) {                                                                                         [0m[46;103H4,13[28;17H[34h[?25h[?25l[33m 74 [0m  } [31mcatch[0m (Exception& e) {[28;31H[K[29;1H[1m[33m 75 [0m[1m   [43C                                                                     [0m[46;103H5[29;17H[34h[?25h[?25l[33m 75 [0m   [29;51H[K[30;1H[1m[33m 76 [0m[1m   [43C                                                                     [0m[46;103H6[30;17H[34h[?25h[?25l[33m 76 [0m   [30;51H[K[31;1H[1m[33m 77 [0m[1m   [14C                                                                                                  [0m[46;103H7[31;17H[34h[?25h[?25l[28;30H[46m{[0m


[33m 77 [0m   [31;22H[K[32;1H[1m[33m 78 [0m[1m  [0m[46m}[0m[1m                                                                                                                [0m[46;103H8,3 [32;7H[34h[?25h[?25l[20;19H[46m{[0m[28;30H{[32;1H[33m 78 [0m  }[32;8H[K[33;1H[1m[33m 79 [0m[1m [0m[46m}[0m[1m                                                                                                                 [0m[46;103H9,2[33;6H[34h[?25h[?25l[16;51H[46m{[0m[20;19H{[33;1H[33m 79 [0m }[33;7H[K[34;1H[1m[33m 80 [0m[46m}[0m[1m                                                                                                                  [0m[46;102H80,1[34;5H[34h[?25h[?25l[16;51H{[34;1H[33m 80 [0m}[34;6H[K[35;1H[1m[33m 81 [0m[1m                                                                                                                   [0m[46;103H1,0-1[35;5H[34h[?25h[?25l[33m 81 [0m[35;5H[K[36;1H[1m[33m 82 [0m[35C[1m                                                                                [0m[46;103H2,13 [36;17H[34h[?25h[?25l[35;1H[1m[33m 81 [0m[1m                                                                                                                   [0m[36;1H[33m 82 [0m[36;40H[K[46;103H1,0-1[35;5H[34h[?25h[?25l[16;51H[46m{[0m[34;1H[1m[33m 80 [0m[46m}[0m[1m                                                                                                                  [0m[35;1H[33m 81 [0m[35;5H[K[46;103H0,1  [34;5H[34h[?25h[?25l[16;51H{[20;19H[46m{[0m[33;1H[1m[33m 79 [0m[1m [0m[46m}[0m[1m                                                                                                                 [0m[34;1H[33m 80 [0m}[34;6H[K[46;102H79,2[33;6H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;102H[K[46;102H80,2[10C51%[1;15H[1m+ s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[24m[0m[20;19H{[33;1H[33m 79 [0m }[33;7H[K[34;1H[1m[33m 80 [0m[1m                                                                                                                   [0m[35;5H}[36;5H[K[37;5H[1m[31m//void Node::prepare_query (void) {[0m[37;40H[K[38;5H [1C[1m[31m/buffer_local.push (ss.recieve<query>());[39;5H//}[0m[40;5H[K[41;8H[1m[31m------------------------------------------------------[42;8H               PROCESSING QUERY SIDE                  [43;5H// ------------------------------------------------------ //[0m[44;5H[K[45;5H[1m[34mvoid[0m* Node::thread_worker_fun ([1m[34mvoid[0m* args) {[34;6H[34h[?25h[?25l[1mP[0m[46;105H3[34;7H[34h[?25h[?25l[1m [0m[46;105H2[34;6H[34h[?25h[?25l[1mp[0m[46;105H3[34;7H[34h[?25h[?25l[1mt[0m[46;105H4[34;8H[34h[?25h[?25l[1mh[0m[46;105H5[34;9H[34h[?25h[?25l[1mr[0m[46;105H6[34;10H[34h[?25h[?25l[1me[0m[46;105H7[34;11H[34h[?25h[?25l[1ma[0m[46;105H8[34;12H[34h[?25h[?25l[1md[0m[46;105H9[34;13H[34h[?25h[?25l[1m_[0m[46;105H10[34;14H[34h[?25h[?25l[1me[0m[46;106H1[34;15H[34h[?25h[?25l[1mx[0m[46;106H2[34;16H[34h[?25h[?25l[1mi[0m[46;106H3[34;17H[34h[?25h[?25l[1mt[0m[46;106H4[34;18H[34h[?25h[?25l[16;51H[46m{[0m[34;1H[33m 80 [0m pthread_exit[34;18H[K[35;1H[1m[33m 81 [0m[46m}[0m[1m                                                                                                                  [0m[46;103H1,2 [35;6H[34h[?25h[?25l[16;51H{[35;1H[33m 81 [0m}[35;6H[K[36;1H[1m[33m 82 [0m[1m                                                                                                                   [0m[46;103H2,1[36;5H[34h[?25h[?25l[33m 82 [0m[36;5H[K[37;1H[1m[33m 83 [0m[35C[1m                                                                                [0m[46;103H3,14[37;18H[34h[?25h[?25l[33m 83 [0m[37;40H[K[38;1H[1m[33m 84 [0m[1m [42C                                                                        [0m[46;103H4[38;18H[34h[?25h[?25l[37;39H[1m[31m[46m{[0m
[33m 84 [0m [38;48H[K[39;1H[1m[33m 85 [0m[2C[1m[31m[46m}[0m[1m                                                                                                                [0m[46;103H5,4 [39;8H[34h[?25h[?25l[37;39H[1m[31m{[0m

[33m 85 [0m[2C[1m[31m}[0m[39;8H[K[40;1H[1m[33m 86 [0m[1m                                                                                                                   [0m[46;103H6,1[40;5H[34h[?25h[?25l[33m 86 [0m[40;5H[K[41;1H[1m[33m 87 [0m[60C[1m                                                       [0m[46;103H7,14[41;18H[34h[?25h[?25l[33m 87 [0m[41;65H[K[42;1H[1m[33m 88 [0m[60C[1m                                                       [0m[46;103H8[42;18H[34h[?25h[?25l[33m 88 [0m[42;65H[K[43;1H[1m[33m 89 [0m[60C[1m                                                       [0m[46;103H9[43;18H[34h[?25h[?25l[33m 89 [0m[43;65H[K[44;1H[1m[33m 90 [0m[1m                                                                                                                   [0m[46;102H90,1 [44;5H[34h[?25h[?25l[33m 90 [0m[44;5H[K[45;1H[1m[33m 91 [0m[4C[1m* Node::thread_worker_fun ([4C* args) {                                                                       [0m[46;103H1,14[45;18H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m 91 [0m[4C* Node::thread_worker_fun ([4C* args) {[44;49H[K[45;1H[1m[33m 92 [0m[1m Node* node = [0m[1m[31mstatic_cast[0m[1m<Node*> (args);                                                                           [0m[46;102H[K[46;102H92,14[9C52%[45;18H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m 92 [0m Node* node = [31mstatic_cast[0m<Node*> (args);[44;45H[K[45;1H[1m[33m 93 [0m[1m                                                                                                                   [0m[46;102H[K[46;102H93,1[10C53%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m 93 [0m[44;5H[K[45;1H[1m[33m 94 [0m[1m [0m[1m[34muint64_t[0m[1m* hitmiss_count[[0m[1m[35m2[0m[1m] = {&hitCount, &missCount};                                                             [0m[46;102H[K[46;102H94,14[9C54%[45;18H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m 94 [0m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};[44;59H[K[45;1H[1m[33m 95 [0m[1m                                                                                                                   [0m[46;102H[K[46;102H95,1[10C56%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m 95 [0m[44;5H[K[45;1H[1m[33m 96 [0m[1m [0m[1m[31mwhile[0m[1m (node->die_thread != [0m[1m[35mtrue[0m[1m || node->buffer_local.empty() != [0m[1m[35mtrue[0m[1m) {                                          [0m[46;102H[K[46;102H96,14[9C57%[45;18H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m 96 [0m [31mwhile[0m (node->die_thread != [4C || node->buffer_local.empty() != [4C) {[44;78H[K[45;1H[1m[33m 97 [0m[1m  [0m[1m[31mwhile[0m[1m (node->buffer_local.empty() && !node->die_thread)                                                          [0m[46;102H[K[46;102H97,14[9C58%[45;18H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m 97 [0m  [31mwhile[0m (node->buffer_local.empty() && !node->die_thread) [44;63H[K[45;1H[1m[33m 98 [0m[1m   pthread_mutex_lock (&node->lock_scheduler_empty);                                                               [0m[46;102H[K[46;102H98,14[9C59%[45;18H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m 98 [0m   pthread_mutex_lock (&node->lock_scheduler_empty);[44;57H[K[45;1H[1m[33m 99 [0m[1m  [0m[1m[31mif[0m[1m (node->die_thread)                                                                                            [0m[46;102H[K[46;102H99,14[9C60%[45;18H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m 99 [0m  [31mif[0m (node->die_thread)[44;28H[K[45;1H[1m[33m100 [0m[1m   [0m[1m[31mcontinue[0m[1m;                                                                                                       [0m[46;102H[K[46;102H100,13[8C61%[45;17H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m100 [0m   [31mcontinue[0m;[44;17H[K[45;1H[1m[33m101 [0m[1m                                                                                                                   [0m[46;102H[K[46;102H101,1[9C62%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m101 [0m[44;5H[K[45;1H[1m[33m102 [0m[1m  Query* query = &node->buffer_local.front ();                                                                     [0m[46;102H[K[46;102H102,14[8C63%[45;18H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m102 [0m  Query* query = &node->buffer_local.front ();[44;51H[K[45;1H[1m[33m103 [0m[1m                                                                                                                   [0m[46;102H[K[46;102H103,1[9C64%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m103 [0m[44;5H[K[45;1H[1m[33m104 [0m[1m  [0m[1m[31mif[0m[1m (!node->process_query (query)) {                                                                              [0m[46;102H[K[46;102H104,14[8C65%[45;18H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m104 [0m  [31mif[0m (!node->process_query (query)) {[44;42H[K[45;1H[1m[33m105 [0m[1m   node->buffer_neighbor.push (query);                                                                             [0m[46;102H[K[46;102H105,14[8C67%[45;18H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m105 [0m   node->buffer_neighbor.push (query);[44;43H[K[45;1H[1m[33m106 [0m[1m   node->buffer_local.pop ();                                                                                      [0m[46;102H[K[46;102H106,14[8C68%[45;18H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m106 [0m   node->buffer_local.pop ();  [44;36H[K[45;1H[1m[33m107 [0m[1m                                                                                                                   [0m[46;102H[K[46;102H107,1[9C69%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m107 [0m[44;5H[K[45;1H[1m[33m108 [0m[1m  } [0m[1m[31melse[0m[1m {                                                                                                         [0m[46;102H[K[46;102H108,11[8C70%[45;15H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m108 [0m  } [31melse[0m {[44;15H[K[45;1H[1m[33m109 [0m[1m   node->buffer_local.pop ();                                                                                      [0m[46;102H[K[46;102H109,14[8C71%[45;18H[34h[?25h[?25l[2;45r[45;1H
[1;46r[43;14H[46m{[0m
[33m109 [0m   node->buffer_local.pop ();[44;34H[K[45;1H[1m[33m110 [0m[1m  [0m[46m}[0m[1m                                                                                                                [0m[46;102H[K[46;102H110,4[9C72%[45;8H[34h[?25h[?25l[2;45r[45;1H
[1;46r[42;14H{

[33m110 [0m  }[44;8H[K[45;1H[1m[33m111 [0m[1m  [0m[1m[31mdelete[0m[1m query;                                                                                                    [0m[46;102H[K[46;102H111,14[8C73%[45;18H[34h[?25h[?25l[2;45r[45;1H
[1;46r[29;77H[46m{[0m[44;1H[33m111 [0m  [31mdelete[0m query;[44;20H[K[45;1H[1m[33m112 [0m[1m [0m[46m}[0m[1m                                                                                                                 [0m[46;102H[K[46;102H112,3[9C74%[45;7H[34h[?25h[?25l[2;45r[45;1H
[1;46r[28;77H{[44;1H[33m112 [0m }[44;7H[K[45;1H[1m[33m113 [0m[1m pthread_exit ([0m[1m[35mEXIT_SUCCESS[0m[1m);                                                                                      [0m[46;102H[K[46;102H113,14[8C75%[45;18H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m113 [0m pthread_exit ([12C);[44;34H[K[45;1H[1m[33m114 [0m[1m [0m[1m[31mreturn[0m[1m [0m[1m[35mNULL[0m[1m;                                                                                                      [0m[46;102H[K[46;102H114,14[8C76%[45;18H[34h[?25h[?25l[2;45r[45;1H
[1;46r[21;48H[46m{[0m[44;1H[33m114 [0m [31mreturn[0m [4C;[44;18H[K[45;1H[1m[33m115 [0m[46m}[0m[1m                                                                                                                  [0m[46;102H[K[46;102H115,2[9C78%[45;6H[34h[?25h[?25l[21;48H{[44;1H[1m[33m114 [0m[1m [0m[1m[31mreturn[0m[1m [4C;                                                                                                      [0m[45;1H[33m115 [0m}[45;6H[K[46;104H4,14[44;18H[34h[?25h[?25l[43;1H[1m[33m113 [0m[1m pthread_exit ([12C);                                                                                      [0m[44;1H[33m114 [0m [31mreturn[0m [4C;[44;18H[K[46;104H3[43;18H[34h[?25h[?25l[26;77H[46m{[0m[42;1H[1m[33m112 [0m[1m [0m[46m}[0m[1m                                                                                                                 [0m[43;1H[33m113 [0m pthread_exit ([12C);[43;34H[K[46;104H2,3 [42;7H[34h[?25h[?25l[26;77H{[41;1H[1m[33m111 [0m[1m  [0m[1m[31mdelete[0m[1m query;                                                                                                    [0m[42;1H[33m112 [0m }[42;7H[K[46;104H1,14[41;18H[34h[?25h[?25l[38;14H[46m{[0m

[1m[33m110 [0m[1m  [0m[46m}[0m[1m                                                                                                                [0m[41;1H[33m111 [0m  [31mdelete[0m query;[41;20H[K[46;104H0,4 [40;8H[34h[?25h[?25l[38;14H{
[1m[33m109 [0m[1m   node->buffer_local.pop ();                                                                                      [0m[40;1H[33m110 [0m  }[40;8H[K[46;103H09,14[39;18H[34h[?25h[?25l[38;1H[1m[33m108 [0m[1m  } [0m[1m[31melse[0m[1m [0m[46m{[0m[1m                                                                                                         [0m[39;1H[33m109 [0m   node->buffer_local.pop ();[39;34H[K[40;7H[46m}[0m[46;104H8,11[38;15H[34h[?25h[?25l[37;1H[1m[33m107 [0m[1m                                                                                                                   [0m[38;1H[33m108 [0m  } [31melse[0m {[38;15H[K[40;7H}[46;104H7,1 [37;5H[34h[?25h[?25l[36;1H[1m[33m106 [0m[1m   node->buffer_local.pop ();                                                                                      [0m[37;1H[33m107 [0m[37;5H[K[46;104H6,14[36;18H[34h[?25h[?25l[35;1H[1m[33m105 [0m[1m   node->buffer_neighbor.push (query);                                                                             [0m[36;1H[33m106 [0m   node->buffer_local.pop ();  [36;36H[K[46;104H5[35;18H[34h[?25h[?25l[34;1H[1m[33m104 [0m[1m  [0m[1m[31mif[0m[1m (!node->process_query (query)) {                                                                              [0m[35;1H[33m105 [0m   node->buffer_neighbor.push (query);[35;43H[K[46;104H4[34;18H[34h[?25h[?25l[33;1H[1m[33m103 [0m[1m                                                                                                                   [0m[34;1H[33m104 [0m  [31mif[0m (!node->process_query (query)) {[34;42H[K[46;104H3,1 [33;5H[34h[?25h[?25l[32;1H[1m[33m102 [0m[1m  Query* query = &node->buffer_local.front ();                                                                     [0m[33;1H[33m103 [0m[33;5H[K[46;104H2,14[32;18H[34h[?25h[?25l[31;1H[1m[33m101 [0m[1m                                                                                                                   [0m[32;1H[33m102 [0m  Query* query = &node->buffer_local.front ();[32;51H[K[46;104H1,1 [31;5H[34h[?25h[?25l[30;1H[1m[33m100 [0m[1m   [0m[1m[31mcontinue[0m[1m;                                                                                                       [0m[31;1H[33m101 [0m[31;5H[K[46;104H0,13[30;17H[34h[?25h[?25l[29;1H[1m[33m 99 [0m[1m  [0m[1m[31mif[0m[1m (node->die_thread)                                                                                            [0m[30;1H[33m100 [0m   [31mcontinue[0m;[30;17H[K[46;102H99,14 [29;18H[34h[?25h[?25l[28;1H[1m[33m 98 [0m[1m   pthread_mutex_lock (&node->lock_scheduler_empty);                                                               [0m[29;1H[33m 99 [0m  [31mif[0m (node->die_thread)[29;28H[K[46;103H8[28;18H[34h[?25h[?25l[27;1H[1m[33m 97 [0m[1m  [0m[1m[31mwhile[0m[1m (node->buffer_local.empty() && !node->die_thread)                                                          [0m[28;1H[33m 98 [0m   pthread_mutex_lock (&node->lock_scheduler_empty);[28;57H[K[46;103H7[27;18H[34h[?25h[?25l[26;1H[1m[33m 96 [0m[1m [0m[1m[31mwhile[0m[1m (node->die_thread != [4C || node->buffer_local.empty() != [4C) {                                          [0m[27;1H[33m 97 [0m  [31mwhile[0m (node->buffer_local.empty() && !node->die_thread) [27;63H[K[46;103H6[26;18H[34h[?25h[?25l[25;1H[1m[33m 95 [0m[1m                                                                                                                   [0m[26;1H[33m 96 [0m [31mwhile[0m (node->die_thread != [4C || node->buffer_local.empty() != [4C) {[26;78H[K[46;103H5,1 [25;5H[34h[?25h[?25l[24;1H[1m[33m 94 [0m[1m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};                                                             [0m[25;1H[33m 95 [0m[25;5H[K[46;103H4,14[24;18H[34h[?25h[?25l[23;1H[1m[33m 93 [0m[1m                                                                                                                   [0m[24;1H[33m 94 [0m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};[24;59H[K[46;103H3,1 [23;5H[34h[?25h[?25l[22;1H[1m[33m 92 [0m[1m Node* node = [0m[1m[31mstatic_cast[0m[1m<Node*> (args);                                                                           [0m[23;1H[33m 93 [0m[23;5H[K[46;103H2,14[22;18H[34h[?25h[?25l[21;1H[1m[33m 91 [0m[4C[1m* Node::thread_worker_fun ([4C* args) {                                                                       [0m[22;1H[33m 92 [0m Node* node = [31mstatic_cast[0m<Node*> (args);[22;45H[K[46;103H1[21;18H[34h[?25h[?25l[20;1H[1m[33m 90 [0m[1m                                                                                                                   [0m[21;1H[33m 91 [0m[4C* Node::thread_worker_fun ([4C* args) {[21;49H[K[46;103H0,1 [20;5H[34h[?25h[?25l[19;1H[1m[33m 89 [0m[60C[1m                                                       [0m[20;1H[33m 90 [0m[20;5H[K[46;102H89,14[19;18H[34h[?25h[?25l[18;1H[1m[33m 88 [0m[60C[1m                                                       [0m[19;1H[33m 89 [0m[19;65H[K[46;103H8[18;18H[34h[?25h[?25l[17;1H[1m[33m 87 [0m[60C[1m                                                       [0m[18;1H[33m 88 [0m[18;65H[K[46;103H7[17;18H[34h[?25h[?25l[16;1H[1m[33m 86 [0m[1m                                                                                                                   [0m[17;1H[33m 87 [0m[17;65H[K[46;103H6,1 [16;5H[34h[?25h[?25l[13;39H[1m[31m[46m{[0m

[1m[33m 85 [0m[2C[1m[31m[46m}[0m[1m                                                                                                                [0m[16;1H[33m 86 [0m[16;5H[K[46;103H5,4[15;8H[34h[?25h[?25l[13;39H[1m[31m{[0m
[1m[33m 84 [0m[1m [42C                                                                        [0m[15;1H[33m 85 [0m[2C[1m[31m}[0m[15;8H[K[46;103H4,14[14;18H[34h[?25h[?25l[13;1H[1m[33m 83 [0m[35C[1m                                                                                [0m[14;1H[33m 84 [0m [14;48H[K[46;103H3[13;18H[34h[?25h[?25l[12;1H[1m[33m 82 [0m[1m                                                                                                                   [0m[13;1H[33m 83 [0m[13;40H[K[46;103H2,1 [12;5H[34h[?25h[?25l[11;1H[1m[33m 81 [0m[1m}                                                                                                                  [0m[12;1H[33m 82 [0m[12;5H[K[46;103H1,2[11;6H[34h[?25h[?25l[10;1H[1m[33m 80 [0m[1m pthread_exit                                                                                                      [0m[11;1H[33m 81 [0m}[11;6H[K[46;103H0,14[10;18H[34h[?25h[46;1H[K[?25l[46;102H80,13[9C78%[10;17H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;102H[K[46;102H80,14[9C78%[10;18H[34h[?25h[?25l[46;106H5[10;19H[34h[?25h[?25l[1m([0m[11;5H[315m[49m}[21;48H{[24;35H{[21C}[26;77H{[34;41H{[38;7H}[6C{[40;7H}[42;6H}[45;5H}[0m[46;106H6[10;20H[34h[?25h[?25l[1mE[0m[46;106H7[10;21H[34h[?25h[?25l[1mX[0m[46;106H8[10;22H[34h[?25h[?25l[1mI[0m[46;106H9[10;23H[34h[?25h[?25l[1mT[0m[46;105H20[10;24H[34h[?25h[?25l[1m_[0m[46;106H1[10;25H[34h[?25h[?25l[1mU[0m[46;106H2[10;26H[34h[?25h[?25l[1m [0m[46;106H1[10;25H[34h[?25h[?25l[1mS[0m[46;106H2[10;26H[34h[?25h[?25l[1mU[0m[46;106H3[10;27H[34h[?25h[?25l[1mC[0m[46;106H4[10;28H[34h[?25h[?25l[1mE[0m[46;106H5[10;29H[34h[?25h[?25l[1mE[0m[46;106H6[10;30H[34h[?25h[?25l[1mS[0m[46;106H7[10;31H[34h[?25h[?25l[1m_[0m[46;106H8[10;32H[34h[?25h[?25l[1m [0m[46;106H7[10;31H[34h[?25h[?25l[1m [0m[46;106H6[10;30H[34h[?25h[?25l[1m [0m[46;106H5[10;29H[34h[?25h[?25l[1m [0m[46;106H4[10;28H[34h[?25h[?25l[1m [0m[46;106H3[10;27H[34h[?25h[?25l[1mC[0m[46;106H4[10;28H[34h[?25h[?25l[1mE[0m[46;106H5[10;29H[34h[?25h[?25l[1mS[0m[46;106H6[10;30H[34h[?25h[?25l[1m [0m[46;106H5[10;29H[34h[?25h[?25l[1m [0m[46;106H4[10;28H[34h[?25h[?25l[1mC[0m[46;106H5[10;29H[34h[?25h[?25l[1mE[0m[46;106H6[10;30H[34h[?25h[?25l[1mS[0m[46;106H7[10;31H[34h[?25h[?25l[10;20H[1m[35mEXIT_SUCCESS[0m[46;106H8[10;32H[34h[?25h[?25l[1m)[0m[11;5H}[21;48H{[24;35H{[21C}[26;77H{[34;41H{[38;7H}[6C{[40;7H}[42;6H}[45;5H}[46;105H15[10;19H[34h[?25h[?25l[46m([12C)[0m[46;105H29[10;33H[34h[?25h[?25l[10;19H[1m([12C);[0m[46;105H30[10;34H[34h[?25h[46;1H[K[?25l[46;102H80,29[9C78%[10;33H[34h[?25h[?25l[46;102H[K[46;1H:[34h[?25hw[?25l"src/simulator/node.cc" 135L, 3442C written[58C80,29[9C78%[1;15H[1ms/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[46;102H[K[46;102H80,29[9C78%[10;33H[34h[?25h[?25l[33m 80 [0m pthread_exit ([12C);[10;34H[K[11;1H[1m[33m 81 [0m[1m}                                                                                                                  [0m[46;103H1,1 [11;5H[34h[?25h[?25l[33m 81 [0m}[11;6H[K[12;1H[1m[33m 82 [0m[1m                                                                                                                   [0m[46;103H2,0-1[12;5H[34h[?25h[?25l[33m 82 [0m[12;5H[K[13;1H[1m[33m 83 [0m[35C[1m                                                                                [0m[46;103H3,29 [13;33H[34h[?25h[?25l[33m 83 [0m[13;40H[K[14;1H[1m[33m 84 [0m[1m [42C                                                                        [0m[46;103H4[14;33H[34h[?25h[?25l[13;39H[1m[31m[46m{[0m
[33m 84 [0m [14;48H[K[15;1H[1m[33m 85 [0m[2C[1m[31m[46m}[0m[1m                                                                                                                [0m[46;103H5,3 [15;7H[34h[?25h[?25l[13;39H[1m[31m{[0m

[33m 85 [0m[2C[1m[31m}[0m[15;8H[K[16;1H[1m[33m 86 [0m[1m                                                                                                                   [0m[46;103H6,0-1[16;5H[34h[?25h[?25l[33m 86 [0m[16;5H[K[17;1H[1m[33m 87 [0m[60C[1m                                                       [0m[46;103H7,29 [17;33H[34h[?25h[?25l[33m 87 [0m[17;65H[K[18;1H[1m[33m 88 [0m[60C[1m                                                       [0m[46;103H8[18;33H[34h[?25h[?25l[33m 88 [0m[18;65H[K[19;1H[1m[33m 89 [0m[60C[1m                                                       [0m[46;103H9[19;33H[34h[?25h[?25l[33m 89 [0m[19;65H[K[20;1H[1m[33m 90 [0m[1m                                                                                                                   [0m[46;102H90,0-1[20;5H[34h[?25h[?25l[33m 90 [0m[20;5H[K[21;1H[1m[33m 91 [0m[4C[1m* Node::thread_worker_fun ([4C* args) {                                                                       [0m[46;103H1,29 [21;33H[34h[?25h[?25l[33m 91 [0m[4C* Node::thread_worker_fun ([4C* args) {[21;49H[K[22;1H[1m[33m 92 [0m[1m Node* node = [0m[1m[31mstatic_cast[0m[1m<Node*> (args);                                                                           [0m[46;103H2[22;33H[34h[?25h[?25l[33m 92 [0m Node* node = [31mstatic_cast[0m<Node*> (args);[22;45H[K[23;1H[1m[33m 93 [0m[1m                                                                                                                   [0m[46;103H3,0-1[23;5H[34h[?25h[?25l[33m 93 [0m[23;5H[K[24;1H[1m[33m 94 [0m[1m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};                                                             [0m[46;103H4,29 [24;33H[34h[?25h[?25l[33m 94 [0m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};[24;59H[K[25;1H[1m[33m 95 [0m[1m                                                                                                                   [0m[46;103H5,0-1[25;5H[34h[?25h[?25l[33m 95 [0m[25;5H[K[26;1H[1m[33m 96 [0m[1m [0m[1m[31mwhile[0m[1m (node->die_thread != [4C || node->buffer_local.empty() != [4C) {                                          [0m[46;103H6,29 [26;33H[34h[?25h[?25l[33m 96 [0m [31mwhile[0m (node->die_thread != [4C || node->buffer_local.empty() != [4C) {[26;78H[K[27;1H[1m[33m 97 [0m[1m  [0m[1m[31mwhile[0m[1m (node->buffer_local.empty() && !node->die_thread)                                                          [0m[46;103H7[27;33H[34h[?25h[?25l[33m 97 [0m  [31mwhile[0m (node->buffer_local.empty() && !node->die_thread) [27;63H[K[28;1H[1m[33m 98 [0m[1m   pthread_mutex_lock (&node->lock_scheduler_empty);                                                               [0m[46;103H8[28;33H[34h[?25h[?25l[33m 98 [0m   pthread_mutex_lock (&node->lock_scheduler_empty);[28;57H[K[29;1H[1m[33m 99 [0m[1m  [0m[1m[31mif[0m[1m [0m[46m([0m[1mnode->die_thread[0m[46m)[0m[1m                                                                                            [0m[46;103H9,23[29;27H[34h[?25h[?25l[33m 99 [0m  [31mif[0m (node->die_thread)[29;28H[K[30;1H[1m[33m100 [0m[1m   [0m[1m[31mcontinue[0m[1m;                                                                                                       [0m[46;102H100,12[30;16H[34h[?25h[?25l[33m100 [0m   [31mcontinue[0m;[30;17H[K[31;1H[1m[33m101 [0m[1m                                                                                                                   [0m[46;104H1,0-1[31;5H[34h[?25h[?25l[33m101 [0m[31;5H[K[32;1H[1m[33m102 [0m[1m  Query* query = &node->buffer_local.front ();                                                                     [0m[46;104H2,29 [32;33H[34h[?25h[?25l[33m102 [0m  Query* query = &node->buffer_local.front ();[32;51H[K[33;1H[1m[33m103 [0m[1m                                                                                                                   [0m[46;104H3,0-1[33;5H[34h[?25h[?25l[33m103 [0m[33;5H[K[34;1H[1m[33m104 [0m[1m  [0m[1m[31mif[0m[1m (!node->process_query (query)) {                                                                              [0m[46;104H4,29 [34;33H[34h[?25h[?25l[33m104 [0m  [31mif[0m (!node->process_query (query)) {[34;42H[K[35;1H[1m[33m105 [0m[1m   node->buffer_neighbor.push (query);                                                                             [0m[46;104H5[35;33H[34h[?25h[?25l[33m105 [0m   node->buffer_neighbor.push (query);[35;43H[K[36;1H[1m[33m106 [0m[1m   node->buffer_local.pop ();                                                                                      [0m[46;104H6[36;33H[34h[?25h[?25l[33m106 [0m   node->buffer_local.pop ();  [36;36H[K[37;1H[1m[33m107 [0m[1m                                                                                                                   [0m[46;104H7,0-1[37;5H[34h[?25h[?25l[33m107 [0m[37;5H[K[38;1H[1m[33m108 [0m[1m  } [0m[1m[31melse[0m[1m [0m[46m{[0m[1m                                                                                                         [0m[40;7H[46m}[0m[46;104H8,10 [38;14H[34h[?25h[?25l[33m108 [0m  } [31melse[0m {[38;15H[K[39;1H[1m[33m109 [0m[1m   node->buffer_local.pop ();                                                                                      [0m[40;7H}[46;104H9,29[39;33H[34h[?25h[?25l[38;14H[46m{[0m
[33m109 [0m   node->buffer_local.pop ();[39;34H[K[40;1H[1m[33m110 [0m[1m  [0m[46m}[0m[1m                                                                                                                [0m[46;103H10,3 [40;7H[34h[?25h[?25l[38;14H{

[33m110 [0m  }[40;8H[K[41;1H[1m[33m111 [0m[1m  [0m[1m[31mdelete[0m[1m query;                                                                                                    [0m[46;104H1,15[41;19H[34h[?25h[?25l[26;77H[46m{[0m[41;1H[33m111 [0m  [31mdelete[0m query;[41;20H[K[42;1H[1m[33m112 [0m[1m [0m[46m}[0m[1m                                                                                                                 [0m[46;104H2,2 [42;6H[34h[?25h[?25l[26;77H{[42;1H[33m112 [0m }[42;7H[K[43;1H[1m[33m113 [0m[1m pthread_exit ([12C);                                                                                      [0m[46;104H3,29[43;33H[34h[?25h[?25l[33m113 [0m pthread_exit ([12C);[43;34H[K[44;1H[1m[33m114 [0m[1m [0m[1m[31mreturn[0m[1m [4C;                                                                                                      [0m[46;104H4,13[44;17H[34h[?25h[?25l[43;1H[1m[33m113 [0m[1m pthread_exit ([12C);                                                                                      [0m[44;1H[33m114 [0m [31mreturn[0m [4C;[44;18H[K[46;104H3[43;17H[34h[?25h[?25l[26;77H[46m{[0m[42;1H[1m[33m112 [0m[1m [0m[46m}[0m[1m                                                                                                                 [0m[43;1H[33m113 [0m pthread_exit ([12C);[43;34H[K[46;104H2,2 [42;6H[34h[?25h[?25l[26;77H{[41;1H[1m[33m111 [0m[1m  [0m[1m[31mdelete[0m[1m query;                                                                                                    [0m[42;1H[33m112 [0m }[42;7H[K[46;104H1,13[41;17H[34h[?25h[?25l[38;14H[46m{[0m

[1m[33m110 [0m[1m  [0m[46m}[0m[1m                                                                                                                [0m[41;1H[33m111 [0m  [31mdelete[0m query;[41;20H[K[46;104H0,3 [40;7H[34h[?25h[?25l[38;14H{
[1m[33m109 [0m[1m   node->buffer_local.pop ();                                                                                      [0m[40;1H[33m110 [0m  }[40;8H[K[46;103H09,13[39;17H[34h[?25h[?25l[38;1H[1m[33m108 [0m[1m  } [0m[1m[31melse[0m[1m [0m[46m{[0m[1m                                                                                                         [0m[39;1H[33m109 [0m   node->buffer_local.pop ();[39;34H[K[40;7H[46m}[0m[46;104H8,10[38;14H[34h[?25h[?25l[37;1H[1m[33m107 [0m[1m                                                                                                                   [0m[38;1H[33m108 [0m  } [31melse[0m {[38;15H[K[40;7H}[46;104H7,0-1[37;5H[34h[?25h[?25l[36;1H[1m[33m106 [0m[1m   node->buffer_local.pop ();                                                                                      [0m[37;1H[33m107 [0m[37;5H[K[46;104H6,13 [36;17H[34h[?25h[?25l[35;1H[1m[33m105 [0m[1m   node->buffer_neighbor.push (query);                                                                             [0m[36;1H[33m106 [0m   node->buffer_local.pop ();  [36;36H[K[46;104H5[35;17H[34h[?25h[?25l[34;1H[1m[33m104 [0m[1m  [0m[1m[31mif[0m[1m (!node->process_query (query)) {                                                                              [0m[35;1H[33m105 [0m   node->buffer_neighbor.push (query);[35;43H[K[46;104H4[34;17H[34h[?25h[?25l[33;1H[1m[33m103 [0m[1m                                                                                                                   [0m[34;1H[33m104 [0m  [31mif[0m (!node->process_query (query)) {[34;42H[K[46;104H3,0-1[33;5H[34h[?25h[?25l[32;1H[1m[33m102 [0m[1m  Query* query = &node->buffer_local.front ();                                                                     [0m[33;1H[33m103 [0m[33;5H[K[46;104H2,13 [32;17H[34h[?25h[?25l[31;1H[1m[33m101 [0m[1m                                                                                                                   [0m[32;1H[33m102 [0m  Query* query = &node->buffer_local.front ();[32;51H[K[46;104H1,0-1[31;5H[34h[?25h[?25l[30;1H[1m[33m100 [0m[1m   [0m[1m[31mcontinue[0m[1m;                                                                                                       [0m[31;1H[33m101 [0m[31;5H[K[46;104H0,12 [30;16H[34h[?25h[?25l[29;1H[1m[33m 99 [0m[1m  [0m[1m[31mif[0m[1m (node->die_thread)                                                                                            [0m[30;1H[33m100 [0m   [31mcontinue[0m;[30;17H[K[46;102H99,13 [29;17H[34h[?25h[?25l[28;1H[1m[33m 98 [0m[1m   pthread_mutex_lock (&node->lock_scheduler_empty);                                                               [0m[29;1H[33m 99 [0m  [31mif[0m (node->die_thread)[29;28H[K[46;103H8[28;17H[34h[?25h[?25l[27;1H[1m[33m 97 [0m[1m  [0m[1m[31mwhile[0m[1m (node->buffer_local.empty() && !node->die_thread)                                                          [0m[28;1H[33m 98 [0m   pthread_mutex_lock (&node->lock_scheduler_empty);[28;57H[K[46;103H7[27;17H[34h[?25h[?25l[26;1H[1m[33m 96 [0m[1m [0m[1m[31mwhile[0m[1m (node->die_thread != [4C || node->buffer_local.empty() != [4C) {                                          [0m[27;1H[33m 97 [0m  [31mwhile[0m (node->buffer_local.empty() && !node->die_thread) [27;63H[K[46;103H6[26;17H[34h[?25h[?25l[25;1H[1m[33m 95 [0m[1m                                                                                                                   [0m[26;1H[33m 96 [0m [31mwhile[0m (node->die_thread != [4C || node->buffer_local.empty() != [4C) {[26;78H[K[46;103H5,0-1[25;5H[34h[?25h[?25l[24;1H[1m[33m 94 [0m[1m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};                                                             [0m[25;1H[33m 95 [0m[25;5H[K[46;103H4,13 [24;17H[34h[?25h[?25l[23;1H[1m[33m 93 [0m[1m                                                                                                                   [0m[24;1H[33m 94 [0m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};[24;59H[K[46;103H3,0-1[23;5H[34h[?25h[?25l[22;1H[1m[33m 92 [0m[1m Node* node = [0m[1m[31mstatic_cast[0m[1m<Node*> (args);                                                                           [0m[23;1H[33m 93 [0m[23;5H[K[46;103H2,13 [22;17H[34h[?25h[?25l[21;1H[1m[33m 91 [0m[4C[1m* Node::thread_worker_fun ([4C* args) {                                                                       [0m[22;1H[33m 92 [0m Node* node = [31mstatic_cast[0m<Node*> (args);[22;45H[K[46;103H1[21;17H[34h[?25h[?25l[20;1H[1m[33m 90 [0m[1m                                                                                                                   [0m[21;1H[33m 91 [0m[4C* Node::thread_worker_fun ([4C* args) {[21;49H[K[46;103H0,0-1[20;5H[34h[?25h[?25l[19;1H[1m[33m 89 [0m[60C[1m                                                       [0m[20;1H[33m 90 [0m[20;5H[K[46;102H89,13 [19;17H[34h[?25h[?25l[18;1H[1m[33m 88 [0m[60C[1m                                                       [0m[19;1H[33m 89 [0m[19;65H[K[46;103H8[18;17H[34h[?25h[?25l[17;1H[1m[33m 87 [0m[60C[1m                                                       [0m[18;1H[33m 88 [0m[18;65H[K[46;103H7[17;17H[34h[?25h[?25l[16;1H[1m[33m 86 [0m[1m                                                                                                                   [0m[17;1H[33m 87 [0m[17;65H[K[46;103H6,0-1[16;5H[34h[?25h[?25l[13;39H[1m[31m[46m{[0m

[1m[33m 85 [0m[2C[1m[31m[46m}[0m[1m                                                                                                                [0m[16;1H[33m 86 [0m[16;5H[K[46;103H5,3  [15;7H[34h[?25h[?25l[13;39H[1m[31m{[0m
[1m[33m 84 [0m[1m [42C                                                                        [0m[15;1H[33m 85 [0m[2C[1m[31m}[0m[15;8H[K[46;103H4,13[14;17H[34h[?25h[?25l[13;1H[1m[33m 83 [0m[35C[1m                                                                                [0m[14;1H[33m 84 [0m [14;48H[K[46;103H3[13;17H[34h[?25h[?25l[12;1H[1m[33m 82 [0m[1m                                                                                                                   [0m[13;1H[33m 83 [0m[13;40H[K[46;103H2,0-1[12;5H[34h[?25h[?25l[11;1H[1m[33m 81 [0m[1m}                                                                                                                  [0m[12;1H[33m 82 [0m[12;5H[K[46;103H1,1  [11;5H[34h[?25h[?25l[10;1H[1m[33m 80 [0m[1m pthread_exit ([12C);                                                                                      [0m[11;1H[33m 81 [0m}[11;6H[K[46;103H0,13[10;17H[34h[?25h[1;15H[1m+ s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[10;1H[33m 80 [0m pthread_exit ([12C);[10;34H[K[11;1H[1m[33m 81 [0m[1m [0m[1m[31mreturn[0m[1m [0m[1m[35mNULL[0m[1m;                                                                                                      [0m[12;5H}[13;5H[K[14;5H[1m[31m//void Node::prepare_query (void) {[0m[14;40H[K[15;5H [1C[1m[31m/buffer_local.push (ss.recieve<query>());[16;5H//}[0m[17;5H[K[18;8H[1m[31m------------------------------------------------------[19;8H               PROCESSING QUERY SIDE                  [20;5H// ------------------------------------------------------ //[0m[21;5H[K[22;5H[1m[34mvoid[0m* Node::thread_worker_fun ([1m[34mvoid[0m* args) {[23;6HNode* node = [31mstatic_cast[0m<Node*> (args);[24;6H[K[25;6H[1m[34muint64_t[0m* hitmiss_count[[1m[35m2[0m] = {&hitCount, &missCount};[26;6H[K[27;6H[31mwhile[0m (node->die_thread != [1m[35mtrue[0m || node->buffer_local.empty() != [1m[35mtrue[0m) {[28;7H[31mwhile[0m (node->buffer_local.empty() && !node->die_thread)[29;7H pthread_mutex_lock (&node->lock_scheduler_empty);[30;7H[31mif[0m (node->die_thread)[31;8H[31mcontinue[0m;[32;7H[K[33;7HQuery* query = &node->buffer_local.front ();[34;7H[K[35;7H[31mif[0m (!node->process_query (query)) {[35;42H[K[36;21Hneighbor.push (query);[37;8Hnode->buffer_local.pop ();[38;7H[K[39;7H} [31melse[0m {[39;15H[K[40;7H node->buffer_local.pop ();[41;7H}[41;8H[K[42;6H [31mdelete[0m query;[43;6H}[43;7H[K[44;6Hpthread_exit ([1m[35mEXIT_SUCCESS[0m);[45;5H [31mreturn[0m [1m[35mNULL[0m;[46;103H1,2 [10C7[11;6H[34h[?25h[?25l[10;1H[1m[33m 80 [0m[1m pthread_exit ([12C);                                                                                      [0m[11;1H[33m 81 [0m [31mreturn[0m [4C;[11;18H[K[46;103H0[10;6H[34h[?25h[?25l[9;1H[1m[33m 79 [0m[1m }                                                                                                                 [0m[10;1H[33m 80 [0m pthread_exit ([12C);[10;34H[K[46;102H79[9;6H[34h[?25h[?25l[8;1H[1m[33m 78 [0m[1m  }                                                                                                                [0m[9;1H[33m 79 [0m }[9;7H[K[46;103H8[8;6H[34h[?25h[?25l[7;1H[1m[33m 77 [0m[1m   [14C                                                                                                  [0m[8;1H[33m 78 [0m  }[8;8H[K[46;103H7[7;6H[34h[?25h[?25l[6;1H[1m[33m 76 [0m[1m   [43C                                                                     [0m[7;1H[33m 77 [0m   [7;22H[K[46;103H6[6;6H[34h[?25h[?25l[5;1H[1m[33m 75 [0m[1m   [43C                                                                     [0m[6;1H[33m 76 [0m   [6;51H[K[46;103H5[5;6H[34h[?25h[?25l[4;1H[1m[33m 74 [0m[1m  } [0m[1m[31mcatch[0m[1m (Exception& e) {                                                                                         [0m[5;1H[33m 75 [0m   [5;51H[K[46;103H4[4;6H[34h[?25h[?25l[3;1H[1m[33m 73 [0m[1m   }                                                                                                               [0m[4;1H[33m 74 [0m  } [31mcatch[0m (Exception& e) {[4;31H[K[46;103H3[3;6H[34h[?25h[?25l[2;1H[1m[33m 72 [0m[1m    [0m[1m[31mdefault[0m[1m:    [0m[1m[31mthrow[0m[1m Exception ([17C);                                                               [0m[3;1H[33m 73 [0m   }[3;9H[K[46;103H2[2;6H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 71 [0m[1m    [0m[1m[31mcase[0m[1m QUIT:  node->shutdown();                               [0m[1m[31mbreak[0m[1m;                                             [0m[3;1H[33m 72 [0m    [31mdefault[0m:    [31mthrow[0m Exception ([17C);[3;57H[K[46;1H[K[46;102H71,2[10C76%[2;6H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 70 [0m[1m    [0m[1m[31mcase[0m[1m INFO:  [0m[1m[31m/*node->inform_scheduler();*/[0m[1m                   [0m[1m[31mbreak[0m[1m;                                             [0m[3;1H[33m 71 [0m    [31mcase[0m QUIT:  node->shutdown();                               [31mbreak[0m;[3;75H[K[46;102H[K[46;102H70,2[10C75%[2;6H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 69 [0m[1m    [0m[1m[31mcase[0m[1m QUERY: node->buffer_local.push (ss.recieve<Query>());  [0m[1m[31mbreak[0m[1m;                                             [0m[3;1H[33m 70 [0m    [31mcase[0m INFO:  [29C                   [31mbreak[0m;[3;75H[K[46;102H[K[46;102H69,2[10C73%[2;6H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 68 [0m[1m   [0m[1m[31mswitch[0m[1m (ss.getType()) {                                                                                         [0m[3;1H[33m 69 [0m    [31mcase[0m QUERY: node->buffer_local.push (ss.recieve<Query>());  [31mbreak[0m;[3;75H[K[46;102H[K[46;102H68,2[10C72%[2;6H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 67 [0m[1m  [0m[1m[31mtry[0m[1m {                                                                                                            [0m[3;1H[33m 68 [0m   [31mswitch[0m (ss.getType()) {[3;31H[K[46;102H[K[46;102H67,2[10C71%[2;6H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 66 [0m[1m [0m[1m[31mwhile[0m[1m ([0m[1m[35mtrue[0m[1m) {                                                                                                    [0m[3;1H[33m 67 [0m  [31mtry[0m {[3;12H[K[46;102H[K[46;102H66,2[10C70%[2;6H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 65 [0m[1m socket_stream ss = node->scheduler->connect();                                                                    [0m[3;1H[33m 66 [0m [31mwhile[0m ([4C) {[3;20H[K[46;102H[K[46;102H65,2[10C69%[2;6H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 64 [0m[1m                                                                                                                   [0m[3;1H[33m 65 [0m socket_stream ss = node->scheduler->connect();[3;52H[K[46;102H[K[46;102H64,0-1[8C68%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 63 [0m[1m Node* node = [0m[1m[31mstatic_cast[0m[1m<Node*> (args);                                                                           [0m[3;1H[33m 64 [0m[3;5H[K[46;102H[K[46;102H63,2[10C67%[2;6H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 62 [0m[1m[34mvoid[0m[1m* Node::thread_scheduler_fun ([0m[1m[34mvoid[0m[1m* args) {                                                                    [0m[3;1H[33m 63 [0m Node* node = [31mstatic_cast[0m<Node*> (args);[3;45H[K[46;102H[K[46;102H62,2[10C66%[2;6H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 61 [0m[1m                                                                                                                   [0m[3;1H[33m 62 [0m[4C* Node::thread_scheduler_fun ([4C* args) { [3;53H[K[46;102H[K[46;102H61,0-1[8C65%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 60 [0m[1m[31m// ------------------------------------------------------ //[0m[1m                                                       [0m[3;1H[33m 61 [0m[3;5H[K[46;102H[K[46;102H60,2[10C64%[2;6H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 59 [0m[1m[31m//              RECIEVING QUERIES SIDE                    //[0m[1m                                                       [0m[3;1H[33m 60 [0m[3;65H[K[46;102H[K[46;102H59,2[10C63%[2;6H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 58 [0m[1m[31m// ------------------------------------------------------ //[0m[1m                                                       [0m[3;1H[33m 59 [0m[3;65H[K[46;102H[K[46;102H58,2[10C61%[2;6H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 57 [0m[1m[34mvoid[0m[1m* Node::thread_neighbor_fun ([0m[1m[34mvoid[0m[1m* args) {}                                                                    [0m[3;1H[33m 58 [0m[3;65H[K[46;102H[K[46;102H57,2[10C60%[2;6H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 56 [0m[1m[31m//ToDo[0m[1m                                                                                                             [0m[3;1H[33m 57 [0m[4C* Node::thread_neighbor_fun ([4C* args) {}[3;52H[K[46;102H[K[46;102H56,2[10C59%[2;6H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 55 [0m[1m                                                                                                                   [0m[3;1H[33m 56 [0m[3;11H[K[46;102H[K[46;102H55,0-1[8C58%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 54 [0m[1m[31m// ------------------------------------------------------ //[0m[1m                                                       [0m[3;1H[33m 55 [0m[3;5H[K[46;102H[K[46;102H54,2[10C57%[2;6H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 53 [0m[1m[31m//                                                        //[0m[1m                                                       [0m[3;1H[33m 54 [0m[3;65H[K[46;102H[K[46;102H53,2[10C56%[2;6H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 52 [0m[1m[31m// ------------------------------------------------------ //[0m[1m                                                       [0m[3;1H[33m 53 [0m[3;65H[K[46;102H[K[46;102H52,2[10C55%[2;6H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 51 [0m[1m                                                                                                                   [0m[3;1H[33m 52 [0m[3;65H[K[46;102H[K[46;102H51,0-1[8C54%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 50 [0m[1m}                                                                                                                  [0m[3;1H[33m 51 [0m[3;5H[K[46;102H[K[46;102H50,1[10C53%[2;5H[34h[?25h[?25l[2;45r[2;1H[L[1;46r[2;1H[1m[33m 49 [0m[1m [0m[1m[31mreturn[0m[1m [0m[1m[35mtrue[0m[1m;                                                                                                      [0m[3;1H[33m 50 [0m}[3;6H[K[46;102H[K[46;102H49,2[10C52%[2;6H[34h[?25h[?25l[33m 49 [0m [31mreturn[0m [4C;[2;18H[K[3;1H[1m[33m 50 [0m[1m}                                                                                                                  [0m[46;102H50,1[3;5H[34h[?25h[?25l[33m 50 [0m}[3;6H[K[4;1H[1m[33m 51 [0m[1m                                                                                                                   [0m[46;103H1,0-1[4;5H[34h[?25h[?25l[33m 51 [0m[4;5H[K[5;1H[1m[33m 52 [0m[60C[1m                                                       [0m[46;103H2,2  [5;6H[34h[?25h[?25l[33m 52 [0m[5;65H[K[6;1H[1m[33m 53 [0m[60C[1m                                                       [0m[46;103H3[6;6H[34h[?25h[?25l[33m 53 [0m[6;65H[K[7;1H[1m[33m 54 [0m[60C[1m                                                       [0m[46;103H4[7;6H[34h[?25h[?25l[33m 54 [0m[7;65H[K[8;1H[1m[33m 55 [0m[1m                                                                                                                   [0m[46;103H5,0-1[8;5H[34h[?25h[?25l[33m 55 [0m[8;5H[K[9;1H[1m[33m 56 [0m[6C[1m                                                                                                             [0m[46;103H6,2  [9;6H[34h[?25h[?25l[33m 56 [0m[9;11H[K[10;1H[1m[33m 57 [0m[4C[1m* Node::thread_neighbor_fun ([4C* args) {}                                                                    [0m[46;103H7[10;6H[34h[?25h[?25l[46;105H3[10;7H[34h[?25h[?25l[46;105H4[10;8H[34h[?25h[?25l[46;105H5[10;9H[34h[?25h[?25l[46;105H6[10;10H[34h[?25h[?25l[46;105H7[10;11H[34h[?25h[?25l[46;105H8[10;12H[34h[?25h[?25l[46;105H9[10;13H[34h[?25h[?25l[46;105H10[10;14H[34h[?25h[?25l[46;106H1[10;15H[34h[?25h[?25l[46;106H2[10;16H[34h[?25h[?25l[46;106H3[10;17H[34h[?25h[?25l[46;106H4[10;18H[34h[?25h[?25l[46;106H5[10;19H[34h[?25h[?25l[46;106H6[10;20H[34h[?25h[?25l[46;106H7[10;21H[34h[?25h[?25l[46;106H8[10;22H[34h[?25h[?25l[46;106H9[10;23H[34h[?25h[?25l[46;105H20[10;24H[34h[?25h[?25l[46;106H1[10;25H[34h[?25h[?25l[46;106H2[10;26H[34h[?25h[?25l[46;106H3[10;27H[34h[?25h[?25l[46;106H4[10;28H[34h[?25h[?25l[46;106H5[10;29H[34h[?25h[?25l[46;106H6[10;30H[34h[?25h[?25l[46;106H7[10;31H[34h[?25h[?25l[46;106H8[10;32H[34h[?25h[?25l[46;106H9[10;33H[34h[?25h[?25l[46;105H30[10;34H[34h[?25h[?25l[46;106H1[10;35H[34h[?25h[?25l[46;106H2[10;36H[34h[?25h[?25l[1C[46m([10C)[0m[46;106H3[10;37H[34h[?25h[?25l[1m([10C)[0m[46;106H4[10;38H[34h[?25h[?25l[46;106H5[10;39H[34h[?25h[?25l[46;106H6[10;40H[34h[?25h[?25l[46;106H7[10;41H[34h[?25h[?25l[46;106H8[10;42H[34h[?25h[?25l[46;106H9[10;43H[34h[?25h[?25l[46;105H40[10;44H[34h[?25h[?25l[46;106H1[10;45H[34h[?25h[?25l[46;106H2[10;46H[34h[?25h[?25l[46;106H3[10;47H[34h[?25h[?25l[10;37H[46m([10C)[0m[46;106H4[10;48H[34h[?25h[?25l[10;37H[1m([10C)[0m[46;106H5[10;49H[34h[?25h[?25l[1C[46m{}[0m[46;106H6[10;50H[34h[?25h[?25l[46;106H7[10;51H[34h[?25h[?25l[33m 57 [0m[4C* Node::thread_neighbor_fun ([4C* args) {}[10;52H[K[11;1H[1m[33m 58 [0m[1m [0m[1m[31mreturn[0m[1m [0m[1m[35mNULL[0m[1m;                                                                                                      [0m[12;8H[1m[31m------------------------------------------------------[13;8H             RECIEVING QUERIES SIDE                   [14;5H// ------------------------------------------------------ //[0m[15;5H[K[16;5H[1m[34mvoid[0m* Node::thread_scheduler_fun ([1m[34mvoid[0m* args) {[17;6HNode* node = [31mstatic_cast[0m<Node*> (args);[18;6H[K[19;6Hsocket_stream ss = node->scheduler->connect();[20;6H[31mwhile[0m ([1m[35mtrue[0m) {[21;7H[31mtry[0m {[21;12H[K[22;8H[31mswitch[0m (ss.getType()) {[22;31H[K[23;14HQUERY: node->buffer_local.push (ss.recieve<Query>());[24;14HINFO:  [1m[31m/*node->inform_scheduler();*/[0m[25;9H[31mcase[0m QUIT:  node->shutdown();                   [12C[31mbreak[0m;[26;8H [31mdefault[0m:    [31mthrow[0m Exception ([1m[35m"Unknown message"[0m);[27;7H }[27;9H[K[28;7H} [31mcatch[0m (Exception& e) {[28;31H[K[29;10H[1m[31mSome routine to reset sockets and inform[30;10HTo scheduler some miss-wrong message and [0m[31;7H [1m[31m//recieve back[0m[32;6H }[33;6H}[33;7H[K[34;6Hpthread_exit ([1m[35mEXIT_SUCCESS[0m);[35;5H [31mreturn[0m [1m[35mNULL[0m;[36;5H}[37;5H[K[38;5H[1m[31m//void Node::prepare_query (void) {[0m[38;40H[K[39;5H [1C[1m[31m/buffer_local.push (ss.recieve<query>());[40;5H//}[0m[41;5H[K[42;8H[1m[31m------------------------------------------------------[43;8H               PROCESSING QUERY SIDE                  [44;5H// ------------------------------------------------------ //[0m[45;5H[K[46;103H8,2 [10C1[11;6H[34h[?25h[?25l[10;1H[1m[33m 57 [0m[4C[1m* Node::thread_neighbor_fun ([4C* args) {}                                                                    [0m[11;1H[33m 58 [0m [31mreturn[0m [4C;[11;18H[K[46;103H7[10;6H[34h[?25h[?25l[46;1H[1m-- INSERT --[0m[46;102H[K[46;102H57,48[9C51%[10;50H[46m{}[34h[?25h[0m[1;119H[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[10;50H[1m{ [0m[46;102H[K[46;102H57,47[9C51%[10;51H[34h[?25h[?25l[33m 57 [0m[4C* Node::thread_neighbor_fun ([4C* args) {[10;51H[K[11;1H[1m[33m 58 [0m[1m [0m[1m[31mreturn[0m[1m [4C;                                                                                                      [0m[46;103H8,14[11;18H[34h[?25h[?25l[46;106H5[11;19H[34h[?25h[1;119H[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[11;19H[1m}[0m[46;102H[K[46;102H58,15[9C51%[46;103H7,46[10;50H[34h[?25h[?25l[46m{[11;19H}[0m[46;103H8,1[11;20H[34h[?25h[46;1H[K[?25l[46;102H58,15[9C51%[11;19H[34h[?25h[?25l[46;102H[K[46;1H:[34h[?25hw[?25l"src/simulator/node.cc" 137L, 3471C written[58C58,15[9C51%[1;15H[1ms/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[46;102H[K[46;102H58,15[9C51%[11;19H[34h[?25h[?25l[10;50H{
[33m 58 [0m [31mreturn[0m [4C; }[11;20H[K[12;1H[1m[33m 59 [0m[60C[1m                                                       [0m[46;103H9[12;19H[34h[?25h[?25l[33m 59 [0m[12;65H[K[13;1H[1m[33m 60 [0m[60C[1m                                                       [0m[46;102H60[13;19H[34h[?25h[?25l[33m 60 [0m[13;65H[K[14;1H[1m[33m 61 [0m[60C[1m                                                       [0m[46;103H1[14;19H[34h[?25h[?25l[33m 61 [0m[14;65H[K[15;1H[1m[33m 62 [0m[1m                                                                                                                   [0m[46;103H2,0-1[15;5H[34h[?25h[?25l[33m 62 [0m[15;5H[K[16;1H[1m[33m 63 [0m[4C[1m* Node::thread_scheduler_fun ([4C* args) {                                                                    [0m[46;103H3,15 [16;19H[34h[?25h[?25l[33m 63 [0m[4C* Node::thread_scheduler_fun ([4C* args) { [16;53H[K[17;1H[1m[33m 64 [0m[1m Node* node = [0m[1m[31mstatic_cast[0m[1m<Node*> (args);                                                                           [0m[46;103H4[17;19H[34h[?25h[?25l[33m 64 [0m Node* node = [31mstatic_cast[0m<Node*> (args);[17;45H[K[18;1H[1m[33m 65 [0m[1m                                                                                                                   [0m[46;103H5,0-1[18;5H[34h[?25h[?25l[33m 65 [0m[18;5H[K[19;1H[1m[33m 66 [0m[1m socket_stream ss = node->scheduler->connect();                                                                    [0m[46;103H6,15 [19;19H[34h[?25h[?25l[33m 66 [0m socket_stream ss = node->scheduler->connect();[19;52H[K[20;1H[1m[33m 67 [0m[1m [0m[1m[31mwhile[0m[1m ([4C) [0m[46m{[0m[1m                                                                                                    [0m[33;6H[46m}[0m[46;103H7[20;19H[34h[?25h[?25l[33m 67 [0m [31mwhile[0m ([4C) {[20;20H[K[21;1H[1m[33m 68 [0m[1m  [0m[1m[31mtry[0m[1m [0m[46m{[0m[1m                                                                                                            [0m[28;7H[46m}[0m[33;6H}[46;103H8,7 [21;11H[34h[?25h[?25l[33m 68 [0m  [31mtry[0m {[21;12H[K[22;1H[1m[33m 69 [0m[1m   [0m[1m[31mswitch[0m[1m (ss.getType()) {                                                                                         [0m[28;7H}[46;103H9,15[22;19H[34h[?25h[?25l[33m 69 [0m   [31mswitch[0m (ss.getType()) {[22;31H[K[23;1H[1m[33m 70 [0m[1m    [0m[1m[31mcase[0m[1m QUERY: node->buffer_local.push (ss.recieve<Query>());  [0m[1m[31mbreak[0m[1m;                                             [0m[46;102H70[23;19H[34h[?25h[?25l[33m 70 [0m    [31mcase[0m QUERY: node->buffer_local.push (ss.recieve<Query>());  [31mbreak[0m;[23;75H[K[24;1H[1m[33m 71 [0m[1m    [0m[1m[31mcase[0m[1m INFO:  [29C                   [0m[1m[31mbreak[0m[1m;                                             [0m[46;103H1[24;19H[34h[?25h[?25l[33m 71 [0m    [31mcase[0m INFO:  [29C                   [31mbreak[0m;[24;75H[K[25;1H[1m[33m 72 [0m[1m    [0m[1m[31mcase[0m[1m QUIT:  node->shutdown();                               [0m[1m[31mbreak[0m[1m;                                             [0m[46;103H2[25;19H[34h[?25h[?25l[33m 72 [0m    [31mcase[0m QUIT:  node->shutdown();                               [31mbreak[0m;[25;75H[K[26;1H[1m[33m 73 [0m[1m    [0m[1m[31mdefault[0m[1m:    [0m[1m[31mthrow[0m[1m Exception ([17C);                                                               [0m[46;103H3[26;19H[34h[?25h[?25l[22;30H[46m{[0m[26;1H[33m 73 [0m    [31mdefault[0m:    [31mthrow[0m Exception ([17C);[26;57H[K[27;1H[1m[33m 74 [0m[1m   [0m[46m}[0m[1m                                                                                                               [0m[46;103H4,4 [27;8H[34h[?25h[?25l[22;30H{[27;1H[33m 74 [0m   }[27;9H[K[28;1H[1m[33m 75 [0m[1m  } [0m[1m[31mcatch[0m[1m (Exception& e) {                                                                                         [0m[46;103H5,15[28;19H[34h[?25h[?25l[33m 75 [0m  } [31mcatch[0m (Exception& e) {[28;31H[K[29;1H[1m[33m 76 [0m[1m   [43C                                                                     [0m[46;103H6[29;19H[34h[?25h[?25l[33m 76 [0m   [29;51H[K[30;1H[1m[33m 77 [0m[1m   [43C                                                                     [0m[46;103H7[30;19H[34h[?25h[?25l[33m 77 [0m   [30;51H[K[31;1H[1m[33m 78 [0m[1m   [14C                                                                                                  [0m[46;103H8[31;19H[34h[?25h[?25l[28;30H[46m{[0m


[33m 78 [0m   [31;22H[K[32;1H[1m[33m 79 [0m[1m  [0m[46m}[0m[1m                                                                                                                [0m[46;103H9,3 [32;7H[34h[?25h[?25l[20;19H[46m{[0m[28;30H{[32;1H[33m 79 [0m  }[32;8H[K[33;1H[1m[33m 80 [0m[1m [0m[46m}[0m[1m                                                                                                                 [0m[46;102H80,2[33;6H[34h[?25h[?25l[20;19H{[33;1H[33m 80 [0m }[33;7H[K[34;1H[1m[33m 81 [0m[1m pthread_exit [0m[46m([12C)[0m[1m;                                                                                      [0m[46;103H1,15[34;19H[34h[?25h[?25l[33m 81 [0m pthread_exit ([12C);[34;34H[K[35;1H[1m[33m 82 [0m[1m [0m[1m[31mreturn[0m[1m [4C;                                                                                                      [0m[46;103H2,13[35;17H[34h[?25h[1;15H[1m+ s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[16;51H[46m{[35;5H}[0m[1m            [0m[36;5H[K[37;5H[1m[31m//void Node::prepare_query (void) {[0m[38;5H [1C[1m[31m/buffer_local.push (ss.recieve<query>());[39;5H//}[0m[39;8H[K[40;5H[K[41;5H[1m[31m// ------------------------------------------------------ //[42;8H               PROCESSING QUERY SIDE                  [43;8H------------------------------------------------------[0m[44;5H[K[45;5H[1m[34mvoid[0m* Node::thread_worker_fun ([1m[34mvoid[0m* args) {[46;106H [10C2[35;5H[34h[?25h[?25l[46;1H[K[46;1H:[34h[?25hw[?25l"src/simulator/node.cc" 136L, 3457C written[58C82,1[10C52%[1;15H[1ms/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[46;102H[K[46;102H82,1[10C52%[35;5H[34h[?25h[?25l[16;51H{[35;1H[33m 82 [0m}[35;6H[K[36;1H[1m[33m 83 [0m[1m                                                                                                                   [0m[46;103H3,0-1[36;5H[34h[?25h[?25l[33m 83 [0m[36;5H[K[37;1H[1m[33m 84 [0m[35C[1m                                                                                [0m[46;103H4,1  [37;5H[34h[?25h[?25l[33m 84 [0m[37;40H[K[38;1H[1m[33m 85 [0m[1m [42C                                                                        [0m[46;103H5[38;5H[34h[?25h[?25l[33m 85 [0m [38;48H[K[39;1H[1m[33m 86 [0m[3C[1m                                                                                                                [0m[46;103H6[39;5H[34h[?25h[?25l[33m 86 [0m[39;8H[K[40;1H[1m[33m 87 [0m[1m                                                                                                                   [0m[46;103H7,0-1[40;5H[34h[?25h[?25l[33m 87 [0m[40;5H[K[41;1H[1m[33m 88 [0m[60C[1m                                                       [0m[46;103H8,1  [41;5H[34h[?25h[?25l[33m 88 [0m[41;65H[K[42;1H[1m[33m 89 [0m[60C[1m                                                       [0m[46;103H9[42;5H[34h[?25h[?25l[33m 89 [0m[42;65H[K[43;1H[1m[33m 90 [0m[60C[1m                                                       [0m[46;102H90[43;5H[34h[?25h[?25l[33m 90 [0m[43;65H[K[44;1H[1m[33m 91 [0m[1m                                                                                                                   [0m[46;103H1,0-1[44;5H[34h[?25h[?25l[33m 91 [0m[44;5H[K[45;1H[1m[33m 92 [0m[4C[1m* Node::thread_worker_fun ([4C* args) {                                                                       [0m[46;103H2,1  [45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m 92 [0m[4C* Node::thread_worker_fun ([4C* args) {[44;49H[K[45;1H[1m[33m 93 [0m[1m Node* node = [0m[1m[31mstatic_cast[0m[1m<Node*> (args);                                                                           [0m[46;1H[K[46;102H93,1[10C53%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m 93 [0m Node* node = [31mstatic_cast[0m<Node*> (args);[44;45H[K[45;1H[1m[33m 94 [0m[1m                                                                                                                   [0m[46;102H[K[46;102H94,0-1[8C54%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m 94 [0m[44;5H[K[45;1H[1m[33m 95 [0m[1m [0m[1m[34muint64_t[0m[1m* hitmiss_count[[0m[1m[35m2[0m[1m] = {&hitCount, &missCount};                                                             [0m[46;102H[K[46;102H95,1[10C55%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m 95 [0m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};[44;59H[K[45;1H[1m[33m 96 [0m[1m                                                                                                                   [0m[46;102H[K[46;102H96,0-1[8C56%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m 96 [0m[44;5H[K[45;1H[1m[33m 97 [0m[1m [0m[1m[31mwhile[0m[1m (node->die_thread != [0m[1m[35mtrue[0m[1m || node->buffer_local.empty() != [0m[1m[35mtrue[0m[1m) {                                          [0m[46;102H[K[46;102H97,1[10C57%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m 97 [0m [31mwhile[0m (node->die_thread != [4C || node->buffer_local.empty() != [4C) {[44;78H[K[45;1H[1m[33m 98 [0m[1m  [0m[1m[31mwhile[0m[1m (node->buffer_local.empty() && !node->die_thread)                                                          [0m[46;102H[K[46;102H98,1[10C58%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m 98 [0m  [31mwhile[0m (node->buffer_local.empty() && !node->die_thread) [44;63H[K[45;1H[1m[33m 99 [0m[1m   pthread_mutex_lock (&node->lock_scheduler_empty);                                                               [0m[46;102H[K[46;102H99,1[10C59%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m 99 [0m   pthread_mutex_lock (&node->lock_scheduler_empty);[44;57H[K[45;1H[1m[33m100 [0m[1m  [0m[1m[31mif[0m[1m (node->die_thread)                                                                                            [0m[46;102H[K[46;102H100,1[9C60%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m100 [0m  [31mif[0m (node->die_thread)[44;28H[K[45;1H[1m[33m101 [0m[1m   [0m[1m[31mcontinue[0m[1m;                                                                                                       [0m[46;102H[K[46;102H101,1[9C61%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m101 [0m   [31mcontinue[0m;[44;17H[K[45;1H[1m[33m102 [0m[1m                                                                                                                   [0m[46;102H[K[46;102H102,0-1[7C63%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m102 [0m[44;5H[K[45;1H[1m[33m103 [0m[1m  Query* query = &node->buffer_local.front ();                                                                     [0m[46;102H[K[46;102H103,1[9C64%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m103 [0m  Query* query = &node->buffer_local.front ();[44;51H[K[45;1H[1m[33m104 [0m[1m                                                                                                                   [0m[46;102H[K[46;102H104,0-1[7C65%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m104 [0m[44;5H[K[45;1H[1m[33m105 [0m[1m  [0m[1m[31mif[0m[1m (!node->process_query (query)) {                                                                              [0m[46;102H[K[46;102H105,1[9C66%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m105 [0m  [31mif[0m (!node->process_query (query)) {[44;42H[K[45;1H[1m[33m106 [0m[1m   node->buffer_neighbor.push (query);                                                                             [0m[46;102H[K[46;102H106,1[9C67%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m106 [0m   node->buffer_neighbor.push (query);[44;43H[K[45;1H[1m[33m107 [0m[1m   node->buffer_local.pop ();                                                                                      [0m[46;102H[K[46;102H107,1[9C68%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m107 [0m   node->buffer_local.pop ();  [44;36H[K[45;1H[1m[33m108 [0m[1m                                                                                                                   [0m[46;102H[K[46;102H108,0-1[7C69%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m108 [0m[44;5H[K[45;1H[1m[33m109 [0m[1m  } [0m[1m[31melse[0m[1m {                                                                                                         [0m[46;102H[K[46;102H109,1[9C70%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m109 [0m  } [31melse[0m {[44;15H[K[45;1H[1m[33m110 [0m[1m   node->buffer_local.pop ();                                                                                      [0m[46;102H[K[46;102H110,1[9C71%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m110 [0m   node->buffer_local.pop ();[44;34H[K[45;1H[1m[33m111 [0m[1m  }                                                                                                                [0m[46;102H[K[46;102H111,1[9C72%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m111 [0m  }[44;8H[K[45;1H[1m[33m112 [0m[1m  [0m[1m[31mdelete[0m[1m query;                                                                                                    [0m[46;102H[K[46;102H112,1[9C73%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m112 [0m  [31mdelete[0m query;[44;20H[K[45;1H[1m[33m113 [0m[1m }                                                                                                                 [0m[46;102H[K[46;102H113,1[9C75%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m113 [0m }[44;7H[K[45;1H[1m[33m114 [0m[1m pthread_exit ([0m[1m[35mEXIT_SUCCESS[0m[1m);                                                                                      [0m[46;102H[K[46;102H114,1[9C76%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m114 [0m pthread_exit ([12C);[44;34H[K[45;1H[1m[33m115 [0m[1m [0m[1m[31mreturn[0m[1m [0m[1m[35mNULL[0m[1m;                                                                                                      [0m[46;102H[K[46;102H115,1[9C77%[45;5H[34h[?25h[?25l[44;1H[1m[33m114 [0m[1m pthread_exit ([12C);                                                                                      [0m[45;1H[33m115 [0m [31mreturn[0m [4C;[45;18H[K[46;104H4[44;5H[34h[?25h[?25l[33m114 [0m pthread_exit ([12C);[44;34H[K[45;1H[1m[33m115 [0m[1m [0m[1m[31mreturn[0m[1m [4C;                                                                                                      [0m[46;104H5[45;5H[34h[?25h[?25l[44;1H[1m[33m114 [0m[1m pthread_exit ([12C);                                                                                      [0m[45;1H[33m115 [0m [31mreturn[0m [4C;[45;18H[K[46;104H4[44;5H[34h[?25h[?25l[33m114 [0m pthread_exit ([12C);[44;34H[K[45;1H[1m[33m115 [0m[1m [0m[1m[31mreturn[0m[1m [4C;                                                                                                      [0m[46;104H5[45;5H[34h[?25h[1;15H[1m+ s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[22;48H[46m{[45;5H}[0m[1m            [0m[46;117H8[45;5H[34h[?25h[?25l[46;102H[K[46;1H:[34h[?25hw[?25l"src/simulator/node.cc" 135L, 3443C written[58C115,1[9C78%[1;15H[1ms/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[46;102H[K[46;102H115,1[9C78%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[21;48H{[44;1H[33m115 [0m}[44;6H[K[45;1H[1m[33m116 [0m[1m                                                                                                                   [0m[46;1H[K[46;102H116,0-1[7C79%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m116 [0m[44;5H[K[45;1H[1m[33m117 [0m[1m[34mbool[0m[1m Node::process_query (Query* query) {                                                                          [0m[46;102H[K[46;102H117,1[9C80%[45;5H[34h[?25h[?25l[44;1H[1m[33m116 [0m[1m                                                                                                                   [0m[45;1H[33m117 [0m[4C Node::process_query (Query* query) {[45;46H[K[46;104H6,0-1[44;5H[34h[?25h[?25l[20;48H[46m{[0m[43;1H[1m[33m115 [0m[46m}[0m[1m                                                                                                                  [0m[44;1H[33m116 [0m[44;5H[K[46;104H5,1  [43;5H[34h[?25h[?25l[20;48H{[42;1H[1m[33m114 [0m[1m pthread_exit ([12C);                                                                                      [0m[43;1H[33m115 [0m}[43;6H[K[46;104H4[42;5H[34h[?25h[?25l[41;1H[1m[33m113 [0m[1m }                                                                                                                 [0m[42;1H[33m114 [0m pthread_exit ([12C);[42;34H[K[46;104H3[41;5H[34h[?25h[?25l[40;1H[1m[33m112 [0m[1m  [0m[1m[31mdelete[0m[1m query;                                                                                                    [0m[41;1H[33m113 [0m }[41;7H[K[46;104H2[40;5H[34h[?25h[?25l[39;1H[1m[33m111 [0m[1m  }                                                                                                                [0m[40;1H[33m112 [0m  [31mdelete[0m query;[40;20H[K[46;104H1[39;5H[34h[?25h[?25l[38;1H[1m[33m110 [0m[1m   node->buffer_local.pop ();                                                                                      [0m[39;1H[33m111 [0m  }[39;8H[K[46;104H0[38;5H[34h[?25h[?25l[37;1H[1m[33m109 [0m[1m  } [0m[1m[31melse[0m[1m {                                                                                                         [0m[38;1H[33m110 [0m   node->buffer_local.pop ();[38;34H[K[46;103H09[37;5H[34h[?25h[?25l[36;1H[1m[33m108 [0m[1m                                                                                                                   [0m[37;1H[33m109 [0m  } [31melse[0m {[37;15H[K[46;104H8,0-1[36;5H[34h[?25h[?25l[35;1H[1m[33m107 [0m[1m   node->buffer_local.pop ();                                                                                      [0m[36;1H[33m108 [0m[36;5H[K[46;104H7,1  [35;5H[34h[?25h[?25l[34;1H[1m[33m106 [0m[1m   node->buffer_neighbor.push (query);                                                                             [0m[35;1H[33m107 [0m   node->buffer_local.pop ();  [35;36H[K[46;104H6[34;5H[34h[?25h[?25l[33;1H[1m[33m105 [0m[1m  [0m[1m[31mif[0m[1m (!node->process_query (query)) {                                                                              [0m[34;1H[33m106 [0m   node->buffer_neighbor.push (query);[34;43H[K[46;104H5[33;5H[34h[?25h[?25l[32;1H[1m[33m104 [0m[1m                                                                                                                   [0m[33;1H[33m105 [0m  [31mif[0m (!node->process_query (query)) {[33;42H[K[46;104H4,0-1[32;5H[34h[?25h[?25l[31;1H[1m[33m103 [0m[1m  Query* query = &node->buffer_local.front ();                                                                     [0m[32;1H[33m104 [0m[32;5H[K[46;104H3,1  [31;5H[34h[?25h[?25l[30;1H[1m[33m102 [0m[1m                                                                                                                   [0m[31;1H[33m103 [0m  Query* query = &node->buffer_local.front ();[31;51H[K[46;104H2,0-1[30;5H[34h[?25h[?25l[29;1H[1m[33m101 [0m[1m   [0m[1m[31mcontinue[0m[1m;                                                                                                       [0m[30;1H[33m102 [0m[30;5H[K[46;104H1,1  [29;5H[34h[?25h[?25l[28;1H[1m[33m100 [0m[1m  [0m[1m[31mif[0m[1m (node->die_thread)                                                                                            [0m[29;1H[33m101 [0m   [31mcontinue[0m;[29;17H[K[46;104H0[28;5H[34h[?25h[?25l[27;1H[1m[33m 99 [0m[1m   pthread_mutex_lock (&node->lock_scheduler_empty);                                                               [0m[28;1H[33m100 [0m  [31mif[0m (node->die_thread)[28;28H[K[46;102H99,1 [27;5H[34h[?25h[?25l[26;1H[1m[33m 98 [0m[1m  [0m[1m[31mwhile[0m[1m (node->buffer_local.empty() && !node->die_thread)                                                          [0m[27;1H[33m 99 [0m   pthread_mutex_lock (&node->lock_scheduler_empty);[27;57H[K[46;103H8[26;5H[34h[?25h[?25l[25;1H[1m[33m 97 [0m[1m [0m[1m[31mwhile[0m[1m (node->die_thread != [4C || node->buffer_local.empty() != [4C) {                                          [0m[26;1H[33m 98 [0m  [31mwhile[0m (node->buffer_local.empty() && !node->die_thread) [26;63H[K[46;103H7[25;5H[34h[?25h[?25l[24;1H[1m[33m 96 [0m[1m                                                                                                                   [0m[25;1H[33m 97 [0m [31mwhile[0m (node->die_thread != [4C || node->buffer_local.empty() != [4C) {[25;78H[K[46;103H6,0-1[24;5H[34h[?25h[?25l[23;1H[1m[33m 95 [0m[1m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};                                                             [0m[24;1H[33m 96 [0m[24;5H[K[46;103H5,1  [23;5H[34h[?25h[?25l[22;1H[1m[33m 94 [0m[1m                                                                                                                   [0m[23;1H[33m 95 [0m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};[23;59H[K[46;103H4,0-1[22;5H[34h[?25h[?25l[33m 94 [0m[22;5H[K[23;1H[1m[33m 95 [0m[1m [8C* hitmiss_count[[1C] = {&hitCount, &missCount};                                                             [0m[46;103H5,1  [23;5H[34h[?25h[1;15H[1m+ s/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[44C[7m [0m[1;119H[4m[30m[47mX[?25l[24m[0m[23;6H[1m                                                     [0m[24;6H[31mwhile[0m (node->die_thread != [1m[35mtrue[0m || node->buffer_local.empty() != [1m[35mtrue[0m) {[25;6H [31mwhile[0m (node->buffer_local.empty() && !node->die_thread) [25;63H[K[26;7H pthread_mutex_lock (&node->lock_scheduler_empty);[26;57H[K[27;7H[31mif[0m (node->die_thread)[27;28H[K[28;7H [31mcontinue[0m;[28;17H[K[29;8H[K[30;7HQuery* query = &node->buffer_local.front ();[31;7H[K[32;7H[31mif[0m (!node->process_query (query)) {[33;7H node->buffer_neighbor.push (query);[34;21Hlocal.pop ();  [34;36H[K[35;8H[K[36;7H} [31melse[0m {[37;7H node->buffer_local.pop ();[38;7H}[38;8H[K[39;7H[31mdelete[0m query;[40;6H}[40;7H[K[41;6Hpthread_exit ([1m[35mEXIT_SUCCESS[0m);[42;5H}[42;6H[K[43;5H[K[44;5H[1m[34mbool[0m Node::process_query (Query* query) {[45;5H assert (query != [1m[35mNULL[0m);[45;30H[K[46;105H0-1[9C1[23;5H[34h[?25h[?25l[1C[1m[31mwhile[0m[1C[1m(node->die_thread !=[0m[1C[1m[35mtrue[0m[1C[1m|| node->buffer_local.empty() !=[0m[1C[1m[35mtrue[0m[1m) {[0m[24;6H [31mwhile[0m (node->buffer_local.empty() && !node->die_thread) [24;63H[K[25;7H pthread_mutex_lock (&node->lock_scheduler_empty);[25;57H[K[26;7H[31mif[0m (node->die_thread)[26;28H[K[27;7H [31mcontinue[0m;[27;17H[K[28;8H[K[29;7HQuery* query = &node->buffer_local.front ();[30;7H[K[31;7H[31mif[0m (!node->process_query (query)) {[32;7H node->buffer_neighbor.push (query);[33;21Hlocal.pop ();  [33;36H[K[34;8H[K[35;7H} [31melse[0m {[36;7H node->buffer_local.pop ();[37;7H}[37;8H[K[38;7H[31mdelete[0m query;[39;6H}[39;7H[K[40;6Hpthread_exit ([1m[35mEXIT_SUCCESS[0m);[41;5H}[41;6H[K[42;5H[K[43;5H[1m[34mbool[0m Node::process_query (Query* query) {[44;5H assert (query != [1m[35mNULL[0m);[44;30H[K[45;6H[K[46;105H2  [9C2[23;6H[34h[?25h[?25l[46;102H[K[46;1H:[34h[?25hw[?25l"src/simulator/node.cc" 133L, 3387C written[58C95,2[10C82%[1;15H[1ms/s/node.cc [0m[4m[30m[47m i/l/lru_map.hh  i/n/server.hh  i/n/socket.hh [24m[0m[7m  [44C [0m[1;119H[4m[30m[47mX[24m[0m[46;102H[K[46;102H95,2[10C82%[23;6H[34h[?25h[?25l[33m 95 [0m [31mwhile[0m (node->die_thread != [4C || node->buffer_local.empty() != [4C) {[23;78H[K[24;1H[1m[33m 96 [0m[1m  [0m[1m[31mwhile[0m[1m (node->buffer_local.empty() && !node->die_thread)                                                          [0m[46;103H6[24;6H[34h[?25h[?25l[33m 96 [0m  [31mwhile[0m (node->buffer_local.empty() && !node->die_thread) [24;63H[K[25;1H[1m[33m 97 [0m[1m   pthread_mutex_lock (&node->lock_scheduler_empty);                                                               [0m[46;103H7[25;6H[34h[?25h[?25l[33m 97 [0m   pthread_mutex_lock (&node->lock_scheduler_empty);[25;57H[K[26;1H[1m[33m 98 [0m[1m  [0m[1m[31mif[0m[1m (node->die_thread)                                                                                            [0m[46;103H8[26;6H[34h[?25h[?25l[33m 98 [0m  [31mif[0m (node->die_thread)[26;28H[K[27;1H[1m[33m 99 [0m[1m   [0m[1m[31mcontinue[0m[1m;                                                                                                       [0m[46;103H9[27;6H[34h[?25h[?25l[33m 99 [0m   [31mcontinue[0m;[27;17H[K[28;1H[1m[33m100 [0m[1m                                                                                                                   [0m[46;102H100,0-1[28;5H[34h[?25h[?25l[33m100 [0m[28;5H[K[29;1H[1m[33m101 [0m[1m  Query* query = &node->buffer_local.front ();                                                                     [0m[46;104H1,2  [29;6H[34h[?25h[?25l[33m101 [0m  Query* query = &node->buffer_local.front ();[29;51H[K[30;1H[1m[33m102 [0m[1m                                                                                                                   [0m[46;104H2,0-1[30;5H[34h[?25h[?25l[33m102 [0m[30;5H[K[31;1H[1m[33m103 [0m[1m  [0m[1m[31mif[0m[1m (!node->process_query (query)) {                                                                              [0m[46;104H3,2  [31;6H[34h[?25h[?25l[33m103 [0m  [31mif[0m (!node->process_query (query)) {[31;42H[K[32;1H[1m[33m104 [0m[1m   node->buffer_neighbor.push (query);                                                                             [0m[46;104H4[32;6H[34h[?25h[?25l[33m104 [0m   node->buffer_neighbor.push (query);[32;43H[K[33;1H[1m[33m105 [0m[1m   node->buffer_local.pop ();                                                                                      [0m[46;104H5[33;6H[34h[?25h[?25l[33m105 [0m   node->buffer_local.pop ();  [33;36H[K[34;1H[1m[33m106 [0m[1m                                                                                                                   [0m[46;104H6,0-1[34;5H[34h[?25h[?25l[33m106 [0m[34;5H[K[35;1H[1m[33m107 [0m[1m  } [0m[1m[31melse[0m[1m {                                                                                                         [0m[46;104H7,2  [35;6H[34h[?25h[?25l[34;1H[1m[33m106 [0m[1m                                                                                                                   [0m[35;1H[33m107 [0m  } [31melse[0m {[35;15H[K[46;104H6,0-1[34;5H[34h[?25h[?25l[33;1H[1m[33m105 [0m[1m   node->buffer_local.pop ();                                                                                      [0m[34;1H[33m106 [0m[34;5H[K[46;104H5,2  [33;6H[34h[?25h[?25l[32;1H[1m[33m104 [0m[1m   node->buffer_neighbor.push (query);                                                                             [0m[33;1H[33m105 [0m   node->buffer_local.pop ();  [33;36H[K[46;104H4[32;6H[34h[?25h[?25l[31;1H[1m[33m103 [0m[1m  [0m[1m[31mif[0m[1m (!node->process_query (query)) {                                                                              [0m[32;1H[33m104 [0m   node->buffer_neighbor.push (query);[32;43H[K[46;104H3[31;6H[34h[?25h[?25l[30;1H[1m[33m102 [0m[1m                                                                                                                   [0m[31;1H[33m103 [0m  [31mif[0m (!node->process_query (query)) {[31;42H[K[46;104H2,0-1[30;5H[34h[?25h[?25l[29;1H[1m[33m101 [0m[1m  Query* query = &node->buffer_local.front ();                                                                     [0m[30;1H[33m102 [0m[30;5H[K[46;104H1,2  [29;6H[34h[?25h[?25l[33m101 [0m  Query* query = &node->buffer_local.front ();[29;51H[K[30;1H[1m[33m102 [0m[1m                                                                                                                   [0m[46;104H2,0-1[30;5H[34h[?25h[?25l[33m102 [0m[30;5H[K[31;1H[1m[33m103 [0m[1m  [0m[1m[31mif[0m[1m (!node->process_query (query)) {                                                                              [0m[46;104H3,2  [31;6H[34h[?25h[?25l[33m103 [0m  [31mif[0m (!node->process_query (query)) {[31;42H[K[32;1H[1m[33m104 [0m[1m   node->buffer_neighbor.push (query);                                                                             [0m[46;104H4[32;6H[34h[?25h[?25l[33m104 [0m   node->buffer_neighbor.push (query);[32;43H[K[33;1H[1m[33m105 [0m[1m   node->buffer_local.pop ();                                                                                      [0m[46;104H5[33;6H[34h[?25h[?25l[33m105 [0m   node->buffer_local.pop ();  [33;36H[K[34;1H[1m[33m106 [0m[1m                                                                                                                   [0m[46;104H6,0-1[34;5H[34h[?25h[?25l[33m106 [0m[34;5H[K[35;1H[1m[33m107 [0m[1m  } [0m[1m[31melse[0m[1m {                                                                                                         [0m[46;104H7,2  [35;6H[34h[?25h[?25l[33m107 [0m  } [31melse[0m {[35;15H[K[36;1H[1m[33m108 [0m[1m   node->buffer_local.pop ();                                                                                      [0m[46;104H8[36;6H[34h[?25h[?25l[33m108 [0m   node->buffer_local.pop ();[36;34H[K[37;1H[1m[33m109 [0m[1m  }                                                                                                                [0m[46;104H9[37;6H[34h[?25h[?25l[33m109 [0m  }[37;8H[K[38;1H[1m[33m110 [0m[1m  [0m[1m[31mdelete[0m[1m query;                                                                                                    [0m[46;103H10[38;6H[34h[?25h[?25l[23;77H[46m{[0m[38;1H[33m110 [0m  [31mdelete[0m query;[38;20H[K[39;1H[1m[33m111 [0m[1m [0m[46m}[0m[1m                                                                                                                 [0m[46;104H1[39;6H[34h[?25h[?25l[23;77H{[38;1H[1m[33m110 [0m[1m  [0m[1m[31mdelete[0m[1m query;                                                                                                    [0m[39;1H[33m111 [0m }[39;7H[K[46;104H0[38;6H[34h[?25h[?25l[37;1H[1m[33m109 [0m[1m  }                                                                                                                [0m[38;1H[33m110 [0m  [31mdelete[0m query;[38;20H[K[46;103H09[37;6H[34h[?25h[?25l[46;1H[K[46;1H:[34h[?25hw[?25l"src/simulator/node.cc" 133L, 3387C written[58C109,2[9C82%[46;102H[K[46;102H109,2[9C82%[37;6H[34h[?25h[?25l[46;1H[1mrecording[0m[46;10H[K[46;102H109,2[9C82%[37;6H[34h[?25h[?25l[46;1H[K[46;102H109,2[9C82%[37;6H[34h[?25h[?25l[46;1H[1mrecording[0m[46;102H[K[46;102H109,2[9C82%[37;6H[34h[?25h[?25l[46;1H[K[46;102H109,2[9C82%[37;6H[34h[?25h[?25l[33m109 [0m  }[37;8H[K[38;1H[1m[33m110 [0m[1m  [0m[1m[31mdelete[0m[1m query;                                                                                                    [0m[46;103H10[38;6H[34h[?25h[?25l[23;77H[46m{[0m[38;1H[33m110 [0m  [31mdelete[0m query;[38;20H[K[39;1H[1m[33m111 [0m[1m [0m[46m}[0m[1m                                                                                                                 [0m[46;104H1[39;6H[34h[?25h[?25l[23;77H{[39;1H[33m111 [0m }[39;7H[K[40;1H[1m[33m112 [0m[1m pthread_exit ([12C);                                                                                      [0m[46;104H2[40;6H[34h[?25h[?25l[20;48H[46m{[0m[40;1H[33m112 [0m pthread_exit ([12C);[40;34H[K[41;1H[1m[33m113 [0m[46m}[0m[1m                                                                                                                  [0m[46;104H3,1[41;5H[34h[?25h[?25l[20;48H{[41;1H[33m113 [0m}[41;6H[K[42;1H[1m[33m114 [0m[1m                                                                                                                   [0m[46;104H4,0-1[42;5H[34h[?25h[?25l[33m114 [0m[42;5H[K[43;1H[1m[33m115 [0m[4C[1m Node::process_query (Query* query) {                                                                          [0m[46;104H5,2  [43;6H[34h[?25h[?25l[33m115 [0m[4C Node::process_query (Query* query) {[43;46H[K[44;1H[1m[33m116 [0m[1m assert (query != [4C);                                                                                           [0m[46;104H6[44;6H[34h[?25h[?25l[33m116 [0m assert (query != [4C);[44;29H[K[45;1H[1m[33m117 [0m[1m                                                                                                                   [0m[46;104H7,0-1[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m117 [0m[44;5H[K[45;1H[1m[33m118 [0m[1m [0m[1m[34mbool[0m[1m result;                                                                                                      [0m[46;102H[K[46;102H118,2[9C83%[45;6H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m118 [0m [4C result;[44;18H[K[45;1H[1m[33m119 [0m[1m query->setStartDate();                                                                                            [0m[46;102H[K[46;102H119,2[9C84%[45;6H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m119 [0m query->setStartDate();[44;28H[K[45;1H[1m[33m120 [0m[1m [0m[1m[31m//result = cache.match (static_cast<packet*> (query), hitmiss_count);[0m[1m                                             [0m[46;102H[K[46;102H120,2[9C85%[45;6H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m120 [0m [44;75H[K[45;1H[1m[33m121 [0m[1m query->setFinishedDate();                                                                                         [0m[46;102H[K[46;102H121,2[9C86%[45;6H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m121 [0m query->setFinishedDate();[44;31H[K[45;1H[1m[33m122 [0m[1m                                                                                                                   [0m[46;102H[K[46;102H122,0-1[7C87%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m122 [0m[44;5H[K[45;1H[1m[33m123 [0m[1m queryProcessed++;                                                                                                 [0m[46;102H[K[46;102H123,2[9C88%[45;6H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m123 [0m queryProcessed++;[44;23H[K[45;1H[1m[33m124 [0m[1m TotalExecTime += query->getExecTime();                                                                            [0m[46;102H[K[46;102H124,2[9C89%[45;6H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m124 [0m TotalExecTime += query->getExecTime();[44;44H[K[45;1H[1m[33m125 [0m[1m TotalWaitTime += query->getWaitTime();                                                                            [0m[46;102H[K[46;102H125,2[9C91%[45;6H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m125 [0m TotalWaitTime += query->getWaitTime();[44;44H[K[45;1H[1m[33m126 [0m[1m [0m[1m[31mreturn[0m[1m result;                                                                                                    [0m[46;102H[K[46;102H126,2[9C92%[45;6H[34h[?25h[?25l[2;45r[45;1H
[1;46r[33;45H[46m{[0m[44;1H[33m126 [0m [31mreturn[0m result;[44;20H[K[45;1H[1m[33m127 [0m[46m}[0m[1m                                                                                                                  [0m[46;102H[K[46;102H127,1[9C93%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[32;45H{[44;1H[33m127 [0m}[44;6H[K[45;1H[1m[33m128 [0m[1m                                                                                                                   [0m[46;102H[K[46;102H128,0-1[7C94%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m128 [0m[44;5H[K[45;1H[1m[33m129 [0m[1m[31m// ------------------------------------------------------ //[0m[1m                                                       [0m[46;102H[K[46;102H129,2[9C95%[45;6H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m129 [0m[44;65H[K[45;1H[1m[33m130 [0m[1m[34mint[0m[1m main ([0m[1m[34mint[0m[1m argc, [0m[1m[34mchar[0m[1m** argv) {                                                                                 [0m[46;102H[K[46;102H130,2[9C96%[45;6H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m130 [0m[3C main ([3C argc, [4C** argv) {[44;39H[K[45;1H[1m[33m131 [0m[1m                                                                                                                   [0m[46;102H[K[46;102H131,0-1[7C97%[45;5H[34h[?25h[?25l[2;45r[45;1H
[1;46r[44;1H[33m131 [0m[44;5H[K[45;1H[1m[33m132 [0m[1m [0m[1m[31mreturn[0m[1m [0m[1m[35mEXIT_SUCCESS[0m[1m;                                                                                              [0m[46;102H[K[46;102H132,2[9C98%[45;6H[34h[?25h[?25l[2;45r[45;1H
[1;46r[42;38H[46m{[0m

[33m132 [0m [31mreturn[0m [12C;[44;26H[K[45;1H[1m[33m133 [0m[46m}[0m[1m                                                                                                                  [0m[46;102H[K[46;102H133,1[9CBot[45;5H[34h[?25h[?25l[42;38H{

[1m[33m132 [0m[1m [0m[1m[31mreturn[0m[1m [12C;                                                                                              [0m[45;1H[33m133 [0m}[45;6H[K[46;104H2,2[44;6H[34h[?25h[?25l[43;1H[1m[33m131 [0m[1m                                                                                                                   [0m[44;1H[33m132 [0m [31mreturn[0m [12C;[44;26H[K[46;104H1,0-1[43;5H[34h[?25h[?25l[42;1H[1m[33m130 [0m[3C[1m main ([3C argc, [4C** argv) {                                                                                 [0m[43;1H[33m131 [0m[43;5H[K[46;104H0,2  [42;6H[34h[?25h[?25l[41;1H[1m[33m129 [0m[60C[1m                                                       [0m[42;1H[33m130 [0m[3C main ([3C argc, [4C** argv) {[42;39H[K[46;103H29[41;6H[34h[?25h[?25l[40;1H[1m[33m128 [0m[1m                                                                                                                   [0m[41;1H[33m129 [0m[41;65H[K[46;104H8,0-1[40;5H[34h[?25h[?25l[27;45H[46m{[0m[39;1H[1m[33m127 [0m[46m}[0m[1m                                                                                                                  [0m[40;1H[33m128 [0m[40;5H[K[46;104H7,1  [39;5H[34h[?25h[?25l[27;45H{[38;1H[1m[33m126 [0m[1m [0m[1m[31mreturn[0m[1m result;                                                                                                    [0m[39;1H[33m127 [0m}[39;6H[K[46;104H6,2[38;6H[34h[?25h[?25l[37;1H[1m[33m125 [0m[1m TotalWaitTime += query->getWaitTime();                                                                            [0m[38;1H[33m126 [0m [31mreturn[0m result;[38;20H[K[46;104H5[37;6H[34h[?25h[?25l[36;1H[1m[33m124 [0m[1m TotalExecTime += query->getExecTime();                                                                            [0m[37;1H[33m125 [0m TotalWaitTime += query->getWaitTime();[37;44H[K[46;104H4[36;6H[34h[?25h[?25l[35;1H[1m[33m123 [0m[1m queryProcessed++;                                                                                                 [0m[36;1H[33m124 [0m TotalExecTime += query->getExecTime();[36;44H[K[46;104H3[35;6H[34h[?25h[?25l[34;1H[1m[33m122 [0m[1m                                                                                                                   [0m[35;1H[33m123 [0m queryProcessed++;[35;23H[K[46;104H2,0-1[34;5H[34h[?25h[?25l[33;1H[1m[33m121 [0m[1m query->setFinishedDate();                                                                                         [0m[34;1H[33m122 [0m[34;5H[K[46;104H1,2  [33;6H[34h[?25h[?25l[32;1H[1m[33m120 [0m[1m [69C                                             [0m[33;1H[33m121 [0m query->setFinishedDate();[33;31H[K[46;104H0[32;6H[34h[?25h